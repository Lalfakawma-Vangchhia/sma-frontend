{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\THORSIGNIA\\\\Projects\\\\automation-dash\\\\frontend\\\\src\\\\components\\\\igBulkComposer.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useNotifications } from '../contexts/NotificationContext';\nimport apiClient from '../services/apiClient';\nimport { fileToBase64 } from './FacebookUtils';\nimport './igBulkComposer.css';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction IgBulkComposer({\n  selectedAccount,\n  onClose\n}) {\n  _s();\n  var _mediaPreviewModal$me, _mediaPreviewModal$me2;\n  const {\n    user\n  } = useAuth();\n  const {\n    addNotification\n  } = useNotifications();\n\n  // Strategy step state\n  const [strategyData, setStrategyData] = useState({\n    promptTemplate: '',\n    customStrategyTemplate: '',\n    brandName: '',\n    hookIdea: '',\n    features: '',\n    location: '',\n    phone: '',\n    website: '',\n    callToAction: '',\n    imagePrompt: '',\n    startDate: '',\n    endDate: '',\n    frequency: 'daily',\n    customCron: '',\n    timeSlot: '09:00'\n  });\n\n  // Composer grid state\n  const [composerRows, setComposerRows] = useState([]);\n  const [selectedRows, setSelectedRows] = useState([]);\n  const [editingCell, setEditingCell] = useState(null);\n  const [dragStartRow, setDragStartRow] = useState(null);\n\n  // Post type state\n  const [postType, setPostType] = useState('photo'); // photo, carousel, reel\n  const [carouselImageCount, setCarouselImageCount] = useState(2);\n\n  // Calendar preview state\n  const [currentMonth, setCurrentMonth] = useState(new Date());\n\n  // Queue state\n  const [isScheduling, setIsScheduling] = useState(false);\n  const [scheduleProgress, setScheduleProgress] = useState(0);\n\n  // Expanded view state\n  const [expandedCaption, setExpandedCaption] = useState(null);\n  const [mediaPreviewModal, setMediaPreviewModal] = useState(null);\n  const [carouselReorderModal, setCarouselReorderModal] = useState(null);\n  const [thumbnailPreviewModal, setThumbnailPreviewModal] = useState(null);\n  const [scheduledGridRows, setScheduledGridRows] = useState([]);\n  const navigate = useNavigate();\n\n  // Prompt templates for Instagram\n  const [promptTemplates] = useState([{\n    id: 1,\n    name: 'Daily Inspiration',\n    prompt: 'Share an inspiring quote or motivational message for your Instagram audience'\n  }, {\n    id: 2,\n    name: 'Product Showcase',\n    prompt: 'Highlight your best products with engaging descriptions and hashtags'\n  }, {\n    id: 3,\n    name: 'Behind the Scenes',\n    prompt: 'Share behind-the-scenes content about your business or team'\n  }, {\n    id: 4,\n    name: 'Customer Spotlight',\n    prompt: 'Feature customer testimonials or success stories'\n  }, {\n    id: 5,\n    name: 'Industry Tips',\n    prompt: 'Share valuable tips and insights related to your industry'\n  }, {\n    id: 6,\n    name: 'Lifestyle Content',\n    prompt: 'Share lifestyle content that resonates with your audience'\n  }, {\n    id: 7,\n    name: 'User Generated Content',\n    prompt: 'Repost and credit amazing content from your community'\n  }, {\n    id: 8,\n    name: 'Custom',\n    prompt: 'custom'\n  }]);\n  const gridRef = useRef(null);\n  const carouselInputRefs = useRef({});\n\n  // Initialize composer with default rows\n  useEffect(() => {\n    if (strategyData.startDate && strategyData.frequency) {\n      generateInitialRows();\n    }\n    // eslint-disable-next-line\n  }, [strategyData.startDate, strategyData.endDate, strategyData.frequency, strategyData.timeSlot]);\n  const generateInitialRows = () => {\n    if (!strategyData.startDate) return;\n    const startDateParts = strategyData.startDate.split('-');\n    const startDate = new Date(parseInt(startDateParts[0]), parseInt(startDateParts[1]) - 1, parseInt(startDateParts[2]));\n    let endDate = null;\n    if (strategyData.endDate) {\n      const endDateParts = strategyData.endDate.split('-');\n      endDate = new Date(parseInt(endDateParts[0]), parseInt(endDateParts[1]) - 1, parseInt(endDateParts[2]));\n    }\n    const rows = [];\n    const maxDays = 30; // Instagram's 30-day limit\n    let currentDate = new Date(startDate);\n    let dayCount = 0;\n    let rowCount = 0;\n    if (!endDate) {\n      // Format as YYYY-MM-DD using local date parts (same as multi-day logic)\n      const yyyy = startDate.getFullYear();\n      const mm = String(startDate.getMonth() + 1).padStart(2, '0');\n      const dd = String(startDate.getDate()).padStart(2, '0');\n      const formattedDate = `${yyyy}-${mm}-${dd}`;\n      rows.push({\n        id: `row-0`,\n        caption: '',\n        mediaFile: null,\n        mediaPreview: null,\n        thumbnailFile: null,\n        thumbnailPreview: null,\n        postType: postType.toLowerCase(),\n        carouselImageCount: carouselImageCount,\n        carouselImages: [],\n        scheduledDate: formattedDate,\n        scheduledTime: strategyData.timeSlot,\n        status: 'draft',\n        isSelected: false\n      });\n    } else {\n      // Fix: include the end date by using <= in the comparison\n      while (dayCount < maxDays && rowCount < 30) {\n        if (endDate && currentDate > endDate) break;\n        const maxAllowedDate = new Date(Date.now() + 30 * 24 * 60 * 60 * 1000);\n        if (currentDate > maxAllowedDate) break;\n        let shouldInclude = false;\n        switch (strategyData.frequency) {\n          case 'daily':\n            shouldInclude = true;\n            break;\n          case 'weekly':\n            shouldInclude = currentDate.getDay() === startDate.getDay();\n            break;\n          case 'monthly':\n            shouldInclude = currentDate.getDate() === startDate.getDate();\n            break;\n          case 'custom':\n            shouldInclude = true;\n            break;\n          default:\n            shouldInclude = true;\n        }\n        if (shouldInclude) {\n          // Format as YYYY-MM-DD using local date parts\n          const yyyy = currentDate.getFullYear();\n          const mm = String(currentDate.getMonth() + 1).padStart(2, '0');\n          const dd = String(currentDate.getDate()).padStart(2, '0');\n          const formattedDate = `${yyyy}-${mm}-${dd}`;\n          rows.push({\n            id: `row-${rowCount}`,\n            caption: '',\n            mediaFile: null,\n            mediaPreview: null,\n            thumbnailFile: null,\n            thumbnailPreview: null,\n            postType: postType.toLowerCase(),\n            carouselImageCount: carouselImageCount,\n            carouselImages: [],\n            scheduledDate: formattedDate,\n            scheduledTime: strategyData.timeSlot,\n            status: 'draft',\n            isSelected: false\n          });\n          rowCount++;\n        }\n        // Fix: increment date at the end, and break if we've reached the end date\n        if (endDate && currentDate.getTime() === endDate.getTime()) break;\n        currentDate.setDate(currentDate.getDate() + 1);\n        dayCount++;\n      }\n    }\n    setComposerRows(rows);\n  };\n  const handleStrategyChange = (field, value) => {\n    setStrategyData(prev => {\n      const newData = {\n        ...prev,\n        [field]: value\n      };\n      // If start date is changed and end date is before it, clear end date\n      if (field === 'startDate' && prev.endDate && value > prev.endDate) {\n        newData.endDate = '';\n      }\n      return newData;\n    });\n\n    // If prompt template is selected, apply it to all rows\n    if (field === 'promptTemplate' && value && value !== 'custom') {\n      setComposerRows(prev => prev.map(row => ({\n        ...row,\n        caption: value\n      })));\n    }\n  };\n\n  // Update post type for all rows\n  const handlePostTypeChange = newPostType => {\n    setPostType(newPostType);\n    setComposerRows(prev => prev.map(row => ({\n      ...row,\n      postType: newPostType.toLowerCase(),\n      carouselImageCount: newPostType === 'carousel' ? carouselImageCount : null,\n      carouselImages: newPostType === 'carousel' ? row.carouselImages || [] : [],\n      // Clear media for photo/reel when switching to carousel\n      mediaFile: newPostType === 'carousel' ? null : row.mediaFile,\n      mediaPreview: newPostType === 'carousel' ? null : row.mediaPreview,\n      // Clear thumbnail when switching away from reel\n      thumbnailFile: newPostType === 'reel' ? row.thumbnailFile : null,\n      thumbnailPreview: newPostType === 'reel' ? row.thumbnailPreview : null\n    })));\n  };\n\n  // Update carousel image count for all rows\n  const handleCarouselImageCountChange = newCount => {\n    setCarouselImageCount(newCount);\n    setComposerRows(prev => prev.map(row => ({\n      ...row,\n      carouselImageCount: row.postType === 'carousel' ? newCount : row.carouselImageCount\n    })));\n  };\n  const handleRowSelect = rowId => {\n    setSelectedRows(prev => prev.includes(rowId) ? prev.filter(id => id !== rowId) : [...prev, rowId]);\n  };\n  const handleSelectAll = () => {\n    if (selectedRows.length === composerRows.length) {\n      setSelectedRows([]);\n    } else {\n      setSelectedRows(composerRows.map(row => row.id));\n    }\n  };\n  const handleCellEdit = (rowId, field, value) => {\n    setComposerRows(prev => prev.map(row => row.id === rowId ? {\n      ...row,\n      [field]: field === 'postType' ? value.toLowerCase() : value,\n      status: (() => {\n        // For carousel posts, check if we have enough images\n        if (field === 'postType' && value.toLowerCase() === 'carousel') {\n          return 'draft'; // Reset status when switching to carousel\n        }\n\n        // For carousel posts, validate image count\n        if (row.postType === 'carousel') {\n          const hasCaption = (row.caption || '').trim();\n          const hasEnoughImages = (row.carouselImages || []).length >= 2;\n          return hasCaption && hasEnoughImages ? 'ready' : 'draft';\n        }\n\n        // For other post types, use existing logic\n        if (field === 'caption' || field === 'mediaFile' || field === 'mediaPreview') {\n          const hasCaption = field === 'caption' ? value.trim() : (row.caption || '').trim();\n          const hasMedia = field === 'mediaFile' ? value : row.mediaFile || row.mediaPreview;\n          return hasCaption && hasMedia ? 'ready' : 'draft';\n        }\n        return row.status;\n      })()\n    } : row));\n  };\n  const handleMediaUpload = async (rowId, event) => {\n    const file = event.target.files[0];\n    if (!file) return;\n\n    // Find the row to determine post type\n    const row = composerRows.find(r => r.id === rowId);\n    if (!row) return;\n\n    // --- REELS VIDEO UPLOAD LOGIC ---\n    if (row.postType === 'reel') {\n      alert('Your video is converted to: 1080x1920 as instagram policy.');\n      // Proceed to upload to backend as before...\n    }\n\n    // --- PHOTO/CAROUSEL LOGIC (unchanged) ---\n    const reader = new FileReader();\n    reader.onload = e => {\n      setComposerRows(prev => prev.map(row => row.id === rowId ? {\n        ...row,\n        mediaFile: file,\n        mediaPreview: e.target.result,\n        status: (row.caption || '').trim() ? 'ready' : 'draft'\n      } : row));\n    };\n    reader.readAsDataURL(file);\n  };\n  const handleGenerateMedia = async rowId => {\n    try {\n      const row = composerRows.find(r => r.id === rowId);\n      if (!row || !(row.caption || '').trim()) {\n        alert('Please add a caption first to generate an image.');\n        return;\n      }\n      console.log(`Generating image for row ${rowId} with caption: ${row.caption.substring(0, 50)}...`);\n\n      // Truncate caption to 500 characters for image generation\n      const imagePrompt = row.caption.trim().substring(0, 500);\n      console.log(`Using image prompt (truncated): ${imagePrompt.substring(0, 100)}...`);\n      const response = await apiClient.generateInstagramImage(imagePrompt, 'feed');\n      if (response.success && response.data && response.data.image_url) {\n        console.log(`Successfully generated image for row ${rowId}:`, response.data.image_url);\n        setComposerRows(prev => prev.map(r => r.id === rowId ? {\n          ...r,\n          mediaFile: null,\n          mediaPreview: response.data.image_url,\n          status: (r.caption || '').trim() ? 'ready' : 'draft'\n        } : r));\n      } else {\n        console.log(`Failed to generate image for row ${rowId}:`, response);\n        alert('Failed to generate image. Please try again.');\n      }\n    } catch (error) {\n      console.error(`Error generating image for row ${rowId}:`, error);\n      alert('Failed to generate image. Please try again.');\n    }\n  };\n  const handleGenerateAllCaptions = async () => {\n    if (selectedRows.length === 0) {\n      alert('Please select at least one row to generate captions for.');\n      return;\n    }\n    if (!strategyData.promptTemplate) {\n      alert('Please select a strategy template first.');\n      return;\n    }\n    setIsScheduling(true);\n    setScheduleProgress(0);\n    try {\n      const selectedComposerRows = composerRows.filter(row => selectedRows.includes(row.id));\n      const captions = [];\n\n      // Create the base prompt based on the selected template type\n      let prompt = '';\n      if (strategyData.promptTemplate === 'custom') {\n        // Build a detailed prompt for custom templates\n        prompt = `\n          Brand Name: ${strategyData.brandName || 'Not specified'}\n          Hook Idea: ${strategyData.hookIdea || 'Not specified'}\n          Key Features: ${strategyData.features || 'Not specified'}\n          Location: ${strategyData.location || 'Not specified'}\n          Phone: ${strategyData.phone || 'Not specified'}\n          Website: ${strategyData.website || 'Not specified'}\n          Call to Action: ${strategyData.callToAction || 'Not specified'}\n          Image Prompt: ${strategyData.imagePrompt || 'Not specified'}\n          \n          Custom Template:\n          ${strategyData.customStrategyTemplate || ''}\n        `;\n      } else {\n        // Use the selected predefined template\n        const selectedTemplate = promptTemplates.find(t => t.prompt === strategyData.promptTemplate);\n        if (!selectedTemplate) {\n          alert('Invalid strategy template selected.');\n          setIsScheduling(false);\n          return;\n        }\n        prompt = selectedTemplate.prompt;\n      }\n\n      // Generate captions for each selected row\n      for (let i = 0; i < selectedComposerRows.length; i++) {\n        try {\n          const row = selectedComposerRows[i];\n          const context = {\n            scheduledDate: row.scheduledDate\n            // Add any other context you want to include\n          };\n\n          // Add context to the prompt\n          const fullPrompt = `${prompt}\\n\\nContext: ${JSON.stringify(context, null, 2)}`;\n          const captionResponse = await apiClient.generateInstagramCaption(fullPrompt);\n          if (captionResponse.success) {\n            captions.push({\n              content: captionResponse.content || captionResponse.generated_text || 'No content generated',\n              context: context.scheduledDate,\n              success: true\n            });\n          } else {\n            console.error('Caption generation failed:', captionResponse.error);\n            captions.push({\n              content: `Failed to generate caption for: ${context.scheduledDate}`,\n              context: context.scheduledDate,\n              success: false,\n              error: captionResponse.error || 'Unknown error'\n            });\n          }\n        } catch (error) {\n          console.error('Error generating caption:', error);\n          captions.push({\n            content: `Error generating caption for: ${selectedComposerRows[i].scheduledDate}`,\n            context: selectedComposerRows[i].scheduledDate,\n            success: false,\n            error: error.message\n          });\n        }\n\n        // Update progress\n        setScheduleProgress(Math.round((i + 1) / selectedComposerRows.length * 100));\n      }\n\n      // Update the rows with generated captions\n      setComposerRows(prev => prev.map(row => {\n        if (!selectedRows.includes(row.id)) return row;\n        const caption = captions.find(c => c.context === row.scheduledDate);\n        if (caption && caption.success) {\n          return {\n            ...row,\n            caption: caption.content,\n            status: 'ready'\n          };\n        }\n        return row;\n      }));\n\n      // Show success/failure summary\n      const successCount = captions.filter(c => c.success).length;\n      const failedCount = captions.length - successCount;\n      let message = '';\n      if (successCount > 0 && failedCount === 0) {\n        message = `Successfully generated captions for ${successCount} ${successCount === 1 ? 'post' : 'posts'}.`;\n      } else if (successCount > 0) {\n        message = `Generated ${successCount} captions successfully, but failed to generate ${failedCount}.`;\n      } else {\n        message = 'Failed to generate any captions. Please try again.';\n      }\n      alert(message);\n    } catch (error) {\n      console.error('Unexpected error in handleGenerateAllCaptions:', error);\n      alert('An unexpected error occurred while generating captions. Please try again.');\n    } finally {\n      setIsScheduling(false);\n      setScheduleProgress(0);\n    }\n  };\n  const handleGenerateAllImages = async () => {\n    if (selectedRows.length === 0) {\n      alert('Please select at least one row to generate images.');\n      return;\n    }\n    setIsScheduling(true);\n    setScheduleProgress(0);\n    try {\n      const selectedComposerRows = composerRows.filter(row => selectedRows.includes(row.id));\n      let successCount = 0;\n      let errorCount = 0;\n      for (let i = 0; i < selectedComposerRows.length; i++) {\n        const row = selectedComposerRows[i];\n        if (!row.caption || !(row.caption || '').trim()) {\n          console.log(`Skipping image generation for row ${row.id} - no caption available`);\n          continue;\n        }\n        try {\n          console.log(`Generating image for row ${row.id} with caption: ${row.caption.substring(0, 50)}...`);\n\n          // Truncate caption to 500 characters for image generation\n          const imagePrompt = row.caption.trim().substring(0, 500);\n          console.log(`Using image prompt (truncated): ${imagePrompt.substring(0, 100)}...`);\n\n          // Generate image using Stability AI with the caption as prompt\n          const response = await apiClient.generateInstagramImage(imagePrompt, 'feed');\n          if (response.success && response.data && response.data.image_url) {\n            console.log(`Successfully generated image for row ${row.id}:`, response.data.image_url);\n            setComposerRows(prev => prev.map(r => r.id === row.id ? {\n              ...r,\n              mediaFile: null,\n              mediaPreview: response.data.image_url,\n              status: (r.caption || '').trim() ? 'ready' : 'draft'\n            } : r));\n            successCount++;\n          } else {\n            console.log(`Failed to generate image for row ${row.id}:`, response);\n            errorCount++;\n          }\n        } catch (error) {\n          console.error(`Error generating image for row ${row.id}:`, error);\n          errorCount++;\n        }\n      }\n      if (successCount > 0) {\n        alert(`Image generation completed! Successfully generated ${successCount} images${errorCount > 0 ? `, ${errorCount} failed` : ''}`);\n      } else {\n        alert('Failed to generate any images. Please try again.');\n      }\n    } catch (error) {\n      console.error('Error in bulk image generation:', error);\n      alert('Failed to generate images. Please try again.');\n    } finally {\n      setIsScheduling(false);\n      setScheduleProgress(0);\n    }\n  };\n  const handleExpandCaption = rowId => {\n    const row = composerRows.find(r => r.id === rowId);\n    if (row) setExpandedCaption(row);\n  };\n  const handleViewMedia = rowId => {\n    const row = composerRows.find(r => r.id === rowId);\n    if (row && (row.mediaPreview || row.mediaFile)) setMediaPreviewModal(row);\n  };\n  const handleSaveExpandedCaption = (rowId, newCaption) => {\n    setComposerRows(prev => prev.map(row => row.id === rowId ? {\n      ...row,\n      caption: newCaption,\n      status: (newCaption || '').trim() && (row.mediaFile || row.mediaPreview) ? 'ready' : 'draft'\n    } : row));\n    setExpandedCaption(null);\n  };\n  const handleThumbnailUpload = async (rowId, event) => {\n    const file = event.target.files[0];\n    if (!file) return;\n\n    // Validate file type\n    if (!file.type.startsWith('image/')) {\n      alert('Please select an image file for the thumbnail.');\n      return;\n    }\n\n    // Show loading state\n    setComposerRows(prev => prev.map(row => row.id === rowId ? {\n      ...row,\n      thumbnailUploading: true\n    } : row));\n    try {\n      console.log(`📤 Uploading thumbnail for row ${rowId}: ${file.name}`);\n\n      // Upload thumbnail to Cloudinary via backend\n      const uploadResponse = await apiClient.uploadThumbnailToCloudinary(file);\n      if (uploadResponse && uploadResponse.success && uploadResponse.data && uploadResponse.data.url) {\n        console.log(`✅ Thumbnail uploaded successfully: ${uploadResponse.data.url}`);\n\n        // Update row with Cloudinary URL\n        setComposerRows(prev => prev.map(row => row.id === rowId ? {\n          ...row,\n          thumbnailFile: null,\n          // Clear file since we have URL now\n          thumbnailPreview: uploadResponse.data.url,\n          // Use Cloudinary URL\n          thumbnailUrl: uploadResponse.data.url,\n          // Store Cloudinary URL\n          thumbnailUploading: false\n        } : row));\n        alert('Thumbnail uploaded successfully! It will be optimized for Instagram reel cover image requirements.');\n      } else {\n        console.error(`❌ Failed to upload thumbnail:`, uploadResponse);\n        alert('Failed to upload thumbnail. Please try again.');\n\n        // Clear loading state\n        setComposerRows(prev => prev.map(row => row.id === rowId ? {\n          ...row,\n          thumbnailUploading: false\n        } : row));\n      }\n    } catch (error) {\n      console.error('Error uploading thumbnail:', error);\n      alert(`Failed to upload thumbnail: ${error.message}`);\n\n      // Clear loading state\n      setComposerRows(prev => prev.map(row => row.id === rowId ? {\n        ...row,\n        thumbnailUploading: false\n      } : row));\n    }\n  };\n  const handleRemoveThumbnail = rowId => {\n    setComposerRows(prev => prev.map(row => row.id === rowId ? {\n      ...row,\n      thumbnailFile: null,\n      thumbnailPreview: null,\n      thumbnailUrl: null // Clear Cloudinary URL as well\n    } : row));\n  };\n  const handleRemoveMedia = rowId => {\n    setComposerRows(prev => prev.map(row => row.id === rowId ? {\n      ...row,\n      mediaFile: null,\n      mediaPreview: null,\n      thumbnailFile: null,\n      thumbnailPreview: null,\n      carouselImages: row.postType === 'carousel' ? [] : null,\n      status: (row.caption || '').trim() ? 'draft' : 'draft'\n    } : row));\n  };\n  const handleGenerateCarousel = async rowId => {\n    try {\n      const row = composerRows.find(r => r.id === rowId);\n      if (!row || !(row.caption || '').trim()) {\n        alert('Please add a caption first to generate carousel images.');\n        return;\n      }\n      console.log(`Generating carousel for row ${rowId} with caption: ${row.caption.substring(0, 50)}...`);\n      const imagePrompt = row.caption.trim().substring(0, 500);\n      const imageCount = row.carouselImageCount || 3;\n      if (imageCount < 2 || imageCount > 7) {\n        alert('Carousel must have between 2 and 7 images.');\n        return;\n      }\n      console.log(`🎨 Generating ${imageCount} carousel images with prompt: ${imagePrompt}`);\n      const response = await apiClient.generateInstagramCarousel(imagePrompt, imageCount);\n      if (response.success && response.image_urls && response.image_urls.length >= 2) {\n        console.log(`Successfully generated carousel for row ${rowId}:`, response.image_urls);\n        setComposerRows(prev => prev.map(r => r.id === rowId ? {\n          ...r,\n          carouselImages: response.image_urls,\n          status: (() => {\n            const hasCaption = (r.caption || '').trim();\n            const hasEnoughImages = response.image_urls.length >= 2;\n            return hasCaption && hasEnoughImages ? 'ready' : 'draft';\n          })()\n        } : r));\n      } else {\n        console.log(`Failed to generate carousel for row ${rowId}:`, response);\n        const errorMsg = response.error || 'Failed to generate enough carousel images. Please try again.';\n        alert(`Failed to generate carousel: ${errorMsg}`);\n      }\n    } catch (error) {\n      console.error(`Error generating carousel for row ${rowId}:`, error);\n      alert('Error generating carousel images. Please try again.');\n    }\n  };\n  const handleCarouselUpload = async (rowId, event) => {\n    const files = Array.from(event.target.files);\n    if (files.length === 0) return;\n    const row = composerRows.find(r => r.id === rowId);\n    const maxImages = row.carouselImageCount || 2;\n    const minImages = 2;\n    if (files.length < minImages) {\n      alert(`Please select at least ${minImages} images for a carousel post.`);\n      return;\n    }\n    if (files.length > maxImages) {\n      alert(`Please select only ${maxImages} images for this carousel.`);\n      return;\n    }\n    try {\n      console.log(`🖼️ Uploading ${files.length} carousel images for row ${rowId}`);\n      const imageUrls = [];\n      for (let i = 0; i < files.length; i++) {\n        const file = files[i];\n\n        // Validate file type\n        if (!file.type.startsWith('image/')) {\n          alert(`File ${file.name} is not an image. Please select only image files.`);\n          continue;\n        }\n        console.log(`📤 Uploading carousel image ${i + 1}/${files.length}: ${file.name}`);\n\n        // Upload to Cloudinary\n        const uploadResponse = await apiClient.uploadImageToCloudinary(file);\n        if (uploadResponse && uploadResponse.success && uploadResponse.data && uploadResponse.data.url) {\n          imageUrls.push(uploadResponse.data.url);\n          console.log(`✅ Carousel image ${i + 1} uploaded: ${uploadResponse.data.url}`);\n        } else {\n          console.error(`❌ Failed to upload carousel image ${i + 1}:`, uploadResponse);\n          alert(`Failed to upload image ${file.name}. Please try again.`);\n          return;\n        }\n      }\n      if (imageUrls.length >= minImages) {\n        setComposerRows(prev => prev.map(r => r.id === rowId ? {\n          ...r,\n          carouselImages: imageUrls,\n          status: (() => {\n            const hasCaption = (r.caption || '').trim();\n            const hasEnoughImages = imageUrls.length >= 2;\n            return hasCaption && hasEnoughImages ? 'ready' : 'draft';\n          })()\n        } : r));\n        console.log(`✅ Successfully uploaded ${imageUrls.length} carousel images for row ${rowId}`);\n      } else {\n        alert(`Please upload at least ${minImages} images for a carousel post.`);\n      }\n\n      // Clear the file input\n      if (carouselInputRefs.current[rowId]) {\n        carouselInputRefs.current[rowId].value = '';\n      }\n    } catch (error) {\n      console.error('Error processing carousel upload:', error);\n      alert('Error uploading carousel images. Please try again.');\n    }\n  };\n\n  // New handler functions for enhanced media functionality\n  const handleViewCarouselImage = (rowId, imageIndex) => {\n    const row = composerRows.find(r => r.id === rowId);\n    if (row && row.carouselImages && row.carouselImages[imageIndex]) {\n      setMediaPreviewModal({\n        ...row,\n        mediaPreview: row.carouselImages[imageIndex],\n        mediaType: 'carousel-image',\n        imageIndex: imageIndex\n      });\n    }\n  };\n  const handleRemoveCarouselImage = (rowId, imageIndex) => {\n    setComposerRows(prev => prev.map(r => r.id === rowId ? {\n      ...r,\n      carouselImages: r.carouselImages.filter((_, index) => index !== imageIndex),\n      status: (() => {\n        const newImages = r.carouselImages.filter((_, index) => index !== imageIndex);\n        const hasCaption = (r.caption || '').trim();\n        const hasEnoughImages = newImages.length >= 2;\n        return hasCaption && hasEnoughImages ? 'ready' : 'draft';\n      })()\n    } : r));\n    console.log(`🗑️ Removed carousel image ${imageIndex} from row ${rowId}`);\n  };\n  const handleViewCarousel = rowId => {\n    const row = composerRows.find(r => r.id === rowId);\n    if (row && row.carouselImages && row.carouselImages.length > 0) {\n      setCarouselReorderModal(row);\n    }\n  };\n  const handleReorderCarouselImages = (rowId, newOrder) => {\n    setComposerRows(prev => prev.map(r => r.id === rowId ? {\n      ...r,\n      carouselImages: newOrder\n    } : r));\n    console.log(`🔄 Reordered carousel images for row ${rowId}`);\n  };\n  const handleViewThumbnail = rowId => {\n    const row = composerRows.find(r => r.id === rowId);\n    if (row && row.thumbnailPreview) {\n      setThumbnailPreviewModal({\n        ...row,\n        mediaPreview: row.thumbnailPreview,\n        mediaType: 'thumbnail'\n      });\n    }\n  };\n  const handleRemoveCarouselImages = rowId => {\n    setComposerRows(prev => prev.map(r => r.id === rowId ? {\n      ...r,\n      carouselImages: [],\n      status: 'draft' // Always reset to draft when removing images\n    } : r));\n    console.log(`🗑️ Removed carousel images for row ${rowId}`);\n  };\n  const handleDuplicateRow = rowId => {\n    const rowToDuplicate = composerRows.find(row => row.id === rowId);\n    if (rowToDuplicate) {\n      const newRow = {\n        ...rowToDuplicate,\n        id: `row-${Date.now()}-${Math.random()}`,\n        scheduledDate: new Date(rowToDuplicate.scheduledDate).toISOString().split('T')[0],\n        postType: rowToDuplicate.postType ? rowToDuplicate.postType.toLowerCase() : 'photo'\n      };\n      setComposerRows(prev => [...prev, newRow]);\n    }\n  };\n  const handleDeleteRow = rowId => {\n    setComposerRows(prev => prev.filter(row => row.id !== rowId));\n    setSelectedRows(prev => prev.filter(id => id !== rowId));\n  };\n  const handleBulkDelete = () => {\n    setComposerRows(prev => prev.filter(row => !selectedRows.includes(row.id)));\n    setSelectedRows([]);\n  };\n  const handleTimeShift = direction => {\n    setComposerRows(prev => prev.map(row => {\n      if (selectedRows.includes(row.id)) {\n        const [hours, minutes] = row.scheduledTime.split(':');\n        let newHours = parseInt(hours) + (direction === 'forward' ? 1 : -1);\n        if (newHours < 0) newHours = 23;\n        if (newHours > 23) newHours = 0;\n        return {\n          ...row,\n          scheduledTime: `${newHours.toString().padStart(2, '0')}:${minutes}`\n        };\n      }\n      return row;\n    }));\n  };\n  const handleDragStart = rowId => setDragStartRow(rowId);\n  const handleDragOver = e => e.preventDefault();\n  const handleDrop = targetRowId => {\n    if (dragStartRow && dragStartRow !== targetRowId) {\n      const rows = [...composerRows];\n      const sourceIndex = rows.findIndex(row => row.id === dragStartRow);\n      const targetIndex = rows.findIndex(row => row.id === targetRowId);\n      const [movedRow] = rows.splice(sourceIndex, 1);\n      rows.splice(targetIndex, 0, movedRow);\n      setComposerRows(rows);\n    }\n    setDragStartRow(null);\n  };\n  const handleScheduleAll = async () => {\n    if (!selectedAccount || composerRows.length === 0) return;\n    setIsScheduling(true);\n    setScheduleProgress(0);\n    try {\n      const readyRows = composerRows.filter(row => row.status === 'ready');\n      console.log(`🔄 Starting bulk scheduling for ${readyRows.length} posts...`);\n\n      // Progress tracking for media processing\n      let processedCount = 0;\n      const totalPosts = readyRows.length;\n      const postsWithMedia = await Promise.all(readyRows.map(async (row, index) => {\n        const basePost = {\n          caption: row.caption,\n          scheduled_datetime: `${row.scheduledDate}T${row.scheduledTime}:00+05:30`,\n          scheduled_date: row.scheduledDate,\n          scheduled_time: row.scheduledTime,\n          post_type: (row.postType || 'photo').toLowerCase()\n        };\n        if (row.postType === 'photo') {\n          if (row.mediaFile) {\n            const result = {\n              ...basePost,\n              media_file: await fileToBase64(row.mediaFile),\n              media_filename: row.mediaFile.name\n            };\n            processedCount++;\n            setScheduleProgress(processedCount / totalPosts * 30);\n            return result;\n          } else if (row.mediaPreview && row.mediaPreview.startsWith('data:')) {\n            const result = {\n              ...basePost,\n              media_file: row.mediaPreview,\n              media_filename: 'generated_image.jpg'\n            };\n            processedCount++;\n            setScheduleProgress(processedCount / totalPosts * 30);\n            return result;\n          } else if (row.mediaPreview && row.mediaPreview.startsWith('http')) {\n            const result = {\n              ...basePost,\n              image_prompt: row.caption.substring(0, 200)\n            };\n            processedCount++;\n            setScheduleProgress(processedCount / totalPosts * 30);\n            return result;\n          } else {\n            const result = {\n              ...basePost,\n              image_prompt: strategyData.imagePrompt || row.caption.substring(0, 200)\n            };\n            processedCount++;\n            setScheduleProgress(processedCount / totalPosts * 30);\n            return result;\n          }\n        } else if (row.postType === 'carousel') {\n          if (row.carouselImages && row.carouselImages.length > 0) {\n            const carouselFiles = row.carouselImages;\n            const result = {\n              ...basePost,\n              carousel_images: carouselFiles,\n              carousel_filenames: carouselFiles.map((_, idx) => `carousel_image_${idx + 1}.jpg`)\n            };\n            processedCount++;\n            setScheduleProgress(processedCount / totalPosts * 30);\n            return result;\n          } else {\n            const result = {\n              ...basePost,\n              carousel_image_count: row.carouselImageCount || 2,\n              image_prompt: strategyData.imagePrompt || row.caption.substring(0, 200)\n            };\n            processedCount++;\n            setScheduleProgress(processedCount / totalPosts * 30);\n            return result;\n          }\n        } else if (row.postType === 'reel') {\n          if (row.mediaFile) {\n            const result = {\n              ...basePost,\n              media_file: await fileToBase64(row.mediaFile),\n              media_filename: row.mediaFile.name\n            };\n\n            // Add thumbnail if available - prioritize Cloudinary URL over file\n            if (row.thumbnailUrl && row.thumbnailUrl.startsWith('http')) {\n              result.thumbnail_url = row.thumbnailUrl;\n            } else if (row.thumbnailPreview && row.thumbnailPreview.startsWith('http')) {\n              result.thumbnail_url = row.thumbnailPreview;\n            } else if (row.thumbnailFile) {\n              result.thumbnail_file = await fileToBase64(row.thumbnailFile);\n              result.thumbnail_filename = row.thumbnailFile.name;\n            }\n            processedCount++;\n            setScheduleProgress(processedCount / totalPosts * 30);\n            return result;\n          } else if (row.mediaPreview && row.mediaPreview.startsWith('data:')) {\n            const result = {\n              ...basePost,\n              media_file: row.mediaPreview,\n              media_filename: 'generated_video.mp4'\n            };\n\n            // Add thumbnail if available - prioritize Cloudinary URL over file\n            if (row.thumbnailUrl && row.thumbnailUrl.startsWith('http')) {\n              result.thumbnail_url = row.thumbnailUrl;\n            } else if (row.thumbnailPreview && row.thumbnailPreview.startsWith('http')) {\n              result.thumbnail_url = row.thumbnailPreview;\n            } else if (row.thumbnailFile) {\n              result.thumbnail_file = await fileToBase64(row.thumbnailFile);\n              result.thumbnail_filename = row.thumbnailFile.name;\n            }\n            processedCount++;\n            setScheduleProgress(processedCount / totalPosts * 30);\n            return result;\n          } else {\n            const result = {\n              ...basePost,\n              image_prompt: strategyData.imagePrompt || row.caption.substring(0, 200)\n            };\n            processedCount++;\n            setScheduleProgress(processedCount / totalPosts * 30);\n            return result;\n          }\n        }\n        processedCount++;\n        setScheduleProgress(processedCount / totalPosts * 30);\n        return basePost;\n      }));\n\n      // Final normalization: ensure all outgoing post_type values are lowercase\n      const normalizedPostsWithMedia = postsWithMedia.map(post => ({\n        ...post,\n        post_type: (post.post_type || 'photo').toLowerCase()\n      }));\n      const bulkData = {\n        social_account_id: selectedAccount.id,\n        posts: normalizedPostsWithMedia\n      };\n      console.log(`🚀 Sending ${normalizedPostsWithMedia.length} posts to backend for scheduling...`);\n      setScheduleProgress(40); // 40% for API call start\n\n      const response = await apiClient.bulkScheduleInstagramPosts(bulkData);\n      setScheduleProgress(90); // 90% for API response\n      console.log('Bulk schedule response:', response);\n      if (response && response.success) {\n        var _response$scheduled_p;\n        console.log(`✅ Successfully scheduled ${((_response$scheduled_p = response.scheduled_posts) === null || _response$scheduled_p === void 0 ? void 0 : _response$scheduled_p.length) || 0} posts`);\n        setComposerRows(prev => prev.map(row => readyRows.some(r => r.id === row.id) ? {\n          ...row,\n          status: 'scheduled'\n        } : row));\n        setScheduleProgress(100);\n        setScheduledGridRows(response.scheduled_posts || []);\n        // Redirect to InstagramPage with scheduled posts for grid display\n        navigate('/instagram', {\n          state: {\n            scheduledGridRows: response.scheduled_posts || []\n          }\n        });\n      } else if (response && Array.isArray(response.results)) {\n        // Handle legacy or alternate backend response\n        const successCount = response.results.filter(r => r.success).length;\n        const failedCount = response.results.filter(r => !r.success).length;\n        let errorMsg = `Scheduled ${successCount} posts successfully.`;\n        if (failedCount > 0) {\n          errorMsg += `\\n${failedCount} posts failed. Check console for details.`;\n          response.results.forEach((result, idx) => {\n            if (!result.success) {\n              errorMsg += `\\nPost #${idx + 1}: ${result.error || result.message || 'Unknown error'}`;\n            }\n          });\n        }\n        alert(errorMsg);\n\n        // Add success notification for Instagram bulk scheduling\n        if (successCount > 0) {\n          const selectedTemplate = promptTemplates.find(t => t.prompt === strategyData.promptTemplate);\n          const strategyName = selectedTemplate ? selectedTemplate.name : 'Bulk Schedule';\n          addNotification({\n            type: 'success',\n            platform: 'instagram',\n            strategyName: strategyName,\n            message: `Successfully scheduled ${successCount} Instagram posts! You'll receive alerts 10 minutes before each post goes live.`\n          });\n        }\n        setComposerRows(prev => prev.map(row => {\n          const result = response.results.find(r => r.caption === row.caption && r.scheduled_date === row.scheduledDate);\n          if (result) {\n            return {\n              ...row,\n              status: result.success ? 'scheduled' : 'failed',\n              error: result.success ? null : result.error || 'Unknown error'\n            };\n          }\n          return row;\n        }));\n        setScheduleProgress(100);\n        setScheduledGridRows(response.results.filter(r => r.success));\n        navigate('/instagram', {\n          state: {\n            scheduledGridRows: response.results.filter(r => r.success)\n          }\n        });\n      } else {\n        let errorMsg = 'Error scheduling Instagram posts.';\n        if (response && response.failed_posts && response.failed_posts.length > 0) {\n          errorMsg += '\\nFailed posts:';\n          response.failed_posts.forEach(fp => {\n            errorMsg += `\\nPost #${fp.index + 1}: ${fp.error}`;\n          });\n        } else if (response && response.message) {\n          errorMsg += `\\n${response.message}`;\n        } else if (response && response.errorData) {\n          errorMsg += `\\nAPI Error: ${JSON.stringify(response.errorData)}`;\n        }\n        alert(errorMsg);\n        console.error('Bulk scheduling error:', response);\n      }\n    } catch (error) {\n      let errorMsg = 'Error scheduling Instagram posts. Please try again.';\n      // Check if any of the readyRows are reels\n      const hasReel = composerRows.filter(row => selectedRows.includes(row.id)).some(row => (row.postType || '').toLowerCase() === 'reel');\n      if (error && error.error === 'timeout') {\n        if (hasReel) {\n          errorMsg = 'Your reel is being processed and will be scheduled soon. Please check back in a few minutes.';\n        } else {\n          errorMsg = 'Request timed out. Video processing may take longer. Please try again or check your video file size.';\n        }\n      } else if (error && error.errorData) {\n        errorMsg += `\\nAPI Error: ${JSON.stringify(error.errorData)}`;\n      } else if (error && error.message) {\n        errorMsg += `\\n${error.message}`;\n      }\n      alert(errorMsg);\n      console.error('Bulk scheduling exception:', error);\n    } finally {\n      setIsScheduling(false);\n      setScheduleProgress(0);\n    }\n  };\n\n  // Calendar day click logic\n  const handleCalendarDateSelect = date => {\n    setStrategyData(prev => ({\n      ...prev,\n      startDate: date.toISOString().split('T')[0]\n    }));\n  };\n\n  // UI helpers\n  const getStatusIcon = status => {\n    switch (status) {\n      case 'published':\n        return '✓';\n      case 'failed':\n        return '✗';\n      case 'scheduled':\n        return '⏰';\n      case 'ready':\n        return '🟢';\n      default:\n        return '📝';\n    }\n  };\n  const getStatusClass = status => {\n    switch (status) {\n      case 'published':\n        return 'ig-status-published';\n      case 'failed':\n        return 'ig-status-failed';\n      case 'scheduled':\n        return 'ig-status-scheduled';\n      case 'ready':\n        return 'ig-status-ready';\n      default:\n        return 'ig-status-draft';\n    }\n  };\n\n  // Calendar helpers\n  const generateCalendarDays = (year, month) => {\n    const daysInMonth = new Date(year, month + 1, 0).getDate();\n    const firstDayOfMonth = new Date(year, month, 1).getDay();\n    const days = [];\n    for (let i = 0; i < firstDayOfMonth; i++) days.push({\n      day: null,\n      date: null\n    });\n    for (let i = 1; i <= daysInMonth; i++) {\n      const date = new Date(year, month, i);\n      days.push({\n        day: i,\n        date\n      });\n    }\n    return days;\n  };\n  const getPostsForDate = date => {\n    // Format date as YYYY-MM-DD using local date parts\n    const yyyy = date.getFullYear();\n    const mm = String(date.getMonth() + 1).padStart(2, '0');\n    const dd = String(date.getDate()).padStart(2, '0');\n    const dateString = `${yyyy}-${mm}-${dd}`;\n    return composerRows.filter(row => row.scheduledDate === dateString);\n  };\n\n  // --- RENDER ---\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ig-bulk-composer\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ig-bulk-composer-header\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Instagram Bulk Composer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1241,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1240,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ig-bulk-composer-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ig-strategy-step\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Step 1: Strategy & Schedule\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1247,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ig-strategy-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ig-form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Post Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1252,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ig-post-type-toggle\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: postType === 'photo' ? 'active' : '',\n                onClick: () => handlePostTypeChange('photo'),\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  width: \"16\",\n                  height: \"16\",\n                  viewBox: \"0 0 24 24\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  strokeWidth: \"2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n                    x: \"3\",\n                    y: \"3\",\n                    width: \"18\",\n                    height: \"18\",\n                    rx: \"2\",\n                    ry: \"2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1259,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                    cx: \"8.5\",\n                    cy: \"8.5\",\n                    r: \"1.5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1260,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n                    points: \"21,15 16,10 5,21\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1261,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1258,\n                  columnNumber: 19\n                }, this), \"Photo\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1254,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: postType === 'carousel' ? 'active' : '',\n                onClick: () => handlePostTypeChange('carousel'),\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  width: \"16\",\n                  height: \"16\",\n                  viewBox: \"0 0 24 24\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  strokeWidth: \"2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n                    x: \"2\",\n                    y: \"3\",\n                    width: \"20\",\n                    height: \"14\",\n                    rx: \"2\",\n                    ry: \"2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1270,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                    x1: \"8\",\n                    y1: \"21\",\n                    x2: \"16\",\n                    y2: \"21\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1271,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                    x1: \"12\",\n                    y1: \"17\",\n                    x2: \"12\",\n                    y2: \"21\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1272,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1269,\n                  columnNumber: 19\n                }, this), \"Carousel\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1265,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: postType === 'reel' ? 'active' : '',\n                onClick: () => handlePostTypeChange('reel'),\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  width: \"16\",\n                  height: \"16\",\n                  viewBox: \"0 0 24 24\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  strokeWidth: \"2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"polygon\", {\n                    points: \"23 7 16 12 23 17 23 7\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1281,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n                    x: \"1\",\n                    y: \"5\",\n                    width: \"15\",\n                    height: \"14\",\n                    rx: \"2\",\n                    ry: \"2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1282,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1280,\n                  columnNumber: 19\n                }, this), \"Reel\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1276,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1253,\n              columnNumber: 15\n            }, this), postType === 'carousel' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ig-form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: [\"Number of Images: \", carouselImageCount]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1291,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"range\",\n                min: \"2\",\n                max: \"7\",\n                value: carouselImageCount,\n                onChange: e => handleCarouselImageCountChange(parseInt(e.target.value)),\n                className: \"ig-slider\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1292,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ig-slider-labels\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1301,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1302,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1303,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1304,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1305,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1306,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1300,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1290,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1251,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ig-form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Strategy Template\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1315,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: strategyData.promptTemplate,\n              onChange: e => handleStrategyChange('promptTemplate', e.target.value),\n              className: \"ig-form-select\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select a template...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1321,\n                columnNumber: 17\n              }, this), promptTemplates.map(template => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: template.prompt,\n                children: template.name\n              }, template.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1323,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1316,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1314,\n            columnNumber: 13\n          }, this), strategyData.promptTemplate === 'custom' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ig-form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Brand Information\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1331,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ig-form-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ig-form-group\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: strategyData.brandName,\n                  onChange: e => handleStrategyChange('brandName', e.target.value),\n                  placeholder: \"Brand Name\",\n                  className: \"ig-form-input\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1334,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1333,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ig-form-group\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: strategyData.hookIdea,\n                  onChange: e => handleStrategyChange('hookIdea', e.target.value),\n                  placeholder: \"Hook Idea (e.g., Tired of the shore?)\",\n                  className: \"ig-form-input\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1343,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1342,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1332,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ig-form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Features (one per line)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1354,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: strategyData.features,\n                onChange: e => handleStrategyChange('features', e.target.value),\n                placeholder: \"\\u2705 Feature 1\\\\n\\u2705 Feature 2\\\\n\\u2705 Feature 3\",\n                className: \"ig-form-input\",\n                rows: \"3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1355,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1353,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ig-form-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ig-form-group\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: strategyData.location,\n                  onChange: e => handleStrategyChange('location', e.target.value),\n                  placeholder: \"Location\",\n                  className: \"ig-form-input\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1366,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1365,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ig-form-group\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: strategyData.phone,\n                  onChange: e => handleStrategyChange('phone', e.target.value),\n                  placeholder: \"Phone Number\",\n                  className: \"ig-form-input\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1375,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1374,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1364,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ig-form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: strategyData.website,\n                onChange: e => handleStrategyChange('website', e.target.value),\n                placeholder: \"Website URL\",\n                className: \"ig-form-input\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1386,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1385,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ig-form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: strategyData.callToAction,\n                onChange: e => handleStrategyChange('callToAction', e.target.value),\n                placeholder: \"Call to Action (e.g., Book your appointment today!)\",\n                className: \"ig-form-input\",\n                rows: \"2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1396,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1395,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"ig-form-help\",\n              children: \"This information will be used to generate captions that follow your brand's style and approach.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1405,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1330,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ig-form-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ig-form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Start Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1412,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: strategyData.startDate,\n                onChange: e => handleStrategyChange('startDate', e.target.value),\n                className: \"ig-form-input\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1413,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1411,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ig-form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"End Date (Optional)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1421,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '0.5rem'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"date\",\n                  value: strategyData.endDate,\n                  onChange: e => handleStrategyChange('endDate', e.target.value),\n                  className: \"ig-form-input\",\n                  min: strategyData.startDate,\n                  disabled: !strategyData.startDate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1423,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => handleStrategyChange('endDate', ''),\n                  className: \"ig-btn ig-btn-secondary ig-btn-small\",\n                  disabled: !strategyData.endDate,\n                  title: \"Clear end date (single day schedule)\",\n                  children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                    width: \"12\",\n                    height: \"12\",\n                    viewBox: \"0 0 24 24\",\n                    fill: \"none\",\n                    stroke: \"currentColor\",\n                    strokeWidth: \"2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"line\", {\n                      x1: \"18\",\n                      y1: \"6\",\n                      x2: \"6\",\n                      y2: \"18\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1439,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                      x1: \"6\",\n                      y1: \"6\",\n                      x2: \"18\",\n                      y2: \"18\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1440,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1438,\n                    columnNumber: 21\n                  }, this), \"Clear\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1431,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1422,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                className: \"ig-form-help\",\n                children: \"Leave empty for single day schedule\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1445,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1420,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ig-form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Frequency\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1450,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: strategyData.frequency,\n                onChange: e => handleStrategyChange('frequency', e.target.value),\n                className: \"ig-form-select\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"daily\",\n                  children: \"Daily\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1456,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"weekly\",\n                  children: \"Weekly\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1457,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"monthly\",\n                  children: \"Monthly\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1458,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"custom\",\n                  children: \"Custom Cron\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1459,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1451,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1449,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ig-form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Time Slot\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1463,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"time\",\n                value: strategyData.timeSlot,\n                onChange: e => handleStrategyChange('timeSlot', e.target.value),\n                className: \"ig-form-input\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1464,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1462,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1410,\n            columnNumber: 13\n          }, this), strategyData.frequency === 'custom' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ig-form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Custom Cron Expression\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1474,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: strategyData.customCron,\n              onChange: e => handleStrategyChange('customCron', e.target.value),\n              placeholder: \"0 9 * * * (daily at 9 AM)\",\n              className: \"ig-form-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1475,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1473,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1248,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1246,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ig-calendar-preview-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Calendar Preview\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1489,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ig-calendar-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ig-calendar-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setCurrentMonth(prev => new Date(prev.getFullYear(), prev.getMonth() - 1)),\n              className: \"ig-btn ig-btn-secondary ig-btn-small\",\n              children: \"\\u2190\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1492,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: currentMonth.toLocaleDateString('en-US', {\n                month: 'long',\n                year: 'numeric'\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1498,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setCurrentMonth(prev => new Date(prev.getFullYear(), prev.getMonth() + 1)),\n              className: \"ig-btn ig-btn-secondary ig-btn-small\",\n              children: \"\\u2192\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1499,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1491,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ig-calendar-grid\",\n            children: [['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'].map(day => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ig-calendar-day-header\",\n              children: day\n            }, day, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1508,\n              columnNumber: 17\n            }, this)), generateCalendarDays(currentMonth.getFullYear(), currentMonth.getMonth()).map((day, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `ig-calendar-day ${day.date ? 'clickable' : ''} ${day.date && getPostsForDate(day.date).length > 0 ? 'has-posts' : ''}`,\n              onClick: () => day.date && handleCalendarDateSelect(day.date),\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ig-day-number\",\n                children: day.day\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1516,\n                columnNumber: 19\n              }, this), day.date && getPostsForDate(day.date).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ig-post-indicators\",\n                children: getPostsForDate(day.date).map((post, postIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"ig-post-dot\",\n                  title: `${post.scheduledTime} - ${(post.caption || '').substring(0, 30)}...`\n                }, postIndex, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1520,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1518,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1511,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1506,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1490,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1488,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ig-composer-grid-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ig-composer-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Step 2: Content Grid\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1537,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ig-composer-controls\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                const newRow = {\n                  id: `row-${Date.now()}-${Math.random()}`,\n                  caption: '',\n                  postType: postType.toLowerCase(),\n                  mediaFile: null,\n                  mediaPreview: null,\n                  carouselImages: postType === 'carousel' ? [] : null,\n                  carouselImageCount: postType === 'carousel' ? carouselImageCount : null,\n                  scheduledDate: new Date().toISOString().split('T')[0],\n                  scheduledTime: strategyData.timeSlot,\n                  status: 'draft',\n                  isSelected: false\n                };\n                setComposerRows(prev => [...prev, newRow]);\n              },\n              className: \"ig-control-btn ig-control-btn-primary\",\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"16\",\n                height: \"16\",\n                viewBox: \"0 0 24 24\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                strokeWidth: \"2\",\n                children: [/*#__PURE__*/_jsxDEV(\"line\", {\n                  x1: \"12\",\n                  y1: \"5\",\n                  x2: \"12\",\n                  y2: \"19\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1559,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                  x1: \"5\",\n                  y1: \"12\",\n                  x2: \"19\",\n                  y2: \"12\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1560,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1558,\n                columnNumber: 17\n              }, this), \"Add Row\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1539,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSelectAll,\n              className: \"ig-control-btn ig-control-btn-secondary\",\n              children: selectedRows.length === composerRows.length ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: \"Deselect All\"\n              }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: \"Select All\"\n              }, void 0, false)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1564,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleBulkDelete,\n              disabled: selectedRows.length === 0,\n              className: \"ig-control-btn ig-control-btn-danger\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"14\",\n                height: \"14\",\n                viewBox: \"0 0 24 24\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                strokeWidth: \"2\",\n                children: [/*#__PURE__*/_jsxDEV(\"polyline\", {\n                  points: \"3,6 5,6 21,6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1584,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M19,6v14a2,2 0 0,1-2,2H7a2,2 0 0,1-2-2V6m3,0V4a2,2 0 0,1,2-2h4a2,2 0 0,1,2,2v2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1585,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1583,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1578,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"ig-control-btn ig-control-btn-primary ig-control-btn-featured\",\n              onClick: handleGenerateAllCaptions,\n              disabled: composerRows.length === 0 || selectedRows.length === 0,\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"14\",\n                height: \"14\",\n                viewBox: \"0 0 24 24\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                strokeWidth: \"2\",\n                children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1594,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n                  points: \"14,2 14,8 20,8\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1595,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                  x1: \"14\",\n                  y1: \"13\",\n                  x2: \"8\",\n                  y2: \"13\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1596,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                  x1: \"14\",\n                  y1: \"17\",\n                  x2: \"8\",\n                  y2: \"17\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1597,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1593,\n                columnNumber: 17\n              }, this), \"Generate Captions\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1588,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"ig-control-btn ig-control-btn-secondary ig-control-btn-featured\",\n              onClick: handleGenerateAllImages,\n              disabled: composerRows.length === 0 || selectedRows.length === 0,\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"14\",\n                height: \"14\",\n                viewBox: \"0 0 24 24\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                strokeWidth: \"2\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1607,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1606,\n                columnNumber: 17\n              }, this), \"Generate Images\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1601,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1538,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1536,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ig-composer-grid-container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ig-composer-grid\",\n            ref: gridRef,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ig-grid-header ig-grid-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ig-grid-cell ig-header-cell\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1617,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ig-grid-cell ig-header-cell\",\n                children: \"Caption\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1618,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ig-grid-cell ig-header-cell\",\n                children: \"Media\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1619,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ig-grid-cell ig-header-cell\",\n                children: \"Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1620,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ig-grid-cell ig-header-cell\",\n                children: \"Time\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1621,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ig-grid-cell ig-header-cell\",\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1622,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1616,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ig-grid-body\",\n              children: composerRows.map((row, index) => {\n                var _row$mediaFile, _row$mediaFile$type;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `ig-grid-row ${row.isSelected ? 'selected' : ''}`,\n                  draggable: true,\n                  onDragStart: () => handleDragStart(row.id),\n                  onDragOver: handleDragOver,\n                  onDrop: () => handleDrop(row.id),\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ig-grid-cell\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"checkbox\",\n                      checked: selectedRows.includes(row.id),\n                      onChange: () => handleRowSelect(row.id)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1635,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1634,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ig-grid-cell ig-caption-cell\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"caption-container\",\n                      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                        value: row.caption,\n                        onChange: e => handleCellEdit(row.id, 'caption', e.target.value),\n                        placeholder: \"Enter your Instagram post caption...\",\n                        className: \"ig-caption-input\",\n                        rows: \"3\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1643,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => handleExpandCaption(row.id),\n                        className: \"expand-btn\",\n                        title: \"Expand caption\",\n                        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                          width: \"14\",\n                          height: \"14\",\n                          viewBox: \"0 0 24 24\",\n                          fill: \"none\",\n                          stroke: \"currentColor\",\n                          strokeWidth: \"2\",\n                          children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                            d: \"M15 3h6v6\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1656,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                            d: \"M9 21H3v-6\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1657,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                            d: \"M21 3l-7 7\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1658,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                            d: \"M3 21l7-7\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1659,\n                            columnNumber: 29\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1655,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1650,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1642,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1641,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ig-grid-cell ig-media-cell\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"ig-media-options\",\n                      children: !row.mediaPreview && !row.mediaFile && (!row.carouselImages || row.carouselImages.length === 0) ? /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"ig-media-option-group\",\n                        children: [(row.postType === 'photo' || row.postType === 'reel') && /*#__PURE__*/_jsxDEV(_Fragment, {\n                          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"file\",\n                            accept: row.postType === 'photo' ? \"image/*\" : \"video/*\",\n                            onChange: e => handleMediaUpload(row.id, e),\n                            className: \"ig-media-input\",\n                            id: `ig-media-upload-${row.id}`\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1672,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                            htmlFor: `ig-media-upload-${row.id}`,\n                            className: \"ig-media-option-btn upload-btn\",\n                            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                              width: \"16\",\n                              height: \"16\",\n                              viewBox: \"0 0 24 24\",\n                              fill: \"none\",\n                              stroke: \"currentColor\",\n                              strokeWidth: \"2\",\n                              children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                                d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1681,\n                                columnNumber: 37\n                              }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n                                points: \"7,10 12,15 17,10\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1682,\n                                columnNumber: 37\n                              }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                                x1: \"12\",\n                                y1: \"15\",\n                                x2: \"12\",\n                                y2: \"3\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1683,\n                                columnNumber: 37\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1680,\n                              columnNumber: 35\n                            }, this), \"Upload \", row.postType === 'photo' ? 'Image' : 'Video']\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1679,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true), row.postType === 'reel' && /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"ig-media-option-btn upload-btn thumbnail-btn disabled\",\n                          title: \"Please upload a video first\",\n                          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                            width: \"16\",\n                            height: \"16\",\n                            viewBox: \"0 0 24 24\",\n                            fill: \"none\",\n                            stroke: \"currentColor\",\n                            strokeWidth: \"2\",\n                            children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n                              x: \"3\",\n                              y: \"3\",\n                              width: \"18\",\n                              height: \"18\",\n                              rx: \"2\",\n                              ry: \"2\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1694,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                              cx: \"8.5\",\n                              cy: \"8.5\",\n                              r: \"1.5\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1695,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n                              points: \"21,15 16,10 5,21\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1696,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1693,\n                            columnNumber: 33\n                          }, this), \"Upload Thumbnail (Video Required First)\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1692,\n                          columnNumber: 31\n                        }, this), row.postType === 'photo' && /*#__PURE__*/_jsxDEV(\"button\", {\n                          onClick: () => handleGenerateMedia(row.id),\n                          className: \"ig-media-option-btn generate-btn\",\n                          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                            width: \"16\",\n                            height: \"16\",\n                            viewBox: \"0 0 24 24\",\n                            fill: \"none\",\n                            stroke: \"currentColor\",\n                            strokeWidth: \"2\",\n                            children: /*#__PURE__*/_jsxDEV(\"path\", {\n                              d: \"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1709,\n                              columnNumber: 35\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1708,\n                            columnNumber: 33\n                          }, this), \"Generate\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1704,\n                          columnNumber: 31\n                        }, this), row.postType === 'reel' && /*#__PURE__*/_jsxDEV(\"button\", {\n                          onClick: () => handleGenerateMedia(row.id),\n                          className: \"ig-media-option-btn generate-btn\",\n                          disabled: true,\n                          title: \"AI video generation not yet available\",\n                          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                            width: \"16\",\n                            height: \"16\",\n                            viewBox: \"0 0 24 24\",\n                            fill: \"none\",\n                            stroke: \"currentColor\",\n                            strokeWidth: \"2\",\n                            children: /*#__PURE__*/_jsxDEV(\"path\", {\n                              d: \"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1724,\n                              columnNumber: 35\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1723,\n                            columnNumber: 33\n                          }, this), \"Generate (Coming Soon)\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1717,\n                          columnNumber: 31\n                        }, this), row.postType === 'carousel' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                            onClick: () => handleGenerateCarousel(row.id),\n                            className: \"ig-media-option-btn generate-btn\",\n                            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                              width: \"16\",\n                              height: \"16\",\n                              viewBox: \"0 0 24 24\",\n                              fill: \"none\",\n                              stroke: \"currentColor\",\n                              strokeWidth: \"2\",\n                              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                                d: \"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1738,\n                                columnNumber: 37\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1737,\n                              columnNumber: 35\n                            }, this), \"Generate \", row.carouselImageCount || 2, \" Images\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1733,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"file\",\n                            accept: \"image/*\",\n                            multiple: true,\n                            ref: el => carouselInputRefs.current[row.id] = el,\n                            onChange: e => handleCarouselUpload(row.id, e),\n                            className: \"ig-media-input\",\n                            id: `ig-carousel-upload-${row.id}`\n                          }, `ig-carousel-upload-${row.id}`, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1742,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                            htmlFor: `ig-carousel-upload-${row.id}`,\n                            className: \"ig-media-option-btn upload-btn\",\n                            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                              width: \"16\",\n                              height: \"16\",\n                              viewBox: \"0 0 24 24\",\n                              fill: \"none\",\n                              stroke: \"currentColor\",\n                              strokeWidth: \"2\",\n                              children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                                d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1754,\n                                columnNumber: 37\n                              }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n                                points: \"7,10 12,15 17,10\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1755,\n                                columnNumber: 37\n                              }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                                x1: \"12\",\n                                y1: \"15\",\n                                x2: \"12\",\n                                y2: \"3\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1756,\n                                columnNumber: 37\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1753,\n                              columnNumber: 35\n                            }, this), \"Upload \", row.carouselImageCount || 2, \" Images\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1752,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1668,\n                        columnNumber: 27\n                      }, this) :\n                      /*#__PURE__*/\n                      /* Show media preview and additional options after upload */\n                      _jsxDEV(\"div\", {\n                        className: \"ig-media-preview-container\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"ig-media-preview\",\n                          children: row.postType === 'carousel' && row.carouselImages && row.carouselImages.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"ig-carousel-preview\",\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"ig-carousel-grid\",\n                              children: row.carouselImages.slice(0, row.carouselImageCount || 3).map((url, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"ig-carousel-item\",\n                                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                                  src: url,\n                                  alt: `Carousel ${index + 1}`\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1775,\n                                  columnNumber: 41\n                                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                  className: \"ig-carousel-item-actions\",\n                                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                                    onClick: () => handleViewCarouselImage(row.id, index),\n                                    className: \"ig-carousel-action-btn view-btn\",\n                                    title: \"View image\",\n                                    children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                                      width: \"12\",\n                                      height: \"12\",\n                                      viewBox: \"0 0 24 24\",\n                                      fill: \"none\",\n                                      stroke: \"currentColor\",\n                                      strokeWidth: \"2\",\n                                      children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                                        d: \"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"\n                                      }, void 0, false, {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 1783,\n                                        columnNumber: 47\n                                      }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                                        cx: \"12\",\n                                        cy: \"12\",\n                                        r: \"3\"\n                                      }, void 0, false, {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 1784,\n                                        columnNumber: 47\n                                      }, this)]\n                                    }, void 0, true, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 1782,\n                                      columnNumber: 45\n                                    }, this)\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 1777,\n                                    columnNumber: 43\n                                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                                    onClick: () => handleRemoveCarouselImage(row.id, index),\n                                    className: \"ig-carousel-action-btn remove-btn\",\n                                    title: \"Remove image\",\n                                    children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                                      width: \"12\",\n                                      height: \"12\",\n                                      viewBox: \"0 0 24 24\",\n                                      fill: \"none\",\n                                      stroke: \"currentColor\",\n                                      strokeWidth: \"2\",\n                                      children: [/*#__PURE__*/_jsxDEV(\"line\", {\n                                        x1: \"18\",\n                                        y1: \"6\",\n                                        x2: \"6\",\n                                        y2: \"18\"\n                                      }, void 0, false, {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 1793,\n                                        columnNumber: 47\n                                      }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                                        x1: \"6\",\n                                        y1: \"6\",\n                                        x2: \"18\",\n                                        y2: \"18\"\n                                      }, void 0, false, {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 1794,\n                                        columnNumber: 47\n                                      }, this)]\n                                    }, void 0, true, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 1792,\n                                      columnNumber: 45\n                                    }, this)\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 1787,\n                                    columnNumber: 43\n                                  }, this)]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1776,\n                                  columnNumber: 41\n                                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                  className: \"ig-carousel-number\",\n                                  children: index + 1\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1798,\n                                  columnNumber: 41\n                                }, this)]\n                              }, index, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1774,\n                                columnNumber: 39\n                              }, this))\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1772,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"ig-carousel-info\",\n                              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"ig-carousel-status\",\n                                children: [row.carouselImages.length, \" / \", row.carouselImageCount || 2, \" images\", row.carouselImages.length < 2 && /*#__PURE__*/_jsxDEV(\"span\", {\n                                  className: \"ig-carousel-warning\",\n                                  children: \"\\u26A0\\uFE0F Need at least 2 images\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1806,\n                                  columnNumber: 41\n                                }, this), row.carouselImages.length >= 2 && /*#__PURE__*/_jsxDEV(\"span\", {\n                                  className: \"ig-carousel-success\",\n                                  children: \"\\u2705 Ready\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1809,\n                                  columnNumber: 41\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1803,\n                                columnNumber: 37\n                              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"ig-carousel-actions\",\n                                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                                  onClick: () => handleViewCarousel(row.id),\n                                  className: \"ig-btn ig-btn-secondary ig-btn-small\",\n                                  title: \"View & reorder carousel\",\n                                  children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                                    width: \"12\",\n                                    height: \"12\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"none\",\n                                    stroke: \"currentColor\",\n                                    strokeWidth: \"2\",\n                                    children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                                      d: \"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 1819,\n                                      columnNumber: 43\n                                    }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                                      cx: \"12\",\n                                      cy: \"12\",\n                                      r: \"3\"\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 1820,\n                                      columnNumber: 43\n                                    }, this)]\n                                  }, void 0, true, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 1818,\n                                    columnNumber: 41\n                                  }, this), \"View & Reorder\"]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1813,\n                                  columnNumber: 39\n                                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                                  onClick: () => handleRemoveCarouselImages(row.id),\n                                  className: \"ig-btn ig-btn-danger ig-btn-small\",\n                                  disabled: row.carouselImages.length === 0,\n                                  title: \"Remove all carousel images\",\n                                  children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                                    width: \"12\",\n                                    height: \"12\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"none\",\n                                    stroke: \"currentColor\",\n                                    strokeWidth: \"2\",\n                                    children: [/*#__PURE__*/_jsxDEV(\"line\", {\n                                      x1: \"18\",\n                                      y1: \"6\",\n                                      x2: \"6\",\n                                      y2: \"18\"\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 1831,\n                                      columnNumber: 43\n                                    }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                                      x1: \"6\",\n                                      y1: \"6\",\n                                      x2: \"18\",\n                                      y2: \"18\"\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 1832,\n                                      columnNumber: 43\n                                    }, this)]\n                                  }, void 0, true, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 1830,\n                                    columnNumber: 41\n                                  }, this), \"Remove All\"]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1824,\n                                  columnNumber: 39\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1812,\n                                columnNumber: 37\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1802,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1771,\n                            columnNumber: 33\n                          }, this) :\n                          /*#__PURE__*/\n                          /* Single Media Preview */\n                          _jsxDEV(_Fragment, {\n                            children: row.postType === 'reel' ? /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"ig-reel-preview\",\n                              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"ig-reel-video\",\n                                children: [/*#__PURE__*/_jsxDEV(\"video\", {\n                                  src: row.mediaPreview,\n                                  controls: true\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1845,\n                                  columnNumber: 41\n                                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                  className: \"ig-reel-video-actions\",\n                                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                                    onClick: () => handleViewMedia(row.id),\n                                    className: \"ig-media-action-btn view-btn\",\n                                    title: \"View video\",\n                                    children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                                      width: \"14\",\n                                      height: \"14\",\n                                      viewBox: \"0 0 24 24\",\n                                      fill: \"none\",\n                                      stroke: \"currentColor\",\n                                      strokeWidth: \"2\",\n                                      children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                                        d: \"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"\n                                      }, void 0, false, {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 1853,\n                                        columnNumber: 47\n                                      }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                                        cx: \"12\",\n                                        cy: \"12\",\n                                        r: \"3\"\n                                      }, void 0, false, {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 1854,\n                                        columnNumber: 47\n                                      }, this)]\n                                    }, void 0, true, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 1852,\n                                      columnNumber: 45\n                                    }, this)\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 1847,\n                                    columnNumber: 43\n                                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                                    onClick: () => handleRemoveMedia(row.id),\n                                    className: \"ig-media-action-btn remove-btn\",\n                                    title: \"Remove video\",\n                                    children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                                      width: \"14\",\n                                      height: \"14\",\n                                      viewBox: \"0 0 24 24\",\n                                      fill: \"none\",\n                                      stroke: \"currentColor\",\n                                      strokeWidth: \"2\",\n                                      children: [/*#__PURE__*/_jsxDEV(\"line\", {\n                                        x1: \"18\",\n                                        y1: \"6\",\n                                        x2: \"6\",\n                                        y2: \"18\"\n                                      }, void 0, false, {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 1863,\n                                        columnNumber: 47\n                                      }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                                        x1: \"6\",\n                                        y1: \"6\",\n                                        x2: \"18\",\n                                        y2: \"18\"\n                                      }, void 0, false, {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 1864,\n                                        columnNumber: 47\n                                      }, this)]\n                                    }, void 0, true, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 1862,\n                                      columnNumber: 45\n                                    }, this)\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 1857,\n                                    columnNumber: 43\n                                  }, this)]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1846,\n                                  columnNumber: 41\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1844,\n                                columnNumber: 39\n                              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"ig-reel-thumbnail-section\",\n                                children: [row.thumbnailPreview ? /*#__PURE__*/_jsxDEV(\"div\", {\n                                  className: \"ig-reel-thumbnail-preview\",\n                                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                                    src: row.thumbnailPreview,\n                                    alt: \"Thumbnail\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 1873,\n                                    columnNumber: 45\n                                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                    className: \"ig-thumbnail-actions\",\n                                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                                      onClick: () => handleViewThumbnail(row.id),\n                                      className: \"ig-media-action-btn view-btn\",\n                                      title: \"View thumbnail\",\n                                      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                                        width: \"12\",\n                                        height: \"12\",\n                                        viewBox: \"0 0 24 24\",\n                                        fill: \"none\",\n                                        stroke: \"currentColor\",\n                                        strokeWidth: \"2\",\n                                        children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                                          d: \"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"\n                                        }, void 0, false, {\n                                          fileName: _jsxFileName,\n                                          lineNumber: 1881,\n                                          columnNumber: 51\n                                        }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                                          cx: \"12\",\n                                          cy: \"12\",\n                                          r: \"3\"\n                                        }, void 0, false, {\n                                          fileName: _jsxFileName,\n                                          lineNumber: 1882,\n                                          columnNumber: 51\n                                        }, this)]\n                                      }, void 0, true, {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 1880,\n                                        columnNumber: 49\n                                      }, this)\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 1875,\n                                      columnNumber: 47\n                                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                                      onClick: () => handleRemoveThumbnail(row.id),\n                                      className: \"ig-media-action-btn remove-btn\",\n                                      title: \"Remove thumbnail\",\n                                      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                                        width: \"12\",\n                                        height: \"12\",\n                                        viewBox: \"0 0 24 24\",\n                                        fill: \"none\",\n                                        stroke: \"currentColor\",\n                                        strokeWidth: \"2\",\n                                        children: [/*#__PURE__*/_jsxDEV(\"line\", {\n                                          x1: \"18\",\n                                          y1: \"6\",\n                                          x2: \"6\",\n                                          y2: \"18\"\n                                        }, void 0, false, {\n                                          fileName: _jsxFileName,\n                                          lineNumber: 1891,\n                                          columnNumber: 51\n                                        }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                                          x1: \"6\",\n                                          y1: \"6\",\n                                          x2: \"18\",\n                                          y2: \"18\"\n                                        }, void 0, false, {\n                                          fileName: _jsxFileName,\n                                          lineNumber: 1892,\n                                          columnNumber: 51\n                                        }, this)]\n                                      }, void 0, true, {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 1890,\n                                        columnNumber: 49\n                                      }, this)\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 1885,\n                                      columnNumber: 47\n                                    }, this)]\n                                  }, void 0, true, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 1874,\n                                    columnNumber: 45\n                                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                                    type: \"file\",\n                                    accept: \"image/*\",\n                                    onChange: e => handleThumbnailUpload(row.id, e),\n                                    className: \"ig-media-input\",\n                                    id: `ig-thumbnail-upload-${row.id}`,\n                                    disabled: row.thumbnailUploading,\n                                    style: {\n                                      display: 'none'\n                                    }\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 1896,\n                                    columnNumber: 45\n                                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                                    htmlFor: `ig-thumbnail-upload-${row.id}`,\n                                    className: \"ig-thumbnail-change-btn\",\n                                    title: \"Change thumbnail\",\n                                    children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                                      width: \"12\",\n                                      height: \"12\",\n                                      viewBox: \"0 0 24 24\",\n                                      fill: \"none\",\n                                      stroke: \"currentColor\",\n                                      strokeWidth: \"2\",\n                                      children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                                        d: \"M12 20h9\"\n                                      }, void 0, false, {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 1911,\n                                        columnNumber: 49\n                                      }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                                        d: \"M16.5 3.5a2.121 2.121 0 1 1 3 3L7 19l-4 1 1-4 12.5-12.5z\"\n                                      }, void 0, false, {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 1912,\n                                        columnNumber: 49\n                                      }, this)]\n                                    }, void 0, true, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 1910,\n                                      columnNumber: 47\n                                    }, this)\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 1905,\n                                    columnNumber: 45\n                                  }, this)]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1872,\n                                  columnNumber: 43\n                                }, this) : /*#__PURE__*/_jsxDEV(\"label\", {\n                                  htmlFor: `ig-thumbnail-upload-${row.id}`,\n                                  className: \"ig-media-option-btn upload-btn thumbnail-btn\",\n                                  children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                                    width: \"16\",\n                                    height: \"16\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"none\",\n                                    stroke: \"currentColor\",\n                                    strokeWidth: \"2\",\n                                    children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n                                      x: \"3\",\n                                      y: \"3\",\n                                      width: \"18\",\n                                      height: \"18\",\n                                      rx: \"2\",\n                                      ry: \"2\"\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 1919,\n                                      columnNumber: 47\n                                    }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                                      cx: \"8.5\",\n                                      cy: \"8.5\",\n                                      r: \"1.5\"\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 1920,\n                                      columnNumber: 47\n                                    }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n                                      points: \"21,15 16,10 5,21\"\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 1921,\n                                      columnNumber: 47\n                                    }, this)]\n                                  }, void 0, true, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 1918,\n                                    columnNumber: 45\n                                  }, this), \"Upload Thumbnail (Optional)\"]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1917,\n                                  columnNumber: 43\n                                }, this), !row.thumbnailPreview && /*#__PURE__*/_jsxDEV(\"input\", {\n                                  type: \"file\",\n                                  accept: \"image/*\",\n                                  onChange: e => handleThumbnailUpload(row.id, e),\n                                  className: \"ig-media-input\",\n                                  id: `ig-thumbnail-upload-${row.id}`,\n                                  disabled: row.thumbnailUploading,\n                                  style: {\n                                    display: 'none'\n                                  }\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1927,\n                                  columnNumber: 43\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1870,\n                                columnNumber: 39\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1843,\n                              columnNumber: 37\n                            }, this) : (_row$mediaFile = row.mediaFile) !== null && _row$mediaFile !== void 0 && (_row$mediaFile$type = _row$mediaFile.type) !== null && _row$mediaFile$type !== void 0 && _row$mediaFile$type.startsWith('image/') || !row.mediaFile && row.mediaPreview ? /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"ig-single-media-preview\",\n                              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                                src: row.mediaPreview,\n                                alt: \"Preview\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1941,\n                                columnNumber: 39\n                              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"ig-media-actions\",\n                                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                                  onClick: () => handleViewMedia(row.id),\n                                  className: \"ig-media-action-btn view-btn\",\n                                  title: \"View image\",\n                                  children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                                    width: \"14\",\n                                    height: \"14\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"none\",\n                                    stroke: \"currentColor\",\n                                    strokeWidth: \"2\",\n                                    children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                                      d: \"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 1949,\n                                      columnNumber: 45\n                                    }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                                      cx: \"12\",\n                                      cy: \"12\",\n                                      r: \"3\"\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 1950,\n                                      columnNumber: 45\n                                    }, this)]\n                                  }, void 0, true, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 1948,\n                                    columnNumber: 43\n                                  }, this)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1943,\n                                  columnNumber: 41\n                                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                                  onClick: () => handleRemoveMedia(row.id),\n                                  className: \"ig-media-action-btn remove-btn\",\n                                  title: \"Remove image\",\n                                  children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                                    width: \"14\",\n                                    height: \"14\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"none\",\n                                    stroke: \"currentColor\",\n                                    strokeWidth: \"2\",\n                                    children: [/*#__PURE__*/_jsxDEV(\"line\", {\n                                      x1: \"18\",\n                                      y1: \"6\",\n                                      x2: \"6\",\n                                      y2: \"18\"\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 1959,\n                                      columnNumber: 45\n                                    }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                                      x1: \"6\",\n                                      y1: \"6\",\n                                      x2: \"18\",\n                                      y2: \"18\"\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 1960,\n                                      columnNumber: 45\n                                    }, this)]\n                                  }, void 0, true, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 1958,\n                                    columnNumber: 43\n                                  }, this)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1953,\n                                  columnNumber: 41\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1942,\n                                columnNumber: 39\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1940,\n                              columnNumber: 37\n                            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"ig-single-media-preview\",\n                              children: [/*#__PURE__*/_jsxDEV(\"video\", {\n                                src: row.mediaPreview,\n                                controls: true\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1967,\n                                columnNumber: 39\n                              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"ig-media-actions\",\n                                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                                  onClick: () => handleViewMedia(row.id),\n                                  className: \"ig-media-action-btn view-btn\",\n                                  title: \"View video\",\n                                  children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                                    width: \"14\",\n                                    height: \"14\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"none\",\n                                    stroke: \"currentColor\",\n                                    strokeWidth: \"2\",\n                                    children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                                      d: \"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 1975,\n                                      columnNumber: 45\n                                    }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                                      cx: \"12\",\n                                      cy: \"12\",\n                                      r: \"3\"\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 1976,\n                                      columnNumber: 45\n                                    }, this)]\n                                  }, void 0, true, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 1974,\n                                    columnNumber: 43\n                                  }, this)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1969,\n                                  columnNumber: 41\n                                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                                  onClick: () => handleRemoveMedia(row.id),\n                                  className: \"ig-media-action-btn remove-btn\",\n                                  title: \"Remove video\",\n                                  children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                                    width: \"14\",\n                                    height: \"14\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"none\",\n                                    stroke: \"currentColor\",\n                                    strokeWidth: \"2\",\n                                    children: [/*#__PURE__*/_jsxDEV(\"line\", {\n                                      x1: \"18\",\n                                      y1: \"6\",\n                                      x2: \"6\",\n                                      y2: \"18\"\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 1985,\n                                      columnNumber: 45\n                                    }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                                      x1: \"6\",\n                                      y1: \"6\",\n                                      x2: \"18\",\n                                      y2: \"18\"\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 1986,\n                                      columnNumber: 45\n                                    }, this)]\n                                  }, void 0, true, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 1984,\n                                    columnNumber: 43\n                                  }, this)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1979,\n                                  columnNumber: 41\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1968,\n                                columnNumber: 39\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1966,\n                              columnNumber: 37\n                            }, this)\n                          }, void 0, false)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1768,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1765,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1665,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1664,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ig-grid-cell ig-date-cell\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"date\",\n                      value: row.scheduledDate,\n                      onChange: e => handleCellEdit(row.id, 'scheduledDate', e.target.value),\n                      className: \"ig-date-input\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2002,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2001,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ig-grid-cell ig-time-cell\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"time\",\n                      value: row.scheduledTime,\n                      onChange: e => handleCellEdit(row.id, 'scheduledTime', e.target.value),\n                      className: \"ig-time-input\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2010,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2009,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ig-grid-cell ig-status-cell\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `ig-status-badge ${getStatusClass(row.status)}`,\n                      children: [getStatusIcon(row.status), \" \", row.status]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2018,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2017,\n                    columnNumber: 21\n                  }, this)]\n                }, row.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1626,\n                  columnNumber: 19\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1624,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1615,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1614,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1535,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ig-queue-confirmation\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Step 3: Schedule & Publish\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2031,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ig-confirmation-stats\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ig-stat-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ig-stat-label\",\n              children: \"Total Posts:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2034,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ig-stat-value\",\n              children: composerRows.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2035,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2033,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ig-stat-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ig-stat-label\",\n              children: \"With Captions:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2038,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ig-stat-value\",\n              children: composerRows.filter(row => (row.caption || '').trim()).length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2039,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2037,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ig-stat-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ig-stat-label\",\n              children: \"Ready to Schedule:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2042,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ig-stat-value\",\n              children: composerRows.filter(row => row.status === 'ready').length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2043,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2041,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ig-stat-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ig-stat-label\",\n              children: \"With Media:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2046,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ig-stat-value\",\n              children: composerRows.filter(row => row.mediaFile || row.mediaPreview).length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2047,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2045,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2032,\n          columnNumber: 9\n        }, this), isScheduling && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ig-schedule-progress\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ig-progress-bar\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ig-progress-fill\",\n              style: {\n                width: `${scheduleProgress}%`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2053,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2052,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ig-progress-text\",\n            children: [\"Scheduling Instagram posts... \", Math.round(scheduleProgress), \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2058,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2051,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ig-confirmation-actions\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleScheduleAll,\n            disabled: isScheduling || composerRows.filter(row => row.status === 'ready').length === 0,\n            className: \"ig-btn ig-btn-primary ig-btn-large\",\n            children: isScheduling ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"16\",\n                height: \"16\",\n                viewBox: \"0 0 24 24\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                strokeWidth: \"2\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M21 12a9 9 0 11-6.219-8.56\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2070,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2069,\n                columnNumber: 17\n              }, this), \"Scheduling...\"]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"16\",\n                height: \"16\",\n                viewBox: \"0 0 24 24\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                strokeWidth: \"2\",\n                children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                  cx: \"12\",\n                  cy: \"12\",\n                  r: \"10\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2077,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n                  points: \"12,6 12,12 16,14\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2078,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2076,\n                columnNumber: 17\n              }, this), \"Schedule Ready Posts (\", composerRows.filter(row => row.status === 'ready').length, \")\"]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2062,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2061,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2030,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1244,\n      columnNumber: 7\n    }, this), expandedCaption && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Edit Caption\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2094,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setExpandedCaption(null),\n            className: \"modal-close\",\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2095,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2093,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"caption-info\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Scheduled:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2104,\n                columnNumber: 18\n              }, this), \" \", expandedCaption.scheduledDate, \" at \", expandedCaption.scheduledTime]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2104,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2103,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: expandedCaption.caption,\n            onChange: e => setExpandedCaption(prev => ({\n              ...prev,\n              caption: e.target.value\n            })),\n            className: \"expanded-caption-textarea\",\n            rows: \"10\",\n            placeholder: \"Enter your caption...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2106,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-footer\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setExpandedCaption(null),\n            className: \"ig-btn ig-btn-secondary\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2115,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleSaveExpandedCaption(expandedCaption.id, expandedCaption.caption),\n            className: \"ig-btn ig-btn-primary\",\n            children: \"Save Changes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2121,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2114,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2092,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2091,\n      columnNumber: 7\n    }, this), mediaPreviewModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content media-preview-modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: mediaPreviewModal.mediaType === 'carousel-image' ? `Carousel Image ${mediaPreviewModal.imageIndex + 1}` : mediaPreviewModal.mediaType === 'thumbnail' ? 'Thumbnail Preview' : 'Media Preview'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2139,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setMediaPreviewModal(null),\n            className: \"modal-close\",\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2143,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-body\",\n          children: [(_mediaPreviewModal$me = mediaPreviewModal.mediaFile) !== null && _mediaPreviewModal$me !== void 0 && (_mediaPreviewModal$me2 = _mediaPreviewModal$me.type) !== null && _mediaPreviewModal$me2 !== void 0 && _mediaPreviewModal$me2.startsWith('image/') || !mediaPreviewModal.mediaFile && mediaPreviewModal.mediaPreview ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: mediaPreviewModal.mediaPreview,\n            alt: \"Media preview\",\n            className: \"modal-media\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2152,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"video\", {\n            src: mediaPreviewModal.mediaPreview,\n            controls: true,\n            className: \"modal-media\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2158,\n            columnNumber: 15\n          }, this), mediaPreviewModal.caption && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-caption\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Caption:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2166,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: mediaPreviewModal.caption\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2167,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2165,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2150,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-footer\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setMediaPreviewModal(null),\n            className: \"ig-btn ig-btn-primary\",\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2172,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2171,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2137,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2136,\n      columnNumber: 7\n    }, this), carouselReorderModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content carousel-reorder-modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Reorder Carousel Images\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2190,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setCarouselReorderModal(null),\n            className: \"modal-close\",\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2191,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2189,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"reorder-instructions\",\n            children: \"Drag and drop to reorder images. The first image will be the cover image.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2199,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"carousel-reorder-grid\",\n            children: carouselReorderModal.carouselImages.map((url, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"carousel-reorder-item\",\n              draggable: true,\n              onDragStart: e => e.dataTransfer.setData('text/plain', index),\n              onDragOver: e => e.preventDefault(),\n              onDrop: e => {\n                e.preventDefault();\n                const dragIndex = parseInt(e.dataTransfer.getData('text/plain'));\n                const dropIndex = index;\n                if (dragIndex !== dropIndex) {\n                  const newOrder = [...carouselReorderModal.carouselImages];\n                  const draggedItem = newOrder[dragIndex];\n                  newOrder.splice(dragIndex, 1);\n                  newOrder.splice(dropIndex, 0, draggedItem);\n                  setCarouselReorderModal(prev => ({\n                    ...prev,\n                    carouselImages: newOrder\n                  }));\n                }\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: url,\n                alt: `Carousel ${index + 1}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2224,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"carousel-reorder-overlay\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"carousel-reorder-number\",\n                  children: index + 1\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2226,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleViewCarouselImage(carouselReorderModal.id, index),\n                  className: \"carousel-reorder-view\",\n                  title: \"View full size\",\n                  children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                    width: \"16\",\n                    height: \"16\",\n                    viewBox: \"0 0 24 24\",\n                    fill: \"none\",\n                    stroke: \"currentColor\",\n                    strokeWidth: \"2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                      d: \"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2233,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                      cx: \"12\",\n                      cy: \"12\",\n                      r: \"3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2234,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2232,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2227,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    const newImages = carouselReorderModal.carouselImages.filter((_, i) => i !== index);\n                    setCarouselReorderModal(prev => ({\n                      ...prev,\n                      carouselImages: newImages\n                    }));\n                  },\n                  className: \"carousel-reorder-remove\",\n                  title: \"Remove image\",\n                  children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                    width: \"16\",\n                    height: \"16\",\n                    viewBox: \"0 0 24 24\",\n                    fill: \"none\",\n                    stroke: \"currentColor\",\n                    strokeWidth: \"2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"line\", {\n                      x1: \"18\",\n                      y1: \"6\",\n                      x2: \"6\",\n                      y2: \"18\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2249,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                      x1: \"6\",\n                      y1: \"6\",\n                      x2: \"18\",\n                      y2: \"18\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2250,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2248,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2237,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2225,\n                columnNumber: 19\n              }, this), index === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"carousel-cover-badge\",\n                children: \"Cover\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2254,\n                columnNumber: 35\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2202,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2200,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2198,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-footer\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setCarouselReorderModal(null),\n            className: \"ig-btn ig-btn-secondary\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2260,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              handleReorderCarouselImages(carouselReorderModal.id, carouselReorderModal.carouselImages);\n              setCarouselReorderModal(null);\n            },\n            className: \"ig-btn ig-btn-primary\",\n            children: \"Save Order\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2266,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2259,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2188,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2187,\n      columnNumber: 7\n    }, this), thumbnailPreviewModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content media-preview-modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Thumbnail Preview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2287,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setThumbnailPreviewModal(null),\n            className: \"modal-close\",\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2288,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2286,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: thumbnailPreviewModal.mediaPreview,\n            alt: \"Thumbnail preview\",\n            className: \"modal-media\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2296,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-caption\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Reel Thumbnail\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2302,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"This image will be used as the cover for your reel video.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2303,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2301,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2295,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-footer\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setThumbnailPreviewModal(null),\n            className: \"ig-btn ig-btn-primary\",\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2307,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2306,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2285,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2284,\n      columnNumber: 7\n    }, this), carouselReorderModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content carousel-reorder-modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Reorder Carousel Images\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2325,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setCarouselReorderModal(null),\n            className: \"modal-close\",\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2326,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2324,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"reorder-instructions\",\n            children: \"Drag and drop to reorder images. The first image will be the cover image.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2334,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"carousel-reorder-grid\",\n            children: carouselReorderModal.carouselImages.map((url, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"carousel-reorder-item\",\n              draggable: true,\n              onDragStart: e => e.dataTransfer.setData('text/plain', index),\n              onDragOver: e => e.preventDefault(),\n              onDrop: e => {\n                e.preventDefault();\n                const dragIndex = parseInt(e.dataTransfer.getData('text/plain'));\n                const dropIndex = index;\n                if (dragIndex !== dropIndex) {\n                  const newOrder = [...carouselReorderModal.carouselImages];\n                  const draggedItem = newOrder[dragIndex];\n                  newOrder.splice(dragIndex, 1);\n                  newOrder.splice(dropIndex, 0, draggedItem);\n                  setCarouselReorderModal(prev => ({\n                    ...prev,\n                    carouselImages: newOrder\n                  }));\n                }\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: url,\n                alt: `Carousel ${index + 1}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2359,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"carousel-reorder-overlay\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"carousel-reorder-number\",\n                  children: index + 1\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2361,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleViewCarouselImage(carouselReorderModal.id, index),\n                  className: \"carousel-reorder-view\",\n                  title: \"View full size\",\n                  children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                    width: \"16\",\n                    height: \"16\",\n                    viewBox: \"0 0 24 24\",\n                    fill: \"none\",\n                    stroke: \"currentColor\",\n                    strokeWidth: \"2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                      d: \"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2368,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                      cx: \"12\",\n                      cy: \"12\",\n                      r: \"3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2369,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2367,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2362,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    const newImages = carouselReorderModal.carouselImages.filter((_, i) => i !== index);\n                    setCarouselReorderModal(prev => ({\n                      ...prev,\n                      carouselImages: newImages\n                    }));\n                  },\n                  className: \"carousel-reorder-remove\",\n                  title: \"Remove image\",\n                  children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                    width: \"16\",\n                    height: \"16\",\n                    viewBox: \"0 0 24 24\",\n                    fill: \"none\",\n                    stroke: \"currentColor\",\n                    strokeWidth: \"2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"line\", {\n                      x1: \"18\",\n                      y1: \"6\",\n                      x2: \"6\",\n                      y2: \"18\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2384,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                      x1: \"6\",\n                      y1: \"6\",\n                      x2: \"18\",\n                      y2: \"18\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2385,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2383,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2372,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2360,\n                columnNumber: 19\n              }, this), index === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"carousel-cover-badge\",\n                children: \"Cover\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2389,\n                columnNumber: 35\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2337,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2335,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2333,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-footer\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setCarouselReorderModal(null),\n            className: \"ig-btn ig-btn-secondary\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2395,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              handleReorderCarouselImages(carouselReorderModal.id, carouselReorderModal.carouselImages);\n              setCarouselReorderModal(null);\n            },\n            className: \"ig-btn ig-btn-primary\",\n            children: \"Save Order\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2401,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2394,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2323,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2322,\n      columnNumber: 7\n    }, this), thumbnailPreviewModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content media-preview-modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Thumbnail Preview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2422,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setThumbnailPreviewModal(null),\n            className: \"modal-close\",\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2423,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2421,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: thumbnailPreviewModal.mediaPreview,\n            alt: \"Thumbnail preview\",\n            className: \"modal-media\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2431,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-caption\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Reel Thumbnail\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2437,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"This image will be used as the cover for your reel video.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2438,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2436,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2430,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-footer\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setThumbnailPreviewModal(null),\n            className: \"ig-btn ig-btn-primary\",\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2442,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2441,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2420,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2419,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1239,\n    columnNumber: 5\n  }, this);\n}\n_s(IgBulkComposer, \"Fcuq6XOdFv6YPFScmPn5IsV60QU=\", false, function () {\n  return [useAuth, useNotifications, useNavigate];\n});\n_c = IgBulkComposer;\nexport default IgBulkComposer;\nvar _c;\n$RefreshReg$(_c, \"IgBulkComposer\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useAuth","useNotifications","apiClient","fileToBase64","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","IgBulkComposer","selectedAccount","onClose","_s","_mediaPreviewModal$me","_mediaPreviewModal$me2","user","addNotification","strategyData","setStrategyData","promptTemplate","customStrategyTemplate","brandName","hookIdea","features","location","phone","website","callToAction","imagePrompt","startDate","endDate","frequency","customCron","timeSlot","composerRows","setComposerRows","selectedRows","setSelectedRows","editingCell","setEditingCell","dragStartRow","setDragStartRow","postType","setPostType","carouselImageCount","setCarouselImageCount","currentMonth","setCurrentMonth","Date","isScheduling","setIsScheduling","scheduleProgress","setScheduleProgress","expandedCaption","setExpandedCaption","mediaPreviewModal","setMediaPreviewModal","carouselReorderModal","setCarouselReorderModal","thumbnailPreviewModal","setThumbnailPreviewModal","scheduledGridRows","setScheduledGridRows","navigate","promptTemplates","id","name","prompt","gridRef","carouselInputRefs","generateInitialRows","startDateParts","split","parseInt","endDateParts","rows","maxDays","currentDate","dayCount","rowCount","yyyy","getFullYear","mm","String","getMonth","padStart","dd","getDate","formattedDate","push","caption","mediaFile","mediaPreview","thumbnailFile","thumbnailPreview","toLowerCase","carouselImages","scheduledDate","scheduledTime","status","isSelected","maxAllowedDate","now","shouldInclude","getDay","getTime","setDate","handleStrategyChange","field","value","prev","newData","map","row","handlePostTypeChange","newPostType","handleCarouselImageCountChange","newCount","handleRowSelect","rowId","includes","filter","handleSelectAll","length","handleCellEdit","hasCaption","trim","hasEnoughImages","hasMedia","handleMediaUpload","event","file","target","files","find","r","alert","reader","FileReader","onload","e","result","readAsDataURL","handleGenerateMedia","console","log","substring","response","generateInstagramImage","success","data","image_url","error","handleGenerateAllCaptions","selectedComposerRows","captions","selectedTemplate","t","i","context","fullPrompt","JSON","stringify","captionResponse","generateInstagramCaption","content","generated_text","message","Math","round","c","successCount","failedCount","handleGenerateAllImages","errorCount","handleExpandCaption","handleViewMedia","handleSaveExpandedCaption","newCaption","handleThumbnailUpload","type","startsWith","thumbnailUploading","uploadResponse","uploadThumbnailToCloudinary","url","thumbnailUrl","handleRemoveThumbnail","handleRemoveMedia","handleGenerateCarousel","imageCount","generateInstagramCarousel","image_urls","errorMsg","handleCarouselUpload","Array","from","maxImages","minImages","imageUrls","uploadImageToCloudinary","current","handleViewCarouselImage","imageIndex","mediaType","handleRemoveCarouselImage","_","index","newImages","handleViewCarousel","handleReorderCarouselImages","newOrder","handleViewThumbnail","handleRemoveCarouselImages","handleDuplicateRow","rowToDuplicate","newRow","random","toISOString","handleDeleteRow","handleBulkDelete","handleTimeShift","direction","hours","minutes","newHours","toString","handleDragStart","handleDragOver","preventDefault","handleDrop","targetRowId","sourceIndex","findIndex","targetIndex","movedRow","splice","handleScheduleAll","readyRows","processedCount","totalPosts","postsWithMedia","Promise","all","basePost","scheduled_datetime","scheduled_date","scheduled_time","post_type","media_file","media_filename","image_prompt","carouselFiles","carousel_images","carousel_filenames","idx","carousel_image_count","thumbnail_url","thumbnail_file","thumbnail_filename","normalizedPostsWithMedia","post","bulkData","social_account_id","posts","bulkScheduleInstagramPosts","_response$scheduled_p","scheduled_posts","some","state","isArray","results","forEach","strategyName","platform","failed_posts","fp","errorData","hasReel","handleCalendarDateSelect","date","getStatusIcon","getStatusClass","generateCalendarDays","year","month","daysInMonth","firstDayOfMonth","days","day","getPostsForDate","dateString","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","width","height","viewBox","fill","stroke","strokeWidth","x","y","rx","ry","cx","cy","points","x1","y1","x2","y2","min","max","onChange","template","placeholder","style","display","alignItems","gap","disabled","title","toLocaleDateString","postIndex","d","ref","_row$mediaFile","_row$mediaFile$type","draggable","onDragStart","onDragOver","onDrop","checked","accept","htmlFor","multiple","el","slice","src","alt","controls","dataTransfer","setData","dragIndex","getData","dropIndex","draggedItem","_c","$RefreshReg$"],"sources":["C:/Users/THORSIGNIA/Projects/automation-dash/frontend/src/components/igBulkComposer.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { useNotifications } from '../contexts/NotificationContext';\r\nimport apiClient from '../services/apiClient';\r\nimport { fileToBase64 } from './FacebookUtils';\r\nimport './igBulkComposer.css';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction IgBulkComposer({ selectedAccount, onClose }) {\r\n  const { user } = useAuth();\r\n  const { addNotification } = useNotifications();\r\n\r\n  // Strategy step state\r\n  const [strategyData, setStrategyData] = useState({\r\n    promptTemplate: '',\r\n    customStrategyTemplate: '',\r\n    brandName: '',\r\n    hookIdea: '',\r\n    features: '',\r\n    location: '',\r\n    phone: '',\r\n    website: '',\r\n    callToAction: '',\r\n    imagePrompt: '',\r\n    startDate: '',\r\n    endDate: '',\r\n    frequency: 'daily',\r\n    customCron: '',\r\n    timeSlot: '09:00'\r\n  });\r\n\r\n  // Composer grid state\r\n  const [composerRows, setComposerRows] = useState([]);\r\n  const [selectedRows, setSelectedRows] = useState([]);\r\n  const [editingCell, setEditingCell] = useState(null);\r\n  const [dragStartRow, setDragStartRow] = useState(null);\r\n\r\n  // Post type state\r\n  const [postType, setPostType] = useState('photo'); // photo, carousel, reel\r\n  const [carouselImageCount, setCarouselImageCount] = useState(2);\r\n\r\n  // Calendar preview state\r\n  const [currentMonth, setCurrentMonth] = useState(new Date());\r\n\r\n  // Queue state\r\n  const [isScheduling, setIsScheduling] = useState(false);\r\n  const [scheduleProgress, setScheduleProgress] = useState(0);\r\n\r\n  // Expanded view state\r\n  const [expandedCaption, setExpandedCaption] = useState(null);\r\n  const [mediaPreviewModal, setMediaPreviewModal] = useState(null);\r\n  const [carouselReorderModal, setCarouselReorderModal] = useState(null);\r\n  const [thumbnailPreviewModal, setThumbnailPreviewModal] = useState(null);\r\n  const [scheduledGridRows, setScheduledGridRows] = useState([]);\r\n  const navigate = useNavigate();\r\n\r\n  // Prompt templates for Instagram\r\n  const [promptTemplates] = useState([\r\n    { id: 1, name: 'Daily Inspiration', prompt: 'Share an inspiring quote or motivational message for your Instagram audience' },\r\n    { id: 2, name: 'Product Showcase', prompt: 'Highlight your best products with engaging descriptions and hashtags' },\r\n    { id: 3, name: 'Behind the Scenes', prompt: 'Share behind-the-scenes content about your business or team' },\r\n    { id: 4, name: 'Customer Spotlight', prompt: 'Feature customer testimonials or success stories' },\r\n    { id: 5, name: 'Industry Tips', prompt: 'Share valuable tips and insights related to your industry' },\r\n    { id: 6, name: 'Lifestyle Content', prompt: 'Share lifestyle content that resonates with your audience' },\r\n    { id: 7, name: 'User Generated Content', prompt: 'Repost and credit amazing content from your community' },\r\n    { id: 8, name: 'Custom', prompt: 'custom' }\r\n  ]);\r\n\r\n  const gridRef = useRef(null);\r\n  const carouselInputRefs = useRef({});\r\n\r\n  // Initialize composer with default rows\r\n  useEffect(() => {\r\n    if (strategyData.startDate && strategyData.frequency) {\r\n      generateInitialRows();\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [strategyData.startDate, strategyData.endDate, strategyData.frequency, strategyData.timeSlot]);\r\n\r\n  const generateInitialRows = () => {\r\n    if (!strategyData.startDate) return;\r\n\r\n    const startDateParts = strategyData.startDate.split('-');\r\n    const startDate = new Date(parseInt(startDateParts[0]), parseInt(startDateParts[1]) - 1, parseInt(startDateParts[2]));\r\n\r\n    let endDate = null;\r\n    if (strategyData.endDate) {\r\n      const endDateParts = strategyData.endDate.split('-');\r\n      endDate = new Date(parseInt(endDateParts[0]), parseInt(endDateParts[1]) - 1, parseInt(endDateParts[2]));\r\n    }\r\n\r\n    const rows = [];\r\n    const maxDays = 30; // Instagram's 30-day limit\r\n    let currentDate = new Date(startDate);\r\n    let dayCount = 0;\r\n    let rowCount = 0;\r\n\r\n    if (!endDate) {\r\n      // Format as YYYY-MM-DD using local date parts (same as multi-day logic)\r\n      const yyyy = startDate.getFullYear();\r\n      const mm = String(startDate.getMonth() + 1).padStart(2, '0');\r\n      const dd = String(startDate.getDate()).padStart(2, '0');\r\n      const formattedDate = `${yyyy}-${mm}-${dd}`;\r\n      rows.push({\r\n        id: `row-0`,\r\n        caption: '',\r\n        mediaFile: null,\r\n        mediaPreview: null,\r\n        thumbnailFile: null,\r\n        thumbnailPreview: null,\r\n        postType: postType.toLowerCase(),\r\n        carouselImageCount: carouselImageCount,\r\n        carouselImages: [],\r\n        scheduledDate: formattedDate,\r\n        scheduledTime: strategyData.timeSlot,\r\n        status: 'draft',\r\n        isSelected: false\r\n      });\r\n    } else {\r\n      // Fix: include the end date by using <= in the comparison\r\n      while (dayCount < maxDays && rowCount < 30) {\r\n        if (endDate && currentDate > endDate) break;\r\n        const maxAllowedDate = new Date(Date.now() + 30 * 24 * 60 * 60 * 1000);\r\n        if (currentDate > maxAllowedDate) break;\r\n\r\n        let shouldInclude = false;\r\n        switch (strategyData.frequency) {\r\n          case 'daily':\r\n            shouldInclude = true;\r\n            break;\r\n          case 'weekly':\r\n            shouldInclude = currentDate.getDay() === startDate.getDay();\r\n            break;\r\n          case 'monthly':\r\n            shouldInclude = currentDate.getDate() === startDate.getDate();\r\n            break;\r\n          case 'custom':\r\n            shouldInclude = true;\r\n            break;\r\n          default:\r\n            shouldInclude = true;\r\n        }\r\n\r\n        if (shouldInclude) {\r\n          // Format as YYYY-MM-DD using local date parts\r\n          const yyyy = currentDate.getFullYear();\r\n          const mm = String(currentDate.getMonth() + 1).padStart(2, '0');\r\n          const dd = String(currentDate.getDate()).padStart(2, '0');\r\n          const formattedDate = `${yyyy}-${mm}-${dd}`;\r\n          rows.push({\r\n            id: `row-${rowCount}`,\r\n            caption: '',\r\n            mediaFile: null,\r\n            mediaPreview: null,\r\n            thumbnailFile: null,\r\n            thumbnailPreview: null,\r\n            postType: postType.toLowerCase(),\r\n            carouselImageCount: carouselImageCount,\r\n            carouselImages: [],\r\n            scheduledDate: formattedDate,\r\n            scheduledTime: strategyData.timeSlot,\r\n            status: 'draft',\r\n            isSelected: false\r\n          });\r\n          rowCount++;\r\n        }\r\n        // Fix: increment date at the end, and break if we've reached the end date\r\n        if (endDate && currentDate.getTime() === endDate.getTime()) break;\r\n        currentDate.setDate(currentDate.getDate() + 1);\r\n        dayCount++;\r\n      }\r\n    }\r\n    setComposerRows(rows);\r\n  };\r\n\r\n  const handleStrategyChange = (field, value) => {\r\n    setStrategyData(prev => {\r\n      const newData = { ...prev, [field]: value };\r\n      // If start date is changed and end date is before it, clear end date\r\n      if (field === 'startDate' && prev.endDate && value > prev.endDate) {\r\n        newData.endDate = '';\r\n      }\r\n      return newData;\r\n    });\r\n\r\n    // If prompt template is selected, apply it to all rows\r\n    if (field === 'promptTemplate' && value && value !== 'custom') {\r\n      setComposerRows(prev =>\r\n        prev.map(row => ({\r\n          ...row,\r\n          caption: value\r\n        }))\r\n      );\r\n    }\r\n  };\r\n\r\n  // Update post type for all rows\r\n  const handlePostTypeChange = (newPostType) => {\r\n    setPostType(newPostType);\r\n    setComposerRows(prev =>\r\n      prev.map(row => ({\r\n        ...row,\r\n        postType: newPostType.toLowerCase(),\r\n        carouselImageCount: newPostType === 'carousel' ? carouselImageCount : null,\r\n        carouselImages: newPostType === 'carousel' ? (row.carouselImages || []) : [],\r\n        // Clear media for photo/reel when switching to carousel\r\n        mediaFile: newPostType === 'carousel' ? null : row.mediaFile,\r\n        mediaPreview: newPostType === 'carousel' ? null : row.mediaPreview,\r\n        // Clear thumbnail when switching away from reel\r\n        thumbnailFile: newPostType === 'reel' ? row.thumbnailFile : null,\r\n        thumbnailPreview: newPostType === 'reel' ? row.thumbnailPreview : null\r\n      }))\r\n    );\r\n  };\r\n\r\n  // Update carousel image count for all rows\r\n  const handleCarouselImageCountChange = (newCount) => {\r\n    setCarouselImageCount(newCount);\r\n    setComposerRows(prev =>\r\n      prev.map(row => ({\r\n        ...row,\r\n        carouselImageCount: row.postType === 'carousel' ? newCount : row.carouselImageCount\r\n      }))\r\n    );\r\n  };\r\n\r\n  const handleRowSelect = (rowId) => {\r\n    setSelectedRows(prev => prev.includes(rowId) ? prev.filter(id => id !== rowId) : [...prev, rowId]);\r\n  };\r\n\r\n  const handleSelectAll = () => {\r\n    if (selectedRows.length === composerRows.length) {\r\n      setSelectedRows([]);\r\n    } else {\r\n      setSelectedRows(composerRows.map(row => row.id));\r\n    }\r\n  };\r\n\r\n  const handleCellEdit = (rowId, field, value) => {\r\n    setComposerRows(prev =>\r\n      prev.map(row =>\r\n        row.id === rowId\r\n          ? {\r\n            ...row,\r\n            [field]: field === 'postType' ? value.toLowerCase() : value,\r\n            status: (() => {\r\n              // For carousel posts, check if we have enough images\r\n              if (field === 'postType' && value.toLowerCase() === 'carousel') {\r\n                return 'draft'; // Reset status when switching to carousel\r\n              }\r\n\r\n              // For carousel posts, validate image count\r\n              if (row.postType === 'carousel') {\r\n                const hasCaption = (row.caption || '').trim();\r\n                const hasEnoughImages = (row.carouselImages || []).length >= 2;\r\n                return hasCaption && hasEnoughImages ? 'ready' : 'draft';\r\n              }\r\n\r\n              // For other post types, use existing logic\r\n              if (field === 'caption' || field === 'mediaFile' || field === 'mediaPreview') {\r\n                const hasCaption = field === 'caption' ? value.trim() : (row.caption || '').trim();\r\n                const hasMedia = field === 'mediaFile' ? value : (row.mediaFile || row.mediaPreview);\r\n                return hasCaption && hasMedia ? 'ready' : 'draft';\r\n              }\r\n\r\n              return row.status;\r\n            })()\r\n          }\r\n          : row\r\n      )\r\n    );\r\n  };\r\n\r\n  const handleMediaUpload = async (rowId, event) => {\r\n    const file = event.target.files[0];\r\n    if (!file) return;\r\n\r\n    // Find the row to determine post type\r\n    const row = composerRows.find(r => r.id === rowId);\r\n    if (!row) return;\r\n\r\n    // --- REELS VIDEO UPLOAD LOGIC ---\r\n    if (row.postType === 'reel') {\r\n      alert('Your video is converted to: 1080x1920 as instagram policy.');\r\n      // Proceed to upload to backend as before...\r\n    }\r\n\r\n    // --- PHOTO/CAROUSEL LOGIC (unchanged) ---\r\n    const reader = new FileReader();\r\n    reader.onload = (e) => {\r\n      setComposerRows(prev =>\r\n        prev.map(row =>\r\n          row.id === rowId\r\n            ? {\r\n              ...row,\r\n              mediaFile: file,\r\n              mediaPreview: e.target.result,\r\n              status: (row.caption || '').trim() ? 'ready' : 'draft'\r\n            }\r\n            : row\r\n        )\r\n      );\r\n    };\r\n    reader.readAsDataURL(file);\r\n  };\r\n\r\n  const handleGenerateMedia = async (rowId) => {\r\n    try {\r\n      const row = composerRows.find(r => r.id === rowId);\r\n      if (!row || !(row.caption || '').trim()) {\r\n        alert('Please add a caption first to generate an image.');\r\n        return;\r\n      }\r\n\r\n      console.log(`Generating image for row ${rowId} with caption: ${row.caption.substring(0, 50)}...`);\r\n\r\n      // Truncate caption to 500 characters for image generation\r\n      const imagePrompt = row.caption.trim().substring(0, 500);\r\n      console.log(`Using image prompt (truncated): ${imagePrompt.substring(0, 100)}...`);\r\n\r\n      const response = await apiClient.generateInstagramImage(imagePrompt, 'feed');\r\n\r\n      if (response.success && response.data && response.data.image_url) {\r\n        console.log(`Successfully generated image for row ${rowId}:`, response.data.image_url);\r\n        setComposerRows(prev =>\r\n          prev.map(r =>\r\n            r.id === rowId\r\n              ? {\r\n                ...r,\r\n                mediaFile: null,\r\n                mediaPreview: response.data.image_url,\r\n                status: (r.caption || '').trim() ? 'ready' : 'draft'\r\n              }\r\n              : r\r\n          )\r\n        );\r\n      } else {\r\n        console.log(`Failed to generate image for row ${rowId}:`, response);\r\n        alert('Failed to generate image. Please try again.');\r\n      }\r\n    } catch (error) {\r\n      console.error(`Error generating image for row ${rowId}:`, error);\r\n      alert('Failed to generate image. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleGenerateAllCaptions = async () => {\r\n    if (selectedRows.length === 0) {\r\n      alert('Please select at least one row to generate captions for.');\r\n      return;\r\n    }\r\n\r\n    if (!strategyData.promptTemplate) {\r\n      alert('Please select a strategy template first.');\r\n      return;\r\n    }\r\n\r\n    setIsScheduling(true);\r\n    setScheduleProgress(0);\r\n\r\n    try {\r\n      const selectedComposerRows = composerRows.filter(row => selectedRows.includes(row.id));\r\n      const captions = [];\r\n\r\n      // Create the base prompt based on the selected template type\r\n      let prompt = '';\r\n\r\n      if (strategyData.promptTemplate === 'custom') {\r\n        // Build a detailed prompt for custom templates\r\n        prompt = `\r\n          Brand Name: ${strategyData.brandName || 'Not specified'}\r\n          Hook Idea: ${strategyData.hookIdea || 'Not specified'}\r\n          Key Features: ${strategyData.features || 'Not specified'}\r\n          Location: ${strategyData.location || 'Not specified'}\r\n          Phone: ${strategyData.phone || 'Not specified'}\r\n          Website: ${strategyData.website || 'Not specified'}\r\n          Call to Action: ${strategyData.callToAction || 'Not specified'}\r\n          Image Prompt: ${strategyData.imagePrompt || 'Not specified'}\r\n          \r\n          Custom Template:\r\n          ${strategyData.customStrategyTemplate || ''}\r\n        `;\r\n      } else {\r\n        // Use the selected predefined template\r\n        const selectedTemplate = promptTemplates.find(t => t.prompt === strategyData.promptTemplate);\r\n        if (!selectedTemplate) {\r\n          alert('Invalid strategy template selected.');\r\n          setIsScheduling(false);\r\n          return;\r\n        }\r\n        prompt = selectedTemplate.prompt;\r\n      }\r\n\r\n      // Generate captions for each selected row\r\n      for (let i = 0; i < selectedComposerRows.length; i++) {\r\n        try {\r\n          const row = selectedComposerRows[i];\r\n          const context = {\r\n            scheduledDate: row.scheduledDate,\r\n            // Add any other context you want to include\r\n          };\r\n\r\n          // Add context to the prompt\r\n          const fullPrompt = `${prompt}\\n\\nContext: ${JSON.stringify(context, null, 2)}`;\r\n\r\n          const captionResponse = await apiClient.generateInstagramCaption(fullPrompt);\r\n\r\n          if (captionResponse.success) {\r\n            captions.push({\r\n              content: captionResponse.content || captionResponse.generated_text || 'No content generated',\r\n              context: context.scheduledDate,\r\n              success: true\r\n            });\r\n          } else {\r\n            console.error('Caption generation failed:', captionResponse.error);\r\n            captions.push({\r\n              content: `Failed to generate caption for: ${context.scheduledDate}`,\r\n              context: context.scheduledDate,\r\n              success: false,\r\n              error: captionResponse.error || 'Unknown error'\r\n            });\r\n          }\r\n        } catch (error) {\r\n          console.error('Error generating caption:', error);\r\n          captions.push({\r\n            content: `Error generating caption for: ${selectedComposerRows[i].scheduledDate}`,\r\n            context: selectedComposerRows[i].scheduledDate,\r\n            success: false,\r\n            error: error.message\r\n          });\r\n        }\r\n\r\n        // Update progress\r\n        setScheduleProgress(Math.round(((i + 1) / selectedComposerRows.length) * 100));\r\n      }\r\n\r\n      // Update the rows with generated captions\r\n      setComposerRows(prev =>\r\n        prev.map(row => {\r\n          if (!selectedRows.includes(row.id)) return row;\r\n\r\n          const caption = captions.find(c => c.context === row.scheduledDate);\r\n          if (caption && caption.success) {\r\n            return {\r\n              ...row,\r\n              caption: caption.content,\r\n              status: 'ready'\r\n            };\r\n          }\r\n          return row;\r\n        })\r\n      );\r\n\r\n      // Show success/failure summary\r\n      const successCount = captions.filter(c => c.success).length;\r\n      const failedCount = captions.length - successCount;\r\n\r\n      let message = '';\r\n      if (successCount > 0 && failedCount === 0) {\r\n        message = `Successfully generated captions for ${successCount} ${successCount === 1 ? 'post' : 'posts'}.`;\r\n      } else if (successCount > 0) {\r\n        message = `Generated ${successCount} captions successfully, but failed to generate ${failedCount}.`;\r\n      } else {\r\n        message = 'Failed to generate any captions. Please try again.';\r\n      }\r\n\r\n      alert(message);\r\n    } catch (error) {\r\n      console.error('Unexpected error in handleGenerateAllCaptions:', error);\r\n      alert('An unexpected error occurred while generating captions. Please try again.');\r\n    } finally {\r\n      setIsScheduling(false);\r\n      setScheduleProgress(0);\r\n    }\r\n  };\r\n\r\n  const handleGenerateAllImages = async () => {\r\n    if (selectedRows.length === 0) {\r\n      alert('Please select at least one row to generate images.');\r\n      return;\r\n    }\r\n    setIsScheduling(true);\r\n    setScheduleProgress(0);\r\n    try {\r\n      const selectedComposerRows = composerRows.filter(row => selectedRows.includes(row.id));\r\n      let successCount = 0;\r\n      let errorCount = 0;\r\n\r\n      for (let i = 0; i < selectedComposerRows.length; i++) {\r\n        const row = selectedComposerRows[i];\r\n\r\n        if (!row.caption || !(row.caption || '').trim()) {\r\n          console.log(`Skipping image generation for row ${row.id} - no caption available`);\r\n          continue;\r\n        }\r\n\r\n        try {\r\n          console.log(`Generating image for row ${row.id} with caption: ${row.caption.substring(0, 50)}...`);\r\n\r\n          // Truncate caption to 500 characters for image generation\r\n          const imagePrompt = row.caption.trim().substring(0, 500);\r\n          console.log(`Using image prompt (truncated): ${imagePrompt.substring(0, 100)}...`);\r\n\r\n          // Generate image using Stability AI with the caption as prompt\r\n          const response = await apiClient.generateInstagramImage(imagePrompt, 'feed');\r\n\r\n          if (response.success && response.data && response.data.image_url) {\r\n            console.log(`Successfully generated image for row ${row.id}:`, response.data.image_url);\r\n            setComposerRows(prev =>\r\n              prev.map(r =>\r\n                r.id === row.id\r\n                  ? {\r\n                    ...r,\r\n                    mediaFile: null,\r\n                    mediaPreview: response.data.image_url,\r\n                    status: (r.caption || '').trim() ? 'ready' : 'draft'\r\n                  }\r\n                  : r\r\n              )\r\n            );\r\n            successCount++;\r\n          } else {\r\n            console.log(`Failed to generate image for row ${row.id}:`, response);\r\n            errorCount++;\r\n          }\r\n        } catch (error) {\r\n          console.error(`Error generating image for row ${row.id}:`, error);\r\n          errorCount++;\r\n        }\r\n      }\r\n\r\n      if (successCount > 0) {\r\n        alert(`Image generation completed! Successfully generated ${successCount} images${errorCount > 0 ? `, ${errorCount} failed` : ''}`);\r\n      } else {\r\n        alert('Failed to generate any images. Please try again.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error in bulk image generation:', error);\r\n      alert('Failed to generate images. Please try again.');\r\n    } finally {\r\n      setIsScheduling(false);\r\n      setScheduleProgress(0);\r\n    }\r\n  };\r\n\r\n  const handleExpandCaption = (rowId) => {\r\n    const row = composerRows.find(r => r.id === rowId);\r\n    if (row) setExpandedCaption(row);\r\n  };\r\n\r\n  const handleViewMedia = (rowId) => {\r\n    const row = composerRows.find(r => r.id === rowId);\r\n    if (row && (row.mediaPreview || row.mediaFile)) setMediaPreviewModal(row);\r\n  };\r\n\r\n  const handleSaveExpandedCaption = (rowId, newCaption) => {\r\n    setComposerRows(prev =>\r\n      prev.map(row =>\r\n        row.id === rowId\r\n          ? { ...row, caption: newCaption, status: ((newCaption || '').trim() && (row.mediaFile || row.mediaPreview)) ? 'ready' : 'draft' }\r\n          : row\r\n      )\r\n    );\r\n    setExpandedCaption(null);\r\n  };\r\n\r\n  const handleThumbnailUpload = async (rowId, event) => {\r\n    const file = event.target.files[0];\r\n    if (!file) return;\r\n\r\n    // Validate file type\r\n    if (!file.type.startsWith('image/')) {\r\n      alert('Please select an image file for the thumbnail.');\r\n      return;\r\n    }\r\n\r\n    // Show loading state\r\n    setComposerRows(prev =>\r\n      prev.map(row =>\r\n        row.id === rowId\r\n          ? {\r\n            ...row,\r\n            thumbnailUploading: true\r\n          }\r\n          : row\r\n      )\r\n    );\r\n\r\n    try {\r\n      console.log(`📤 Uploading thumbnail for row ${rowId}: ${file.name}`);\r\n\r\n      // Upload thumbnail to Cloudinary via backend\r\n      const uploadResponse = await apiClient.uploadThumbnailToCloudinary(file);\r\n\r\n      if (uploadResponse && uploadResponse.success && uploadResponse.data && uploadResponse.data.url) {\r\n        console.log(`✅ Thumbnail uploaded successfully: ${uploadResponse.data.url}`);\r\n\r\n        // Update row with Cloudinary URL\r\n        setComposerRows(prev =>\r\n          prev.map(row =>\r\n            row.id === rowId\r\n              ? {\r\n                ...row,\r\n                thumbnailFile: null, // Clear file since we have URL now\r\n                thumbnailPreview: uploadResponse.data.url, // Use Cloudinary URL\r\n                thumbnailUrl: uploadResponse.data.url, // Store Cloudinary URL\r\n                thumbnailUploading: false\r\n              }\r\n              : row\r\n          )\r\n        );\r\n\r\n        alert('Thumbnail uploaded successfully! It will be optimized for Instagram reel cover image requirements.');\r\n      } else {\r\n        console.error(`❌ Failed to upload thumbnail:`, uploadResponse);\r\n        alert('Failed to upload thumbnail. Please try again.');\r\n\r\n        // Clear loading state\r\n        setComposerRows(prev =>\r\n          prev.map(row =>\r\n            row.id === rowId\r\n              ? {\r\n                ...row,\r\n                thumbnailUploading: false\r\n              }\r\n              : row\r\n          )\r\n        );\r\n      }\r\n    } catch (error) {\r\n      console.error('Error uploading thumbnail:', error);\r\n      alert(`Failed to upload thumbnail: ${error.message}`);\r\n\r\n      // Clear loading state\r\n      setComposerRows(prev =>\r\n        prev.map(row =>\r\n          row.id === rowId\r\n            ? {\r\n              ...row,\r\n              thumbnailUploading: false\r\n            }\r\n            : row\r\n        )\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleRemoveThumbnail = (rowId) => {\r\n    setComposerRows(prev =>\r\n      prev.map(row =>\r\n        row.id === rowId ? {\r\n          ...row,\r\n          thumbnailFile: null,\r\n          thumbnailPreview: null,\r\n          thumbnailUrl: null // Clear Cloudinary URL as well\r\n        } : row\r\n      )\r\n    );\r\n  };\r\n\r\n  const handleRemoveMedia = (rowId) => {\r\n    setComposerRows(prev =>\r\n      prev.map(row =>\r\n        row.id === rowId ? {\r\n          ...row,\r\n          mediaFile: null,\r\n          mediaPreview: null,\r\n          thumbnailFile: null,\r\n          thumbnailPreview: null,\r\n          carouselImages: row.postType === 'carousel' ? [] : null,\r\n          status: (row.caption || '').trim() ? 'draft' : 'draft'\r\n        } : row\r\n      )\r\n    );\r\n  };\r\n\r\n  const handleGenerateCarousel = async (rowId) => {\r\n    try {\r\n      const row = composerRows.find(r => r.id === rowId);\r\n      if (!row || !(row.caption || '').trim()) {\r\n        alert('Please add a caption first to generate carousel images.');\r\n        return;\r\n      }\r\n\r\n      console.log(`Generating carousel for row ${rowId} with caption: ${row.caption.substring(0, 50)}...`);\r\n\r\n      const imagePrompt = row.caption.trim().substring(0, 500);\r\n      const imageCount = row.carouselImageCount || 3;\r\n\r\n      if (imageCount < 2 || imageCount > 7) {\r\n        alert('Carousel must have between 2 and 7 images.');\r\n        return;\r\n      }\r\n\r\n      console.log(`🎨 Generating ${imageCount} carousel images with prompt: ${imagePrompt}`);\r\n\r\n      const response = await apiClient.generateInstagramCarousel(imagePrompt, imageCount);\r\n\r\n      if (response.success && response.image_urls && response.image_urls.length >= 2) {\r\n        console.log(`Successfully generated carousel for row ${rowId}:`, response.image_urls);\r\n        setComposerRows(prev =>\r\n          prev.map(r =>\r\n            r.id === rowId\r\n              ? {\r\n                ...r,\r\n                carouselImages: response.image_urls,\r\n                status: (() => {\r\n                  const hasCaption = (r.caption || '').trim();\r\n                  const hasEnoughImages = response.image_urls.length >= 2;\r\n                  return hasCaption && hasEnoughImages ? 'ready' : 'draft';\r\n                })()\r\n              }\r\n              : r\r\n          )\r\n        );\r\n      } else {\r\n        console.log(`Failed to generate carousel for row ${rowId}:`, response);\r\n        const errorMsg = response.error || 'Failed to generate enough carousel images. Please try again.';\r\n        alert(`Failed to generate carousel: ${errorMsg}`);\r\n      }\r\n    } catch (error) {\r\n      console.error(`Error generating carousel for row ${rowId}:`, error);\r\n      alert('Error generating carousel images. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleCarouselUpload = async (rowId, event) => {\r\n    const files = Array.from(event.target.files);\r\n    if (files.length === 0) return;\r\n\r\n    const row = composerRows.find(r => r.id === rowId);\r\n    const maxImages = row.carouselImageCount || 2;\r\n    const minImages = 2;\r\n\r\n    if (files.length < minImages) {\r\n      alert(`Please select at least ${minImages} images for a carousel post.`);\r\n      return;\r\n    }\r\n\r\n    if (files.length > maxImages) {\r\n      alert(`Please select only ${maxImages} images for this carousel.`);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      console.log(`🖼️ Uploading ${files.length} carousel images for row ${rowId}`);\r\n\r\n      const imageUrls = [];\r\n      for (let i = 0; i < files.length; i++) {\r\n        const file = files[i];\r\n\r\n        // Validate file type\r\n        if (!file.type.startsWith('image/')) {\r\n          alert(`File ${file.name} is not an image. Please select only image files.`);\r\n          continue;\r\n        }\r\n\r\n        console.log(`📤 Uploading carousel image ${i + 1}/${files.length}: ${file.name}`);\r\n\r\n        // Upload to Cloudinary\r\n        const uploadResponse = await apiClient.uploadImageToCloudinary(file);\r\n\r\n        if (uploadResponse && uploadResponse.success && uploadResponse.data && uploadResponse.data.url) {\r\n          imageUrls.push(uploadResponse.data.url);\r\n          console.log(`✅ Carousel image ${i + 1} uploaded: ${uploadResponse.data.url}`);\r\n        } else {\r\n          console.error(`❌ Failed to upload carousel image ${i + 1}:`, uploadResponse);\r\n          alert(`Failed to upload image ${file.name}. Please try again.`);\r\n          return;\r\n        }\r\n      }\r\n\r\n      if (imageUrls.length >= minImages) {\r\n        setComposerRows(prev =>\r\n          prev.map(r =>\r\n            r.id === rowId\r\n              ? {\r\n                ...r,\r\n                carouselImages: imageUrls,\r\n                status: (() => {\r\n                  const hasCaption = (r.caption || '').trim();\r\n                  const hasEnoughImages = imageUrls.length >= 2;\r\n                  return hasCaption && hasEnoughImages ? 'ready' : 'draft';\r\n                })()\r\n              }\r\n              : r\r\n          )\r\n        );\r\n        console.log(`✅ Successfully uploaded ${imageUrls.length} carousel images for row ${rowId}`);\r\n      } else {\r\n        alert(`Please upload at least ${minImages} images for a carousel post.`);\r\n      }\r\n\r\n      // Clear the file input\r\n      if (carouselInputRefs.current[rowId]) {\r\n        carouselInputRefs.current[rowId].value = '';\r\n      }\r\n    } catch (error) {\r\n      console.error('Error processing carousel upload:', error);\r\n      alert('Error uploading carousel images. Please try again.');\r\n    }\r\n  };\r\n\r\n  // New handler functions for enhanced media functionality\r\n  const handleViewCarouselImage = (rowId, imageIndex) => {\r\n    const row = composerRows.find(r => r.id === rowId);\r\n    if (row && row.carouselImages && row.carouselImages[imageIndex]) {\r\n      setMediaPreviewModal({\r\n        ...row,\r\n        mediaPreview: row.carouselImages[imageIndex],\r\n        mediaType: 'carousel-image',\r\n        imageIndex: imageIndex\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleRemoveCarouselImage = (rowId, imageIndex) => {\r\n    setComposerRows(prev =>\r\n      prev.map(r =>\r\n        r.id === rowId\r\n          ? {\r\n            ...r,\r\n            carouselImages: r.carouselImages.filter((_, index) => index !== imageIndex),\r\n            status: (() => {\r\n              const newImages = r.carouselImages.filter((_, index) => index !== imageIndex);\r\n              const hasCaption = (r.caption || '').trim();\r\n              const hasEnoughImages = newImages.length >= 2;\r\n              return hasCaption && hasEnoughImages ? 'ready' : 'draft';\r\n            })()\r\n          }\r\n          : r\r\n      )\r\n    );\r\n    console.log(`🗑️ Removed carousel image ${imageIndex} from row ${rowId}`);\r\n  };\r\n\r\n  const handleViewCarousel = (rowId) => {\r\n    const row = composerRows.find(r => r.id === rowId);\r\n    if (row && row.carouselImages && row.carouselImages.length > 0) {\r\n      setCarouselReorderModal(row);\r\n    }\r\n  };\r\n\r\n  const handleReorderCarouselImages = (rowId, newOrder) => {\r\n    setComposerRows(prev =>\r\n      prev.map(r =>\r\n        r.id === rowId\r\n          ? {\r\n            ...r,\r\n            carouselImages: newOrder\r\n          }\r\n          : r\r\n      )\r\n    );\r\n    console.log(`🔄 Reordered carousel images for row ${rowId}`);\r\n  };\r\n\r\n  const handleViewThumbnail = (rowId) => {\r\n    const row = composerRows.find(r => r.id === rowId);\r\n    if (row && row.thumbnailPreview) {\r\n      setThumbnailPreviewModal({\r\n        ...row,\r\n        mediaPreview: row.thumbnailPreview,\r\n        mediaType: 'thumbnail'\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleRemoveCarouselImages = (rowId) => {\r\n    setComposerRows(prev =>\r\n      prev.map(r =>\r\n        r.id === rowId\r\n          ? {\r\n            ...r,\r\n            carouselImages: [],\r\n            status: 'draft' // Always reset to draft when removing images\r\n          }\r\n          : r\r\n      )\r\n    );\r\n    console.log(`🗑️ Removed carousel images for row ${rowId}`);\r\n  };\r\n\r\n  const handleDuplicateRow = (rowId) => {\r\n    const rowToDuplicate = composerRows.find(row => row.id === rowId);\r\n    if (rowToDuplicate) {\r\n      const newRow = {\r\n        ...rowToDuplicate,\r\n        id: `row-${Date.now()}-${Math.random()}`,\r\n        scheduledDate: new Date(rowToDuplicate.scheduledDate).toISOString().split('T')[0],\r\n        postType: rowToDuplicate.postType ? rowToDuplicate.postType.toLowerCase() : 'photo'\r\n      };\r\n      setComposerRows(prev => [...prev, newRow]);\r\n    }\r\n  };\r\n\r\n  const handleDeleteRow = (rowId) => {\r\n    setComposerRows(prev => prev.filter(row => row.id !== rowId));\r\n    setSelectedRows(prev => prev.filter(id => id !== rowId));\r\n  };\r\n\r\n  const handleBulkDelete = () => {\r\n    setComposerRows(prev => prev.filter(row => !selectedRows.includes(row.id)));\r\n    setSelectedRows([]);\r\n  };\r\n\r\n  const handleTimeShift = (direction) => {\r\n    setComposerRows(prev =>\r\n      prev.map(row => {\r\n        if (selectedRows.includes(row.id)) {\r\n          const [hours, minutes] = row.scheduledTime.split(':');\r\n          let newHours = parseInt(hours) + (direction === 'forward' ? 1 : -1);\r\n          if (newHours < 0) newHours = 23;\r\n          if (newHours > 23) newHours = 0;\r\n          return {\r\n            ...row,\r\n            scheduledTime: `${newHours.toString().padStart(2, '0')}:${minutes}`\r\n          };\r\n        }\r\n        return row;\r\n      })\r\n    );\r\n  };\r\n\r\n  const handleDragStart = (rowId) => setDragStartRow(rowId);\r\n  const handleDragOver = (e) => e.preventDefault();\r\n  const handleDrop = (targetRowId) => {\r\n    if (dragStartRow && dragStartRow !== targetRowId) {\r\n      const rows = [...composerRows];\r\n      const sourceIndex = rows.findIndex(row => row.id === dragStartRow);\r\n      const targetIndex = rows.findIndex(row => row.id === targetRowId);\r\n      const [movedRow] = rows.splice(sourceIndex, 1);\r\n      rows.splice(targetIndex, 0, movedRow);\r\n      setComposerRows(rows);\r\n    }\r\n    setDragStartRow(null);\r\n  };\r\n\r\n  const handleScheduleAll = async () => {\r\n    if (!selectedAccount || composerRows.length === 0) return;\r\n    setIsScheduling(true);\r\n    setScheduleProgress(0);\r\n\r\n    try {\r\n      const readyRows = composerRows.filter(row => row.status === 'ready');\r\n      console.log(`🔄 Starting bulk scheduling for ${readyRows.length} posts...`);\r\n\r\n      // Progress tracking for media processing\r\n      let processedCount = 0;\r\n      const totalPosts = readyRows.length;\r\n\r\n      const postsWithMedia = await Promise.all(\r\n        readyRows.map(async (row, index) => {\r\n          const basePost = {\r\n            caption: row.caption,\r\n            scheduled_datetime: `${row.scheduledDate}T${row.scheduledTime}:00+05:30`,\r\n            scheduled_date: row.scheduledDate,\r\n            scheduled_time: row.scheduledTime,\r\n            post_type: (row.postType || 'photo').toLowerCase()\r\n          };\r\n\r\n          if (row.postType === 'photo') {\r\n            if (row.mediaFile) {\r\n              const result = {\r\n                ...basePost,\r\n                media_file: await fileToBase64(row.mediaFile),\r\n                media_filename: row.mediaFile.name\r\n              };\r\n              processedCount++;\r\n              setScheduleProgress((processedCount / totalPosts) * 30);\r\n              return result;\r\n            } else if (row.mediaPreview && row.mediaPreview.startsWith('data:')) {\r\n              const result = {\r\n                ...basePost,\r\n                media_file: row.mediaPreview,\r\n                media_filename: 'generated_image.jpg'\r\n              };\r\n              processedCount++;\r\n              setScheduleProgress((processedCount / totalPosts) * 30);\r\n              return result;\r\n            } else if (row.mediaPreview && row.mediaPreview.startsWith('http')) {\r\n              const result = {\r\n                ...basePost,\r\n                image_prompt: row.caption.substring(0, 200)\r\n              };\r\n              processedCount++;\r\n              setScheduleProgress((processedCount / totalPosts) * 30);\r\n              return result;\r\n            } else {\r\n              const result = {\r\n                ...basePost,\r\n                image_prompt: strategyData.imagePrompt || row.caption.substring(0, 200)\r\n              };\r\n              processedCount++;\r\n              setScheduleProgress((processedCount / totalPosts) * 30);\r\n              return result;\r\n            }\r\n          } else if (row.postType === 'carousel') {\r\n            if (row.carouselImages && row.carouselImages.length > 0) {\r\n              const carouselFiles = row.carouselImages;\r\n              const result = {\r\n                ...basePost,\r\n                carousel_images: carouselFiles,\r\n                carousel_filenames: carouselFiles.map((_, idx) => `carousel_image_${idx + 1}.jpg`)\r\n              };\r\n              processedCount++;\r\n              setScheduleProgress((processedCount / totalPosts) * 30);\r\n              return result;\r\n            } else {\r\n              const result = {\r\n                ...basePost,\r\n                carousel_image_count: row.carouselImageCount || 2,\r\n                image_prompt: strategyData.imagePrompt || row.caption.substring(0, 200)\r\n              };\r\n              processedCount++;\r\n              setScheduleProgress((processedCount / totalPosts) * 30);\r\n              return result;\r\n            }\r\n          } else if (row.postType === 'reel') {\r\n            if (row.mediaFile) {\r\n              const result = {\r\n                ...basePost,\r\n                media_file: await fileToBase64(row.mediaFile),\r\n                media_filename: row.mediaFile.name\r\n              };\r\n\r\n              // Add thumbnail if available - prioritize Cloudinary URL over file\r\n              if (row.thumbnailUrl && row.thumbnailUrl.startsWith('http')) {\r\n                result.thumbnail_url = row.thumbnailUrl;\r\n              } else if (row.thumbnailPreview && row.thumbnailPreview.startsWith('http')) {\r\n                result.thumbnail_url = row.thumbnailPreview;\r\n              } else if (row.thumbnailFile) {\r\n                result.thumbnail_file = await fileToBase64(row.thumbnailFile);\r\n                result.thumbnail_filename = row.thumbnailFile.name;\r\n              }\r\n\r\n              processedCount++;\r\n              setScheduleProgress((processedCount / totalPosts) * 30);\r\n              return result;\r\n            } else if (row.mediaPreview && row.mediaPreview.startsWith('data:')) {\r\n              const result = {\r\n                ...basePost,\r\n                media_file: row.mediaPreview,\r\n                media_filename: 'generated_video.mp4'\r\n              };\r\n\r\n              // Add thumbnail if available - prioritize Cloudinary URL over file\r\n              if (row.thumbnailUrl && row.thumbnailUrl.startsWith('http')) {\r\n                result.thumbnail_url = row.thumbnailUrl;\r\n              } else if (row.thumbnailPreview && row.thumbnailPreview.startsWith('http')) {\r\n                result.thumbnail_url = row.thumbnailPreview;\r\n              } else if (row.thumbnailFile) {\r\n                result.thumbnail_file = await fileToBase64(row.thumbnailFile);\r\n                result.thumbnail_filename = row.thumbnailFile.name;\r\n              }\r\n\r\n              processedCount++;\r\n              setScheduleProgress((processedCount / totalPosts) * 30);\r\n              return result;\r\n            } else {\r\n              const result = {\r\n                ...basePost,\r\n                image_prompt: strategyData.imagePrompt || row.caption.substring(0, 200)\r\n              };\r\n              processedCount++;\r\n              setScheduleProgress((processedCount / totalPosts) * 30);\r\n              return result;\r\n            }\r\n          }\r\n\r\n          processedCount++;\r\n          setScheduleProgress((processedCount / totalPosts) * 30);\r\n          return basePost;\r\n        })\r\n      );\r\n\r\n      // Final normalization: ensure all outgoing post_type values are lowercase\r\n      const normalizedPostsWithMedia = postsWithMedia.map(post => ({\r\n        ...post,\r\n        post_type: (post.post_type || 'photo').toLowerCase()\r\n      }));\r\n\r\n      const bulkData = {\r\n        social_account_id: selectedAccount.id,\r\n        posts: normalizedPostsWithMedia\r\n      };\r\n\r\n      console.log(`🚀 Sending ${normalizedPostsWithMedia.length} posts to backend for scheduling...`);\r\n      setScheduleProgress(40); // 40% for API call start\r\n\r\n      const response = await apiClient.bulkScheduleInstagramPosts(bulkData);\r\n      setScheduleProgress(90); // 90% for API response\r\n      console.log('Bulk schedule response:', response);\r\n      if (response && response.success) {\r\n        console.log(`✅ Successfully scheduled ${response.scheduled_posts?.length || 0} posts`);\r\n        setComposerRows(prev =>\r\n          prev.map(row =>\r\n            readyRows.some(r => r.id === row.id) ? { ...row, status: 'scheduled' } : row\r\n          )\r\n        );\r\n        setScheduleProgress(100);\r\n        setScheduledGridRows(response.scheduled_posts || []);\r\n        // Redirect to InstagramPage with scheduled posts for grid display\r\n        navigate('/instagram', { state: { scheduledGridRows: response.scheduled_posts || [] } });\r\n      } else if (response && Array.isArray(response.results)) {\r\n        // Handle legacy or alternate backend response\r\n        const successCount = response.results.filter(r => r.success).length;\r\n        const failedCount = response.results.filter(r => !r.success).length;\r\n        let errorMsg = `Scheduled ${successCount} posts successfully.`;\r\n        if (failedCount > 0) {\r\n          errorMsg += `\\n${failedCount} posts failed. Check console for details.`;\r\n          response.results.forEach((result, idx) => {\r\n            if (!result.success) {\r\n              errorMsg += `\\nPost #${idx + 1}: ${result.error || result.message || 'Unknown error'}`;\r\n            }\r\n          });\r\n        }\r\n        alert(errorMsg);\r\n\r\n        // Add success notification for Instagram bulk scheduling\r\n        if (successCount > 0) {\r\n          const selectedTemplate = promptTemplates.find(t => t.prompt === strategyData.promptTemplate);\r\n          const strategyName = selectedTemplate ? selectedTemplate.name : 'Bulk Schedule';\r\n\r\n          addNotification({\r\n            type: 'success',\r\n            platform: 'instagram',\r\n            strategyName: strategyName,\r\n            message: `Successfully scheduled ${successCount} Instagram posts! You'll receive alerts 10 minutes before each post goes live.`\r\n          });\r\n        }\r\n        setComposerRows(prev =>\r\n          prev.map(row => {\r\n            const result = response.results.find(r => r.caption === row.caption && r.scheduled_date === row.scheduledDate);\r\n            if (result) {\r\n              return {\r\n                ...row,\r\n                status: result.success ? 'scheduled' : 'failed',\r\n                error: result.success ? null : (result.error || 'Unknown error')\r\n              };\r\n            }\r\n            return row;\r\n          })\r\n        );\r\n        setScheduleProgress(100);\r\n        setScheduledGridRows(response.results.filter(r => r.success));\r\n        navigate('/instagram', { state: { scheduledGridRows: response.results.filter(r => r.success) } });\r\n      } else {\r\n        let errorMsg = 'Error scheduling Instagram posts.';\r\n        if (response && response.failed_posts && response.failed_posts.length > 0) {\r\n          errorMsg += '\\nFailed posts:';\r\n          response.failed_posts.forEach(fp => {\r\n            errorMsg += `\\nPost #${fp.index + 1}: ${fp.error}`;\r\n          });\r\n        } else if (response && response.message) {\r\n          errorMsg += `\\n${response.message}`;\r\n        } else if (response && response.errorData) {\r\n          errorMsg += `\\nAPI Error: ${JSON.stringify(response.errorData)}`;\r\n        }\r\n        alert(errorMsg);\r\n        console.error('Bulk scheduling error:', response);\r\n      }\r\n    } catch (error) {\r\n      let errorMsg = 'Error scheduling Instagram posts. Please try again.';\r\n      // Check if any of the readyRows are reels\r\n      const hasReel = composerRows.filter(row => selectedRows.includes(row.id)).some(row => (row.postType || '').toLowerCase() === 'reel');\r\n      if (error && error.error === 'timeout') {\r\n        if (hasReel) {\r\n          errorMsg = 'Your reel is being processed and will be scheduled soon. Please check back in a few minutes.';\r\n        } else {\r\n          errorMsg = 'Request timed out. Video processing may take longer. Please try again or check your video file size.';\r\n        }\r\n      } else if (error && error.errorData) {\r\n        errorMsg += `\\nAPI Error: ${JSON.stringify(error.errorData)}`;\r\n      } else if (error && error.message) {\r\n        errorMsg += `\\n${error.message}`;\r\n      }\r\n      alert(errorMsg);\r\n      console.error('Bulk scheduling exception:', error);\r\n    } finally {\r\n      setIsScheduling(false);\r\n      setScheduleProgress(0);\r\n    }\r\n  };\r\n\r\n  // Calendar day click logic\r\n  const handleCalendarDateSelect = (date) => {\r\n    setStrategyData(prev => ({\r\n      ...prev,\r\n      startDate: date.toISOString().split('T')[0]\r\n    }));\r\n  };\r\n\r\n  // UI helpers\r\n  const getStatusIcon = (status) => {\r\n    switch (status) {\r\n      case 'published': return '✓';\r\n      case 'failed': return '✗';\r\n      case 'scheduled': return '⏰';\r\n      case 'ready': return '🟢';\r\n      default: return '📝';\r\n    }\r\n  };\r\n  const getStatusClass = (status) => {\r\n    switch (status) {\r\n      case 'published': return 'ig-status-published';\r\n      case 'failed': return 'ig-status-failed';\r\n      case 'scheduled': return 'ig-status-scheduled';\r\n      case 'ready': return 'ig-status-ready';\r\n      default: return 'ig-status-draft';\r\n    }\r\n  };\r\n\r\n  // Calendar helpers\r\n  const generateCalendarDays = (year, month) => {\r\n    const daysInMonth = new Date(year, month + 1, 0).getDate();\r\n    const firstDayOfMonth = new Date(year, month, 1).getDay();\r\n    const days = [];\r\n    for (let i = 0; i < firstDayOfMonth; i++) days.push({ day: null, date: null });\r\n    for (let i = 1; i <= daysInMonth; i++) {\r\n      const date = new Date(year, month, i);\r\n      days.push({ day: i, date });\r\n    }\r\n    return days;\r\n  };\r\n  const getPostsForDate = (date) => {\r\n    // Format date as YYYY-MM-DD using local date parts\r\n    const yyyy = date.getFullYear();\r\n    const mm = String(date.getMonth() + 1).padStart(2, '0');\r\n    const dd = String(date.getDate()).padStart(2, '0');\r\n    const dateString = `${yyyy}-${mm}-${dd}`;\r\n    return composerRows.filter(row => row.scheduledDate === dateString);\r\n  };\r\n\r\n\r\n\r\n  // --- RENDER ---\r\n  return (\r\n    <div className=\"ig-bulk-composer\">\r\n      <div className=\"ig-bulk-composer-header\">\r\n        <h2>Instagram Bulk Composer</h2>\r\n      </div>\r\n\r\n      <div className=\"ig-bulk-composer-content\">\r\n        {/* Strategy Step */}\r\n        <div className=\"ig-strategy-step\">\r\n          <h3>Step 1: Strategy & Schedule</h3>\r\n          <div className=\"ig-strategy-form\">\r\n\r\n            {/* Post Type Selection */}\r\n            <div className=\"ig-form-group\">\r\n              <label>Post Type</label>\r\n              <div className=\"ig-post-type-toggle\">\r\n                <button\r\n                  className={postType === 'photo' ? 'active' : ''}\r\n                  onClick={() => handlePostTypeChange('photo')}\r\n                >\r\n                  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                    <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\" />\r\n                    <circle cx=\"8.5\" cy=\"8.5\" r=\"1.5\" />\r\n                    <polyline points=\"21,15 16,10 5,21\" />\r\n                  </svg>\r\n                  Photo\r\n                </button>\r\n                <button\r\n                  className={postType === 'carousel' ? 'active' : ''}\r\n                  onClick={() => handlePostTypeChange('carousel')}\r\n                >\r\n                  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                    <rect x=\"2\" y=\"3\" width=\"20\" height=\"14\" rx=\"2\" ry=\"2\" />\r\n                    <line x1=\"8\" y1=\"21\" x2=\"16\" y2=\"21\" />\r\n                    <line x1=\"12\" y1=\"17\" x2=\"12\" y2=\"21\" />\r\n                  </svg>\r\n                  Carousel\r\n                </button>\r\n                <button\r\n                  className={postType === 'reel' ? 'active' : ''}\r\n                  onClick={() => handlePostTypeChange('reel')}\r\n                >\r\n                  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                    <polygon points=\"23 7 16 12 23 17 23 7\" />\r\n                    <rect x=\"1\" y=\"5\" width=\"15\" height=\"14\" rx=\"2\" ry=\"2\" />\r\n                  </svg>\r\n                  Reel\r\n                </button>\r\n              </div>\r\n\r\n              {/* Carousel Image Count */}\r\n              {postType === 'carousel' && (\r\n                <div className=\"ig-form-group\">\r\n                  <label>Number of Images: {carouselImageCount}</label>\r\n                  <input\r\n                    type=\"range\"\r\n                    min=\"2\"\r\n                    max=\"7\"\r\n                    value={carouselImageCount}\r\n                    onChange={(e) => handleCarouselImageCountChange(parseInt(e.target.value))}\r\n                    className=\"ig-slider\"\r\n                  />\r\n                  <div className=\"ig-slider-labels\">\r\n                    <span>2</span>\r\n                    <span>3</span>\r\n                    <span>4</span>\r\n                    <span>5</span>\r\n                    <span>6</span>\r\n                    <span>7</span>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* AI Image Prompt */}\r\n\r\n            </div>\r\n            <div className=\"ig-form-group\">\r\n              <label>Strategy Template</label>\r\n              <select\r\n                value={strategyData.promptTemplate}\r\n                onChange={(e) => handleStrategyChange('promptTemplate', e.target.value)}\r\n                className=\"ig-form-select\"\r\n              >\r\n                <option value=\"\">Select a template...</option>\r\n                {promptTemplates.map(template => (\r\n                  <option key={template.id} value={template.prompt}>\r\n                    {template.name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            {strategyData.promptTemplate === 'custom' && (\r\n              <div className=\"ig-form-group\">\r\n                <label>Brand Information</label>\r\n                <div className=\"ig-form-row\">\r\n                  <div className=\"ig-form-group\">\r\n                    <input\r\n                      type=\"text\"\r\n                      value={strategyData.brandName}\r\n                      onChange={(e) => handleStrategyChange('brandName', e.target.value)}\r\n                      placeholder=\"Brand Name\"\r\n                      className=\"ig-form-input\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"ig-form-group\">\r\n                    <input\r\n                      type=\"text\"\r\n                      value={strategyData.hookIdea}\r\n                      onChange={(e) => handleStrategyChange('hookIdea', e.target.value)}\r\n                      placeholder=\"Hook Idea (e.g., Tired of the shore?)\"\r\n                      className=\"ig-form-input\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"ig-form-group\">\r\n                  <label>Features (one per line)</label>\r\n                  <textarea\r\n                    value={strategyData.features}\r\n                    onChange={(e) => handleStrategyChange('features', e.target.value)}\r\n                    placeholder=\"✅ Feature 1\\n✅ Feature 2\\n✅ Feature 3\"\r\n                    className=\"ig-form-input\"\r\n                    rows=\"3\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"ig-form-row\">\r\n                  <div className=\"ig-form-group\">\r\n                    <input\r\n                      type=\"text\"\r\n                      value={strategyData.location}\r\n                      onChange={(e) => handleStrategyChange('location', e.target.value)}\r\n                      placeholder=\"Location\"\r\n                      className=\"ig-form-input\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"ig-form-group\">\r\n                    <input\r\n                      type=\"text\"\r\n                      value={strategyData.phone}\r\n                      onChange={(e) => handleStrategyChange('phone', e.target.value)}\r\n                      placeholder=\"Phone Number\"\r\n                      className=\"ig-form-input\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"ig-form-group\">\r\n                  <input\r\n                    type=\"text\"\r\n                    value={strategyData.website}\r\n                    onChange={(e) => handleStrategyChange('website', e.target.value)}\r\n                    placeholder=\"Website URL\"\r\n                    className=\"ig-form-input\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"ig-form-group\">\r\n                  <textarea\r\n                    value={strategyData.callToAction}\r\n                    onChange={(e) => handleStrategyChange('callToAction', e.target.value)}\r\n                    placeholder=\"Call to Action (e.g., Book your appointment today!)\"\r\n                    className=\"ig-form-input\"\r\n                    rows=\"2\"\r\n                  />\r\n                </div>\r\n\r\n                <small className=\"ig-form-help\">\r\n                  This information will be used to generate captions that follow your brand's style and approach.\r\n                </small>\r\n              </div>\r\n            )}\r\n            <div className=\"ig-form-row\">\r\n              <div className=\"ig-form-group\">\r\n                <label>Start Date</label>\r\n                <input\r\n                  type=\"date\"\r\n                  value={strategyData.startDate}\r\n                  onChange={(e) => handleStrategyChange('startDate', e.target.value)}\r\n                  className=\"ig-form-input\"\r\n                />\r\n              </div>\r\n              <div className=\"ig-form-group\">\r\n                <label>End Date (Optional)</label>\r\n                <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\r\n                  <input\r\n                    type=\"date\"\r\n                    value={strategyData.endDate}\r\n                    onChange={(e) => handleStrategyChange('endDate', e.target.value)}\r\n                    className=\"ig-form-input\"\r\n                    min={strategyData.startDate}\r\n                    disabled={!strategyData.startDate}\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => handleStrategyChange('endDate', '')}\r\n                    className=\"ig-btn ig-btn-secondary ig-btn-small\"\r\n                    disabled={!strategyData.endDate}\r\n                    title=\"Clear end date (single day schedule)\"\r\n                  >\r\n                    <svg width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                      <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" />\r\n                      <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\r\n                    </svg>\r\n                    Clear\r\n                  </button>\r\n                </div>\r\n                <small className=\"ig-form-help\">\r\n                  Leave empty for single day schedule\r\n                </small>\r\n              </div>\r\n              <div className=\"ig-form-group\">\r\n                <label>Frequency</label>\r\n                <select\r\n                  value={strategyData.frequency}\r\n                  onChange={(e) => handleStrategyChange('frequency', e.target.value)}\r\n                  className=\"ig-form-select\"\r\n                >\r\n                  <option value=\"daily\">Daily</option>\r\n                  <option value=\"weekly\">Weekly</option>\r\n                  <option value=\"monthly\">Monthly</option>\r\n                  <option value=\"custom\">Custom Cron</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"ig-form-group\">\r\n                <label>Time Slot</label>\r\n                <input\r\n                  type=\"time\"\r\n                  value={strategyData.timeSlot}\r\n                  onChange={(e) => handleStrategyChange('timeSlot', e.target.value)}\r\n                  className=\"ig-form-input\"\r\n                />\r\n              </div>\r\n            </div>\r\n            {strategyData.frequency === 'custom' && (\r\n              <div className=\"ig-form-group\">\r\n                <label>Custom Cron Expression</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={strategyData.customCron}\r\n                  onChange={(e) => handleStrategyChange('customCron', e.target.value)}\r\n                  placeholder=\"0 9 * * * (daily at 9 AM)\"\r\n                  className=\"ig-form-input\"\r\n                />\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Calendar Preview */}\r\n        <div className=\"ig-calendar-preview-section\">\r\n          <h3>Calendar Preview</h3>\r\n          <div className=\"ig-calendar-container\">\r\n            <div className=\"ig-calendar-header\">\r\n              <button\r\n                onClick={() => setCurrentMonth(prev => new Date(prev.getFullYear(), prev.getMonth() - 1))}\r\n                className=\"ig-btn ig-btn-secondary ig-btn-small\"\r\n              >\r\n                ←\r\n              </button>\r\n              <h4>{currentMonth.toLocaleDateString('en-US', { month: 'long', year: 'numeric' })}</h4>\r\n              <button\r\n                onClick={() => setCurrentMonth(prev => new Date(prev.getFullYear(), prev.getMonth() + 1))}\r\n                className=\"ig-btn ig-btn-secondary ig-btn-small\"\r\n              >\r\n                →\r\n              </button>\r\n            </div>\r\n            <div className=\"ig-calendar-grid\">\r\n              {['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'].map(day => (\r\n                <div key={day} className=\"ig-calendar-day-header\">{day}</div>\r\n              ))}\r\n              {generateCalendarDays(currentMonth.getFullYear(), currentMonth.getMonth()).map((day, index) => (\r\n                <div\r\n                  key={index}\r\n                  className={`ig-calendar-day ${day.date ? 'clickable' : ''} ${day.date && getPostsForDate(day.date).length > 0 ? 'has-posts' : ''}`}\r\n                  onClick={() => day.date && handleCalendarDateSelect(day.date)}\r\n                >\r\n                  <span className=\"ig-day-number\">{day.day}</span>\r\n                  {day.date && getPostsForDate(day.date).length > 0 && (\r\n                    <div className=\"ig-post-indicators\">\r\n                      {getPostsForDate(day.date).map((post, postIndex) => (\r\n                        <div\r\n                          key={postIndex}\r\n                          className=\"ig-post-dot\"\r\n                          title={`${post.scheduledTime} - ${(post.caption || '').substring(0, 30)}...`}\r\n                        />\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Composer Grid */}\r\n        <div className=\"ig-composer-grid-section\">\r\n          <div className=\"ig-composer-header\">\r\n            <h3>Step 2: Content Grid</h3>\r\n            <div className=\"ig-composer-controls\">\r\n              <button\r\n                onClick={() => {\r\n                  const newRow = {\r\n                    id: `row-${Date.now()}-${Math.random()}`,\r\n                    caption: '',\r\n                    postType: postType.toLowerCase(),\r\n                    mediaFile: null,\r\n                    mediaPreview: null,\r\n                    carouselImages: postType === 'carousel' ? [] : null,\r\n                    carouselImageCount: postType === 'carousel' ? carouselImageCount : null,\r\n                    scheduledDate: new Date().toISOString().split('T')[0],\r\n                    scheduledTime: strategyData.timeSlot,\r\n                    status: 'draft',\r\n                    isSelected: false\r\n                  };\r\n                  setComposerRows(prev => [...prev, newRow]);\r\n                }}\r\n                className=\"ig-control-btn ig-control-btn-primary\"\r\n              >\r\n                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                  <line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\" />\r\n                  <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\" />\r\n                </svg>\r\n                Add Row\r\n              </button>\r\n              <button\r\n                onClick={handleSelectAll}\r\n                className=\"ig-control-btn ig-control-btn-secondary\"\r\n              >\r\n                {selectedRows.length === composerRows.length ? (\r\n                  <>\r\n                    Deselect All\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    Select All\r\n                  </>\r\n                )}\r\n              </button>\r\n              <button\r\n                onClick={handleBulkDelete}\r\n                disabled={selectedRows.length === 0}\r\n                className=\"ig-control-btn ig-control-btn-danger\"\r\n              >\r\n                <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                  <polyline points=\"3,6 5,6 21,6\" />\r\n                  <path d=\"M19,6v14a2,2 0 0,1-2,2H7a2,2 0 0,1-2-2V6m3,0V4a2,2 0 0,1,2-2h4a2,2 0 0,1,2,2v2\" />\r\n                </svg>\r\n              </button>\r\n              <button\r\n                className=\"ig-control-btn ig-control-btn-primary ig-control-btn-featured\"\r\n                onClick={handleGenerateAllCaptions}\r\n                disabled={composerRows.length === 0 || selectedRows.length === 0}\r\n              >\r\n                <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                  <path d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\" />\r\n                  <polyline points=\"14,2 14,8 20,8\" />\r\n                  <line x1=\"14\" y1=\"13\" x2=\"8\" y2=\"13\" />\r\n                  <line x1=\"14\" y1=\"17\" x2=\"8\" y2=\"17\" />\r\n                </svg>\r\n                Generate Captions\r\n              </button>\r\n              <button\r\n                className=\"ig-control-btn ig-control-btn-secondary ig-control-btn-featured\"\r\n                onClick={handleGenerateAllImages}\r\n                disabled={composerRows.length === 0 || selectedRows.length === 0}\r\n              >\r\n                <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                  <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\" />\r\n                </svg>\r\n                Generate Images\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"ig-composer-grid-container\">\r\n            <div className=\"ig-composer-grid\" ref={gridRef}>\r\n              <div className=\"ig-grid-header ig-grid-row\">\r\n                <div className=\"ig-grid-cell ig-header-cell\"></div>\r\n                <div className=\"ig-grid-cell ig-header-cell\">Caption</div>\r\n                <div className=\"ig-grid-cell ig-header-cell\">Media</div>\r\n                <div className=\"ig-grid-cell ig-header-cell\">Date</div>\r\n                <div className=\"ig-grid-cell ig-header-cell\">Time</div>\r\n                <div className=\"ig-grid-cell ig-header-cell\">Status</div>\r\n              </div>\r\n              <div className=\"ig-grid-body\">\r\n                {composerRows.map((row, index) => (\r\n                  <div\r\n                    key={row.id}\r\n                    className={`ig-grid-row ${row.isSelected ? 'selected' : ''}`}\r\n                    draggable\r\n                    onDragStart={() => handleDragStart(row.id)}\r\n                    onDragOver={handleDragOver}\r\n                    onDrop={() => handleDrop(row.id)}\r\n                  >\r\n                    <div className=\"ig-grid-cell\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={selectedRows.includes(row.id)}\r\n                        onChange={() => handleRowSelect(row.id)}\r\n                      />\r\n                    </div>\r\n                    <div className=\"ig-grid-cell ig-caption-cell\">\r\n                      <div className=\"caption-container\">\r\n                        <textarea\r\n                          value={row.caption}\r\n                          onChange={(e) => handleCellEdit(row.id, 'caption', e.target.value)}\r\n                          placeholder=\"Enter your Instagram post caption...\"\r\n                          className=\"ig-caption-input\"\r\n                          rows=\"3\"\r\n                        />\r\n                        <button\r\n                          onClick={() => handleExpandCaption(row.id)}\r\n                          className=\"expand-btn\"\r\n                          title=\"Expand caption\"\r\n                        >\r\n                          <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                            <path d=\"M15 3h6v6\" />\r\n                            <path d=\"M9 21H3v-6\" />\r\n                            <path d=\"M21 3l-7 7\" />\r\n                            <path d=\"M3 21l7-7\" />\r\n                          </svg>\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"ig-grid-cell ig-media-cell\">\r\n                      <div className=\"ig-media-options\">\r\n                        {/* Show upload options when no media is uploaded yet */}\r\n                        {!row.mediaPreview && !row.mediaFile && (!row.carouselImages || row.carouselImages.length === 0) ? (\r\n                          <div className=\"ig-media-option-group\">\r\n                            {/* Photo/Reel Upload */}\r\n                            {(row.postType === 'photo' || row.postType === 'reel') && (\r\n                              <>\r\n                                <input\r\n                                  type=\"file\"\r\n                                  accept={row.postType === 'photo' ? \"image/*\" : \"video/*\"}\r\n                                  onChange={(e) => handleMediaUpload(row.id, e)}\r\n                                  className=\"ig-media-input\"\r\n                                  id={`ig-media-upload-${row.id}`}\r\n                                />\r\n                                <label htmlFor={`ig-media-upload-${row.id}`} className=\"ig-media-option-btn upload-btn\">\r\n                                  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                    <path d=\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\" />\r\n                                    <polyline points=\"7,10 12,15 17,10\" />\r\n                                    <line x1=\"12\" y1=\"15\" x2=\"12\" y2=\"3\" />\r\n                                  </svg>\r\n                                  Upload {row.postType === 'photo' ? 'Image' : 'Video'}\r\n                                </label>\r\n                              </>\r\n                            )}\r\n\r\n                            {/* Disabled Thumbnail Upload for Reels (Video Required First) */}\r\n                            {row.postType === 'reel' && (\r\n                              <div className=\"ig-media-option-btn upload-btn thumbnail-btn disabled\" title=\"Please upload a video first\">\r\n                                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                  <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\" />\r\n                                  <circle cx=\"8.5\" cy=\"8.5\" r=\"1.5\" />\r\n                                  <polyline points=\"21,15 16,10 5,21\" />\r\n                                </svg>\r\n                                Upload Thumbnail (Video Required First)\r\n                              </div>\r\n                            )}\r\n\r\n                            {/* AI Generation for Photo */}\r\n                            {row.postType === 'photo' && (\r\n                              <button\r\n                                onClick={() => handleGenerateMedia(row.id)}\r\n                                className=\"ig-media-option-btn generate-btn\"\r\n                              >\r\n                                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                  <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\" />\r\n                                </svg>\r\n                                Generate\r\n                              </button>\r\n                            )}\r\n\r\n                            {/* AI Generation for Reel */}\r\n                            {row.postType === 'reel' && (\r\n                              <button\r\n                                onClick={() => handleGenerateMedia(row.id)}\r\n                                className=\"ig-media-option-btn generate-btn\"\r\n                                disabled={true}\r\n                                title=\"AI video generation not yet available\"\r\n                              >\r\n                                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                  <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\" />\r\n                                </svg>\r\n                                Generate (Coming Soon)\r\n                              </button>\r\n                            )}\r\n\r\n                            {/* Carousel Options */}\r\n                            {row.postType === 'carousel' && (\r\n                              <>\r\n                                <button\r\n                                  onClick={() => handleGenerateCarousel(row.id)}\r\n                                  className=\"ig-media-option-btn generate-btn\"\r\n                                >\r\n                                  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                    <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\" />\r\n                                  </svg>\r\n                                  Generate {row.carouselImageCount || 2} Images\r\n                                </button>\r\n                                <input\r\n                                  key={`ig-carousel-upload-${row.id}`}\r\n                                  type=\"file\"\r\n                                  accept=\"image/*\"\r\n                                  multiple\r\n                                  ref={el => carouselInputRefs.current[row.id] = el}\r\n                                  onChange={(e) => handleCarouselUpload(row.id, e)}\r\n                                  className=\"ig-media-input\"\r\n                                  id={`ig-carousel-upload-${row.id}`}\r\n                                />\r\n                                <label htmlFor={`ig-carousel-upload-${row.id}`} className=\"ig-media-option-btn upload-btn\">\r\n                                  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                    <path d=\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\" />\r\n                                    <polyline points=\"7,10 12,15 17,10\" />\r\n                                    <line x1=\"12\" y1=\"15\" x2=\"12\" y2=\"3\" />\r\n                                  </svg>\r\n                                  Upload {row.carouselImageCount || 2} Images\r\n                                </label>\r\n                              </>\r\n                            )}\r\n                          </div>\r\n                        ) : (\r\n                          /* Show media preview and additional options after upload */\r\n                          <div className=\"ig-media-preview-container\">\r\n\r\n                            {/* Media Preview */}\r\n                            <div className=\"ig-media-preview\">\r\n                              {/* Carousel Preview */}\r\n                              {row.postType === 'carousel' && row.carouselImages && row.carouselImages.length > 0 ? (\r\n                                <div className=\"ig-carousel-preview\">\r\n                                  <div className=\"ig-carousel-grid\">\r\n                                    {row.carouselImages.slice(0, row.carouselImageCount || 3).map((url, index) => (\r\n                                      <div key={index} className=\"ig-carousel-item\">\r\n                                        <img src={url} alt={`Carousel ${index + 1}`} />\r\n                                        <div className=\"ig-carousel-item-actions\">\r\n                                          <button\r\n                                            onClick={() => handleViewCarouselImage(row.id, index)}\r\n                                            className=\"ig-carousel-action-btn view-btn\"\r\n                                            title=\"View image\"\r\n                                          >\r\n                                            <svg width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                              <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\" />\r\n                                              <circle cx=\"12\" cy=\"12\" r=\"3\" />\r\n                                            </svg>\r\n                                          </button>\r\n                                          <button\r\n                                            onClick={() => handleRemoveCarouselImage(row.id, index)}\r\n                                            className=\"ig-carousel-action-btn remove-btn\"\r\n                                            title=\"Remove image\"\r\n                                          >\r\n                                            <svg width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                              <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" />\r\n                                              <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\r\n                                            </svg>\r\n                                          </button>\r\n                                        </div>\r\n                                        <span className=\"ig-carousel-number\">{index + 1}</span>\r\n                                      </div>\r\n                                    ))}\r\n                                  </div>\r\n                                  <div className=\"ig-carousel-info\">\r\n                                    <div className=\"ig-carousel-status\">\r\n                                      {row.carouselImages.length} / {row.carouselImageCount || 2} images\r\n                                      {row.carouselImages.length < 2 && (\r\n                                        <span className=\"ig-carousel-warning\">⚠️ Need at least 2 images</span>\r\n                                      )}\r\n                                      {row.carouselImages.length >= 2 && (\r\n                                        <span className=\"ig-carousel-success\">✅ Ready</span>\r\n                                      )}\r\n                                    </div>\r\n                                    <div className=\"ig-carousel-actions\">\r\n                                      <button\r\n                                        onClick={() => handleViewCarousel(row.id)}\r\n                                        className=\"ig-btn ig-btn-secondary ig-btn-small\"\r\n                                        title=\"View & reorder carousel\"\r\n                                      >\r\n                                        <svg width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                          <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\" />\r\n                                          <circle cx=\"12\" cy=\"12\" r=\"3\" />\r\n                                        </svg>\r\n                                        View & Reorder\r\n                                      </button>\r\n                                      <button\r\n                                        onClick={() => handleRemoveCarouselImages(row.id)}\r\n                                        className=\"ig-btn ig-btn-danger ig-btn-small\"\r\n                                        disabled={row.carouselImages.length === 0}\r\n                                        title=\"Remove all carousel images\"\r\n                                      >\r\n                                        <svg width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                          <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" />\r\n                                          <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\r\n                                        </svg>\r\n                                        Remove All\r\n                                      </button>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              ) : (\r\n                                /* Single Media Preview */\r\n                                <>\r\n                                  {row.postType === 'reel' ? (\r\n                                    <div className=\"ig-reel-preview\">\r\n                                      <div className=\"ig-reel-video\">\r\n                                        <video src={row.mediaPreview} controls />\r\n                                        <div className=\"ig-reel-video-actions\">\r\n                                          <button\r\n                                            onClick={() => handleViewMedia(row.id)}\r\n                                            className=\"ig-media-action-btn view-btn\"\r\n                                            title=\"View video\"\r\n                                          >\r\n                                            <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                              <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\" />\r\n                                              <circle cx=\"12\" cy=\"12\" r=\"3\" />\r\n                                            </svg>\r\n                                          </button>\r\n                                          <button\r\n                                            onClick={() => handleRemoveMedia(row.id)}\r\n                                            className=\"ig-media-action-btn remove-btn\"\r\n                                            title=\"Remove video\"\r\n                                          >\r\n                                            <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                              <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" />\r\n                                              <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\r\n                                            </svg>\r\n                                          </button>\r\n                                        </div>\r\n                                      </div>\r\n                                      {/* Thumbnail section */}\r\n                                      <div className=\"ig-reel-thumbnail-section\">\r\n                                        {row.thumbnailPreview ? (\r\n                                          <div className=\"ig-reel-thumbnail-preview\">\r\n                                            <img src={row.thumbnailPreview} alt=\"Thumbnail\" />\r\n                                            <div className=\"ig-thumbnail-actions\">\r\n                                              <button\r\n                                                onClick={() => handleViewThumbnail(row.id)}\r\n                                                className=\"ig-media-action-btn view-btn\"\r\n                                                title=\"View thumbnail\"\r\n                                              >\r\n                                                <svg width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                                  <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\" />\r\n                                                  <circle cx=\"12\" cy=\"12\" r=\"3\" />\r\n                                                </svg>\r\n                                              </button>\r\n                                              <button\r\n                                                onClick={() => handleRemoveThumbnail(row.id)}\r\n                                                className=\"ig-media-action-btn remove-btn\"\r\n                                                title=\"Remove thumbnail\"\r\n                                              >\r\n                                                <svg width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                                  <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" />\r\n                                                  <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\r\n                                                </svg>\r\n                                              </button>\r\n                                            </div>\r\n                                            <input\r\n                                              type=\"file\"\r\n                                              accept=\"image/*\"\r\n                                              onChange={(e) => handleThumbnailUpload(row.id, e)}\r\n                                              className=\"ig-media-input\"\r\n                                              id={`ig-thumbnail-upload-${row.id}`}\r\n                                              disabled={row.thumbnailUploading}\r\n                                              style={{ display: 'none' }}\r\n                                            />\r\n                                            <label \r\n                                              htmlFor={`ig-thumbnail-upload-${row.id}`} \r\n                                              className=\"ig-thumbnail-change-btn\"\r\n                                              title=\"Change thumbnail\"\r\n                                            >\r\n                                              <svg width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                                <path d=\"M12 20h9\" />\r\n                                                <path d=\"M16.5 3.5a2.121 2.121 0 1 1 3 3L7 19l-4 1 1-4 12.5-12.5z\" />\r\n                                              </svg>\r\n                                            </label>\r\n                                          </div>\r\n                                        ) : (\r\n                                          <label htmlFor={`ig-thumbnail-upload-${row.id}`} className=\"ig-media-option-btn upload-btn thumbnail-btn\">\r\n                                            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                              <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\" />\r\n                                              <circle cx=\"8.5\" cy=\"8.5\" r=\"1.5\" />\r\n                                              <polyline points=\"21,15 16,10 5,21\" />\r\n                                            </svg>\r\n                                            Upload Thumbnail (Optional)\r\n                                          </label>\r\n                                        )}\r\n                                        {!row.thumbnailPreview && (\r\n                                          <input\r\n                                            type=\"file\"\r\n                                            accept=\"image/*\"\r\n                                            onChange={(e) => handleThumbnailUpload(row.id, e)}\r\n                                            className=\"ig-media-input\"\r\n                                            id={`ig-thumbnail-upload-${row.id}`}\r\n                                            disabled={row.thumbnailUploading}\r\n                                            style={{ display: 'none' }}\r\n                                          />\r\n                                        )}\r\n                                      </div>\r\n                                    </div>\r\n                                  ) : row.mediaFile?.type?.startsWith('image/') || (!row.mediaFile && row.mediaPreview) ? (\r\n                                    <div className=\"ig-single-media-preview\">\r\n                                      <img src={row.mediaPreview} alt=\"Preview\" />\r\n                                      <div className=\"ig-media-actions\">\r\n                                        <button\r\n                                          onClick={() => handleViewMedia(row.id)}\r\n                                          className=\"ig-media-action-btn view-btn\"\r\n                                          title=\"View image\"\r\n                                        >\r\n                                          <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                            <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\" />\r\n                                            <circle cx=\"12\" cy=\"12\" r=\"3\" />\r\n                                          </svg>\r\n                                        </button>\r\n                                        <button\r\n                                          onClick={() => handleRemoveMedia(row.id)}\r\n                                          className=\"ig-media-action-btn remove-btn\"\r\n                                          title=\"Remove image\"\r\n                                        >\r\n                                          <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                            <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" />\r\n                                            <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\r\n                                          </svg>\r\n                                        </button>\r\n                                      </div>\r\n                                    </div>\r\n                                  ) : (\r\n                                    <div className=\"ig-single-media-preview\">\r\n                                      <video src={row.mediaPreview} controls />\r\n                                      <div className=\"ig-media-actions\">\r\n                                        <button\r\n                                          onClick={() => handleViewMedia(row.id)}\r\n                                          className=\"ig-media-action-btn view-btn\"\r\n                                          title=\"View video\"\r\n                                        >\r\n                                          <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                            <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\" />\r\n                                            <circle cx=\"12\" cy=\"12\" r=\"3\" />\r\n                                          </svg>\r\n                                        </button>\r\n                                        <button\r\n                                          onClick={() => handleRemoveMedia(row.id)}\r\n                                          className=\"ig-media-action-btn remove-btn\"\r\n                                          title=\"Remove video\"\r\n                                        >\r\n                                          <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                            <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" />\r\n                                            <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\r\n                                          </svg>\r\n                                        </button>\r\n                                      </div>\r\n                                    </div>\r\n                                  )}\r\n                                </>\r\n                              )}\r\n\r\n\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"ig-grid-cell ig-date-cell\">\r\n                      <input\r\n                        type=\"date\"\r\n                        value={row.scheduledDate}\r\n                        onChange={(e) => handleCellEdit(row.id, 'scheduledDate', e.target.value)}\r\n                        className=\"ig-date-input\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"ig-grid-cell ig-time-cell\">\r\n                      <input\r\n                        type=\"time\"\r\n                        value={row.scheduledTime}\r\n                        onChange={(e) => handleCellEdit(row.id, 'scheduledTime', e.target.value)}\r\n                        className=\"ig-time-input\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"ig-grid-cell ig-status-cell\">\r\n                      <span className={`ig-status-badge ${getStatusClass(row.status)}`}>\r\n                        {getStatusIcon(row.status)} {row.status}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Queue Confirmation */}\r\n      <div className=\"ig-queue-confirmation\">\r\n        <h3>Step 3: Schedule & Publish</h3>\r\n        <div className=\"ig-confirmation-stats\">\r\n          <div className=\"ig-stat-item\">\r\n            <span className=\"ig-stat-label\">Total Posts:</span>\r\n            <span className=\"ig-stat-value\">{composerRows.length}</span>\r\n          </div>\r\n          <div className=\"ig-stat-item\">\r\n            <span className=\"ig-stat-label\">With Captions:</span>\r\n            <span className=\"ig-stat-value\">{composerRows.filter(row => (row.caption || '').trim()).length}</span>\r\n          </div>\r\n          <div className=\"ig-stat-item\">\r\n            <span className=\"ig-stat-label\">Ready to Schedule:</span>\r\n            <span className=\"ig-stat-value\">{composerRows.filter(row => row.status === 'ready').length}</span>\r\n          </div>\r\n          <div className=\"ig-stat-item\">\r\n            <span className=\"ig-stat-label\">With Media:</span>\r\n            <span className=\"ig-stat-value\">{composerRows.filter(row => row.mediaFile || row.mediaPreview).length}</span>\r\n          </div>\r\n        </div>\r\n        {isScheduling && (\r\n          <div className=\"ig-schedule-progress\">\r\n            <div className=\"ig-progress-bar\">\r\n              <div\r\n                className=\"ig-progress-fill\"\r\n                style={{ width: `${scheduleProgress}%` }}\r\n              />\r\n            </div>\r\n            <span className=\"ig-progress-text\">Scheduling Instagram posts... {Math.round(scheduleProgress)}%</span>\r\n          </div>\r\n        )}\r\n        <div className=\"ig-confirmation-actions\">\r\n          <button\r\n            onClick={handleScheduleAll}\r\n            disabled={isScheduling || composerRows.filter(row => row.status === 'ready').length === 0}\r\n            className=\"ig-btn ig-btn-primary ig-btn-large\"\r\n          >\r\n            {isScheduling ? (\r\n              <>\r\n                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                  <path d=\"M21 12a9 9 0 11-6.219-8.56\" />\r\n                </svg>\r\n                Scheduling...\r\n              </>\r\n            ) : (\r\n              <>\r\n                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                  <circle cx=\"12\" cy=\"12\" r=\"10\" />\r\n                  <polyline points=\"12,6 12,12 16,14\" />\r\n                </svg>\r\n                Schedule Ready Posts ({composerRows.filter(row => row.status === 'ready').length})\r\n              </>\r\n            )}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n      {/* Expanded Caption Modal */ }\r\n  {\r\n    expandedCaption && (\r\n      <div className=\"modal-overlay\">\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-header\">\r\n            <h3>Edit Caption</h3>\r\n            <button\r\n              onClick={() => setExpandedCaption(null)}\r\n              className=\"modal-close\"\r\n            >\r\n              ×\r\n            </button>\r\n          </div>\r\n          <div className=\"modal-body\">\r\n            <div className=\"caption-info\">\r\n              <p><strong>Scheduled:</strong> {expandedCaption.scheduledDate} at {expandedCaption.scheduledTime}</p>\r\n            </div>\r\n            <textarea\r\n              value={expandedCaption.caption}\r\n              onChange={(e) => setExpandedCaption(prev => ({ ...prev, caption: e.target.value }))}\r\n              className=\"expanded-caption-textarea\"\r\n              rows=\"10\"\r\n              placeholder=\"Enter your caption...\"\r\n            />\r\n          </div>\r\n          <div className=\"modal-footer\">\r\n            <button\r\n              onClick={() => setExpandedCaption(null)}\r\n              className=\"ig-btn ig-btn-secondary\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              onClick={() => handleSaveExpandedCaption(expandedCaption.id, expandedCaption.caption)}\r\n              className=\"ig-btn ig-btn-primary\"\r\n            >\r\n              Save Changes\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  {/* Media Preview Modal */ }\r\n  {\r\n    mediaPreviewModal && (\r\n      <div className=\"modal-overlay\">\r\n        <div className=\"modal-content media-preview-modal\">\r\n          <div className=\"modal-header\">\r\n            <h3>\r\n              {mediaPreviewModal.mediaType === 'carousel-image' ? `Carousel Image ${mediaPreviewModal.imageIndex + 1}` :\r\n               mediaPreviewModal.mediaType === 'thumbnail' ? 'Thumbnail Preview' : 'Media Preview'}\r\n            </h3>\r\n            <button\r\n              onClick={() => setMediaPreviewModal(null)}\r\n              className=\"modal-close\"\r\n            >\r\n              ×\r\n            </button>\r\n          </div>\r\n          <div className=\"modal-body\">\r\n            {mediaPreviewModal.mediaFile?.type?.startsWith('image/') || (!mediaPreviewModal.mediaFile && mediaPreviewModal.mediaPreview) ? (\r\n              <img\r\n                src={mediaPreviewModal.mediaPreview}\r\n                alt=\"Media preview\"\r\n                className=\"modal-media\"\r\n              />\r\n            ) : (\r\n              <video\r\n                src={mediaPreviewModal.mediaPreview}\r\n                controls\r\n                className=\"modal-media\"\r\n              />\r\n            )}\r\n            {mediaPreviewModal.caption && (\r\n              <div className=\"modal-caption\">\r\n                <h4>Caption:</h4>\r\n                <p>{mediaPreviewModal.caption}</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div className=\"modal-footer\">\r\n            <button\r\n              onClick={() => setMediaPreviewModal(null)}\r\n              className=\"ig-btn ig-btn-primary\"\r\n            >\r\n              Close\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  {/* Carousel Reorder Modal */}\r\n  {\r\n    carouselReorderModal && (\r\n      <div className=\"modal-overlay\">\r\n        <div className=\"modal-content carousel-reorder-modal\">\r\n          <div className=\"modal-header\">\r\n            <h3>Reorder Carousel Images</h3>\r\n            <button\r\n              onClick={() => setCarouselReorderModal(null)}\r\n              className=\"modal-close\"\r\n            >\r\n              ×\r\n            </button>\r\n          </div>\r\n          <div className=\"modal-body\">\r\n            <p className=\"reorder-instructions\">Drag and drop to reorder images. The first image will be the cover image.</p>\r\n            <div className=\"carousel-reorder-grid\">\r\n              {carouselReorderModal.carouselImages.map((url, index) => (\r\n                <div \r\n                  key={index} \r\n                  className=\"carousel-reorder-item\"\r\n                  draggable\r\n                  onDragStart={(e) => e.dataTransfer.setData('text/plain', index)}\r\n                  onDragOver={(e) => e.preventDefault()}\r\n                  onDrop={(e) => {\r\n                    e.preventDefault();\r\n                    const dragIndex = parseInt(e.dataTransfer.getData('text/plain'));\r\n                    const dropIndex = index;\r\n                    if (dragIndex !== dropIndex) {\r\n                      const newOrder = [...carouselReorderModal.carouselImages];\r\n                      const draggedItem = newOrder[dragIndex];\r\n                      newOrder.splice(dragIndex, 1);\r\n                      newOrder.splice(dropIndex, 0, draggedItem);\r\n                      setCarouselReorderModal(prev => ({\r\n                        ...prev,\r\n                        carouselImages: newOrder\r\n                      }));\r\n                    }\r\n                  }}\r\n                >\r\n                  <img src={url} alt={`Carousel ${index + 1}`} />\r\n                  <div className=\"carousel-reorder-overlay\">\r\n                    <span className=\"carousel-reorder-number\">{index + 1}</span>\r\n                    <button\r\n                      onClick={() => handleViewCarouselImage(carouselReorderModal.id, index)}\r\n                      className=\"carousel-reorder-view\"\r\n                      title=\"View full size\"\r\n                    >\r\n                      <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                        <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\" />\r\n                        <circle cx=\"12\" cy=\"12\" r=\"3\" />\r\n                      </svg>\r\n                    </button>\r\n                    <button\r\n                      onClick={() => {\r\n                        const newImages = carouselReorderModal.carouselImages.filter((_, i) => i !== index);\r\n                        setCarouselReorderModal(prev => ({\r\n                          ...prev,\r\n                          carouselImages: newImages\r\n                        }));\r\n                      }}\r\n                      className=\"carousel-reorder-remove\"\r\n                      title=\"Remove image\"\r\n                    >\r\n                      <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                        <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" />\r\n                        <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\r\n                      </svg>\r\n                    </button>\r\n                  </div>\r\n                  {index === 0 && <div className=\"carousel-cover-badge\">Cover</div>}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n          <div className=\"modal-footer\">\r\n            <button\r\n              onClick={() => setCarouselReorderModal(null)}\r\n              className=\"ig-btn ig-btn-secondary\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              onClick={() => {\r\n                handleReorderCarouselImages(carouselReorderModal.id, carouselReorderModal.carouselImages);\r\n                setCarouselReorderModal(null);\r\n              }}\r\n              className=\"ig-btn ig-btn-primary\"\r\n            >\r\n              Save Order\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  {/* Thumbnail Preview Modal */}\r\n  {\r\n    thumbnailPreviewModal && (\r\n      <div className=\"modal-overlay\">\r\n        <div className=\"modal-content media-preview-modal\">\r\n          <div className=\"modal-header\">\r\n            <h3>Thumbnail Preview</h3>\r\n            <button\r\n              onClick={() => setThumbnailPreviewModal(null)}\r\n              className=\"modal-close\"\r\n            >\r\n              ×\r\n            </button>\r\n          </div>\r\n          <div className=\"modal-body\">\r\n            <img\r\n              src={thumbnailPreviewModal.mediaPreview}\r\n              alt=\"Thumbnail preview\"\r\n              className=\"modal-media\"\r\n            />\r\n            <div className=\"modal-caption\">\r\n              <h4>Reel Thumbnail</h4>\r\n              <p>This image will be used as the cover for your reel video.</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"modal-footer\">\r\n            <button\r\n              onClick={() => setThumbnailPreviewModal(null)}\r\n              className=\"ig-btn ig-btn-primary\"\r\n            >\r\n              Close\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  {/* Carousel Reorder Modal */}\r\n  {\r\n    carouselReorderModal && (\r\n      <div className=\"modal-overlay\">\r\n        <div className=\"modal-content carousel-reorder-modal\">\r\n          <div className=\"modal-header\">\r\n            <h3>Reorder Carousel Images</h3>\r\n            <button\r\n              onClick={() => setCarouselReorderModal(null)}\r\n              className=\"modal-close\"\r\n            >\r\n              ×\r\n            </button>\r\n          </div>\r\n          <div className=\"modal-body\">\r\n            <p className=\"reorder-instructions\">Drag and drop to reorder images. The first image will be the cover image.</p>\r\n            <div className=\"carousel-reorder-grid\">\r\n              {carouselReorderModal.carouselImages.map((url, index) => (\r\n                <div \r\n                  key={index} \r\n                  className=\"carousel-reorder-item\"\r\n                  draggable\r\n                  onDragStart={(e) => e.dataTransfer.setData('text/plain', index)}\r\n                  onDragOver={(e) => e.preventDefault()}\r\n                  onDrop={(e) => {\r\n                    e.preventDefault();\r\n                    const dragIndex = parseInt(e.dataTransfer.getData('text/plain'));\r\n                    const dropIndex = index;\r\n                    if (dragIndex !== dropIndex) {\r\n                      const newOrder = [...carouselReorderModal.carouselImages];\r\n                      const draggedItem = newOrder[dragIndex];\r\n                      newOrder.splice(dragIndex, 1);\r\n                      newOrder.splice(dropIndex, 0, draggedItem);\r\n                      setCarouselReorderModal(prev => ({\r\n                        ...prev,\r\n                        carouselImages: newOrder\r\n                      }));\r\n                    }\r\n                  }}\r\n                >\r\n                  <img src={url} alt={`Carousel ${index + 1}`} />\r\n                  <div className=\"carousel-reorder-overlay\">\r\n                    <span className=\"carousel-reorder-number\">{index + 1}</span>\r\n                    <button\r\n                      onClick={() => handleViewCarouselImage(carouselReorderModal.id, index)}\r\n                      className=\"carousel-reorder-view\"\r\n                      title=\"View full size\"\r\n                    >\r\n                      <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                        <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\" />\r\n                        <circle cx=\"12\" cy=\"12\" r=\"3\" />\r\n                      </svg>\r\n                    </button>\r\n                    <button\r\n                      onClick={() => {\r\n                        const newImages = carouselReorderModal.carouselImages.filter((_, i) => i !== index);\r\n                        setCarouselReorderModal(prev => ({\r\n                          ...prev,\r\n                          carouselImages: newImages\r\n                        }));\r\n                      }}\r\n                      className=\"carousel-reorder-remove\"\r\n                      title=\"Remove image\"\r\n                    >\r\n                      <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                        <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" />\r\n                        <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\r\n                      </svg>\r\n                    </button>\r\n                  </div>\r\n                  {index === 0 && <div className=\"carousel-cover-badge\">Cover</div>}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n          <div className=\"modal-footer\">\r\n            <button\r\n              onClick={() => setCarouselReorderModal(null)}\r\n              className=\"ig-btn ig-btn-secondary\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              onClick={() => {\r\n                handleReorderCarouselImages(carouselReorderModal.id, carouselReorderModal.carouselImages);\r\n                setCarouselReorderModal(null);\r\n              }}\r\n              className=\"ig-btn ig-btn-primary\"\r\n            >\r\n              Save Order\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  {/* Thumbnail Preview Modal */}\r\n  {\r\n    thumbnailPreviewModal && (\r\n      <div className=\"modal-overlay\">\r\n        <div className=\"modal-content media-preview-modal\">\r\n          <div className=\"modal-header\">\r\n            <h3>Thumbnail Preview</h3>\r\n            <button\r\n              onClick={() => setThumbnailPreviewModal(null)}\r\n              className=\"modal-close\"\r\n            >\r\n              ×\r\n            </button>\r\n          </div>\r\n          <div className=\"modal-body\">\r\n            <img\r\n              src={thumbnailPreviewModal.mediaPreview}\r\n              alt=\"Thumbnail preview\"\r\n              className=\"modal-media\"\r\n            />\r\n            <div className=\"modal-caption\">\r\n              <h4>Reel Thumbnail</h4>\r\n              <p>This image will be used as the cover for your reel video.</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"modal-footer\">\r\n            <button\r\n              onClick={() => setThumbnailPreviewModal(null)}\r\n              className=\"ig-btn ig-btn-primary\"\r\n            >\r\n              Close\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n    </div >\r\n  );\r\n}\r\n\r\nexport default IgBulkComposer; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}