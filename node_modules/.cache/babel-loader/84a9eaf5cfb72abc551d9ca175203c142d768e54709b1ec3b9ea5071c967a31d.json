{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\THORSIGNIA\\\\Projects\\\\automation-dash\\\\frontend\\\\src\\\\components\\\\igBulkComposer.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useNotifications } from '../contexts/NotificationContext';\nimport apiClient from '../services/apiClient';\nimport { fileToBase64 } from './FacebookUtils';\nimport './igBulkComposer.css';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction IgBulkComposer({\n  selectedAccount,\n  onClose\n}) {\n  _s();\n  var _mediaPreviewModal$me, _mediaPreviewModal$me2;\n  const {\n    user\n  } = useAuth();\n  const {\n    addNotification\n  } = useNotifications();\n\n  // Strategy step state\n  const [strategyData, setStrategyData] = useState({\n    promptTemplate: '',\n    customStrategyTemplate: '',\n    brandName: '',\n    hookIdea: '',\n    features: '',\n    location: '',\n    phone: '',\n    website: '',\n    callToAction: '',\n    imagePrompt: '',\n    startDate: '',\n    endDate: '',\n    frequency: 'daily',\n    customCron: '',\n    timeSlot: '09:00'\n  });\n\n  // Composer grid state\n  const [composerRows, setComposerRows] = useState([]);\n  const [selectedRows, setSelectedRows] = useState([]);\n  const [editingCell, setEditingCell] = useState(null);\n  const [dragStartRow, setDragStartRow] = useState(null);\n\n  // Post type state\n  const [postType, setPostType] = useState('photo'); // photo, carousel, reel\n  const [carouselImageCount, setCarouselImageCount] = useState(2);\n\n  // Calendar preview state\n  const [currentMonth, setCurrentMonth] = useState(new Date());\n\n  // Queue state\n  const [isScheduling, setIsScheduling] = useState(false);\n  const [scheduleProgress, setScheduleProgress] = useState(0);\n\n  // Expanded view state\n  const [expandedCaption, setExpandedCaption] = useState(null);\n  const [mediaPreviewModal, setMediaPreviewModal] = useState(null);\n  const [scheduledGridRows, setScheduledGridRows] = useState([]);\n  const navigate = useNavigate();\n\n  // Prompt templates for Instagram\n  const [promptTemplates] = useState([{\n    id: 1,\n    name: 'Daily Inspiration',\n    prompt: 'Share an inspiring quote or motivational message for your Instagram audience'\n  }, {\n    id: 2,\n    name: 'Product Showcase',\n    prompt: 'Highlight your best products with engaging descriptions and hashtags'\n  }, {\n    id: 3,\n    name: 'Behind the Scenes',\n    prompt: 'Share behind-the-scenes content about your business or team'\n  }, {\n    id: 4,\n    name: 'Customer Spotlight',\n    prompt: 'Feature customer testimonials or success stories'\n  }, {\n    id: 5,\n    name: 'Industry Tips',\n    prompt: 'Share valuable tips and insights related to your industry'\n  }, {\n    id: 6,\n    name: 'Lifestyle Content',\n    prompt: 'Share lifestyle content that resonates with your audience'\n  }, {\n    id: 7,\n    name: 'User Generated Content',\n    prompt: 'Repost and credit amazing content from your community'\n  }, {\n    id: 8,\n    name: 'Custom',\n    prompt: 'custom'\n  }]);\n  const gridRef = useRef(null);\n  const carouselInputRefs = useRef({});\n\n  // Initialize composer with default rows\n  useEffect(() => {\n    if (strategyData.startDate && strategyData.frequency) {\n      generateInitialRows();\n    }\n    // eslint-disable-next-line\n  }, [strategyData.startDate, strategyData.endDate, strategyData.frequency, strategyData.timeSlot]);\n  const generateInitialRows = () => {\n    if (!strategyData.startDate) return;\n    const startDateParts = strategyData.startDate.split('-');\n    const startDate = new Date(parseInt(startDateParts[0]), parseInt(startDateParts[1]) - 1, parseInt(startDateParts[2]));\n    let endDate = null;\n    if (strategyData.endDate) {\n      const endDateParts = strategyData.endDate.split('-');\n      endDate = new Date(parseInt(endDateParts[0]), parseInt(endDateParts[1]) - 1, parseInt(endDateParts[2]));\n    }\n    const rows = [];\n    const maxDays = 30; // Instagram's 30-day limit\n    let currentDate = new Date(startDate);\n    let dayCount = 0;\n    let rowCount = 0;\n    if (!endDate) {\n      // Format as YYYY-MM-DD using local date parts (same as multi-day logic)\n      const yyyy = startDate.getFullYear();\n      const mm = String(startDate.getMonth() + 1).padStart(2, '0');\n      const dd = String(startDate.getDate()).padStart(2, '0');\n      const formattedDate = `${yyyy}-${mm}-${dd}`;\n      rows.push({\n        id: `row-0`,\n        caption: '',\n        mediaFile: null,\n        mediaPreview: null,\n        thumbnailFile: null,\n        thumbnailPreview: null,\n        postType: postType.toLowerCase(),\n        carouselImageCount: carouselImageCount,\n        carouselImages: [],\n        scheduledDate: formattedDate,\n        scheduledTime: strategyData.timeSlot,\n        status: 'draft',\n        isSelected: false\n      });\n    } else {\n      // Fix: include the end date by using <= in the comparison\n      while (dayCount < maxDays && rowCount < 30) {\n        if (endDate && currentDate > endDate) break;\n        const maxAllowedDate = new Date(Date.now() + 30 * 24 * 60 * 60 * 1000);\n        if (currentDate > maxAllowedDate) break;\n        let shouldInclude = false;\n        switch (strategyData.frequency) {\n          case 'daily':\n            shouldInclude = true;\n            break;\n          case 'weekly':\n            shouldInclude = currentDate.getDay() === startDate.getDay();\n            break;\n          case 'monthly':\n            shouldInclude = currentDate.getDate() === startDate.getDate();\n            break;\n          case 'custom':\n            shouldInclude = true;\n            break;\n          default:\n            shouldInclude = true;\n        }\n        if (shouldInclude) {\n          // Format as YYYY-MM-DD using local date parts\n          const yyyy = currentDate.getFullYear();\n          const mm = String(currentDate.getMonth() + 1).padStart(2, '0');\n          const dd = String(currentDate.getDate()).padStart(2, '0');\n          const formattedDate = `${yyyy}-${mm}-${dd}`;\n          rows.push({\n            id: `row-${rowCount}`,\n            caption: '',\n            mediaFile: null,\n            mediaPreview: null,\n            thumbnailFile: null,\n            thumbnailPreview: null,\n            postType: postType.toLowerCase(),\n            carouselImageCount: carouselImageCount,\n            carouselImages: [],\n            scheduledDate: formattedDate,\n            scheduledTime: strategyData.timeSlot,\n            status: 'draft',\n            isSelected: false\n          });\n          rowCount++;\n        }\n        // Fix: increment date at the end, and break if we've reached the end date\n        if (endDate && currentDate.getTime() === endDate.getTime()) break;\n        currentDate.setDate(currentDate.getDate() + 1);\n        dayCount++;\n      }\n    }\n    setComposerRows(rows);\n  };\n  const handleStrategyChange = (field, value) => {\n    setStrategyData(prev => {\n      const newData = {\n        ...prev,\n        [field]: value\n      };\n      // If start date is changed and end date is before it, clear end date\n      if (field === 'startDate' && prev.endDate && value > prev.endDate) {\n        newData.endDate = '';\n      }\n      return newData;\n    });\n\n    // If prompt template is selected, apply it to all rows\n    if (field === 'promptTemplate' && value && value !== 'custom') {\n      setComposerRows(prev => prev.map(row => ({\n        ...row,\n        caption: value\n      })));\n    }\n  };\n\n  // Update post type for all rows\n  const handlePostTypeChange = newPostType => {\n    setPostType(newPostType);\n    setComposerRows(prev => prev.map(row => ({\n      ...row,\n      postType: newPostType.toLowerCase(),\n      carouselImageCount: newPostType === 'carousel' ? carouselImageCount : null,\n      carouselImages: newPostType === 'carousel' ? row.carouselImages || [] : [],\n      // Clear media for photo/reel when switching to carousel\n      mediaFile: newPostType === 'carousel' ? null : row.mediaFile,\n      mediaPreview: newPostType === 'carousel' ? null : row.mediaPreview,\n      // Clear thumbnail when switching away from reel\n      thumbnailFile: newPostType === 'reel' ? row.thumbnailFile : null,\n      thumbnailPreview: newPostType === 'reel' ? row.thumbnailPreview : null\n    })));\n  };\n\n  // Update carousel image count for all rows\n  const handleCarouselImageCountChange = newCount => {\n    setCarouselImageCount(newCount);\n    setComposerRows(prev => prev.map(row => ({\n      ...row,\n      carouselImageCount: row.postType === 'carousel' ? newCount : row.carouselImageCount\n    })));\n  };\n  const handleRowSelect = rowId => {\n    setSelectedRows(prev => prev.includes(rowId) ? prev.filter(id => id !== rowId) : [...prev, rowId]);\n  };\n  const handleSelectAll = () => {\n    if (selectedRows.length === composerRows.length) {\n      setSelectedRows([]);\n    } else {\n      setSelectedRows(composerRows.map(row => row.id));\n    }\n  };\n  const handleCellEdit = (rowId, field, value) => {\n    setComposerRows(prev => prev.map(row => row.id === rowId ? {\n      ...row,\n      [field]: field === 'postType' ? value.toLowerCase() : value,\n      status: (() => {\n        // For carousel posts, check if we have enough images\n        if (field === 'postType' && value.toLowerCase() === 'carousel') {\n          return 'draft'; // Reset status when switching to carousel\n        }\n\n        // For carousel posts, validate image count\n        if (row.postType === 'carousel') {\n          const hasCaption = (row.caption || '').trim();\n          const hasEnoughImages = (row.carouselImages || []).length >= 2;\n          return hasCaption && hasEnoughImages ? 'ready' : 'draft';\n        }\n\n        // For other post types, use existing logic\n        if (field === 'caption' || field === 'mediaFile' || field === 'mediaPreview') {\n          const hasCaption = field === 'caption' ? value.trim() : (row.caption || '').trim();\n          const hasMedia = field === 'mediaFile' ? value : row.mediaFile || row.mediaPreview;\n          return hasCaption && hasMedia ? 'ready' : 'draft';\n        }\n        return row.status;\n      })()\n    } : row));\n  };\n  const handleMediaUpload = async (rowId, event) => {\n    const file = event.target.files[0];\n    if (!file) return;\n\n    // Find the row to determine post type\n    const row = composerRows.find(r => r.id === rowId);\n    if (!row) return;\n\n    // --- REELS VIDEO UPLOAD LOGIC ---\n    if (row.postType === 'reel') {\n      alert('Your video is converted to: 1080x1920 as instagram policy.');\n      // Proceed to upload to backend as before...\n    }\n\n    // --- PHOTO/CAROUSEL LOGIC (unchanged) ---\n    const reader = new FileReader();\n    reader.onload = e => {\n      setComposerRows(prev => prev.map(row => row.id === rowId ? {\n        ...row,\n        mediaFile: file,\n        mediaPreview: e.target.result,\n        status: (row.caption || '').trim() ? 'ready' : 'draft'\n      } : row));\n    };\n    reader.readAsDataURL(file);\n  };\n  const handleGenerateMedia = async rowId => {\n    try {\n      const row = composerRows.find(r => r.id === rowId);\n      if (!row || !(row.caption || '').trim()) {\n        alert('Please add a caption first to generate an image.');\n        return;\n      }\n      console.log(`Generating image for row ${rowId} with caption: ${row.caption.substring(0, 50)}...`);\n\n      // Truncate caption to 500 characters for image generation\n      const imagePrompt = row.caption.trim().substring(0, 500);\n      console.log(`Using image prompt (truncated): ${imagePrompt.substring(0, 100)}...`);\n      const response = await apiClient.generateInstagramImage(imagePrompt, 'feed');\n      if (response.success && response.data && response.data.image_url) {\n        console.log(`Successfully generated image for row ${rowId}:`, response.data.image_url);\n        setComposerRows(prev => prev.map(r => r.id === rowId ? {\n          ...r,\n          mediaFile: null,\n          mediaPreview: response.data.image_url,\n          status: (r.caption || '').trim() ? 'ready' : 'draft'\n        } : r));\n      } else {\n        console.log(`Failed to generate image for row ${rowId}:`, response);\n        alert('Failed to generate image. Please try again.');\n      }\n    } catch (error) {\n      console.error(`Error generating image for row ${rowId}:`, error);\n      alert('Failed to generate image. Please try again.');\n    }\n  };\n  const handleGenerateAllCaptions = async () => {\n    if (selectedRows.length === 0) {\n      alert('Please select at least one row to generate captions for.');\n      return;\n    }\n    if (!strategyData.promptTemplate) {\n      alert('Please select a strategy template first.');\n      return;\n    }\n    setIsScheduling(true);\n    setScheduleProgress(0);\n    try {\n      const selectedComposerRows = composerRows.filter(row => selectedRows.includes(row.id));\n      const captions = [];\n\n      // Create the base prompt based on the selected template type\n      let prompt = '';\n      if (strategyData.promptTemplate === 'custom') {\n        // Build a detailed prompt for custom templates\n        prompt = `\n          Brand Name: ${strategyData.brandName || 'Not specified'}\n          Hook Idea: ${strategyData.hookIdea || 'Not specified'}\n          Key Features: ${strategyData.features || 'Not specified'}\n          Location: ${strategyData.location || 'Not specified'}\n          Phone: ${strategyData.phone || 'Not specified'}\n          Website: ${strategyData.website || 'Not specified'}\n          Call to Action: ${strategyData.callToAction || 'Not specified'}\n          Image Prompt: ${strategyData.imagePrompt || 'Not specified'}\n          \n          Custom Template:\n          ${strategyData.customStrategyTemplate || ''}\n        `;\n      } else {\n        // Use the selected predefined template\n        const selectedTemplate = promptTemplates.find(t => t.prompt === strategyData.promptTemplate);\n        if (!selectedTemplate) {\n          alert('Invalid strategy template selected.');\n          setIsScheduling(false);\n          return;\n        }\n        prompt = selectedTemplate.prompt;\n      }\n\n      // Generate captions for each selected row\n      for (let i = 0; i < selectedComposerRows.length; i++) {\n        try {\n          const row = selectedComposerRows[i];\n          const context = {\n            scheduledDate: row.scheduledDate\n            // Add any other context you want to include\n          };\n\n          // Add context to the prompt\n          const fullPrompt = `${prompt}\\n\\nContext: ${JSON.stringify(context, null, 2)}`;\n          const captionResponse = await apiClient.generateInstagramCaption(fullPrompt);\n          if (captionResponse.success) {\n            captions.push({\n              content: captionResponse.content || captionResponse.generated_text || 'No content generated',\n              context: context.scheduledDate,\n              success: true\n            });\n          } else {\n            console.error('Caption generation failed:', captionResponse.error);\n            captions.push({\n              content: `Failed to generate caption for: ${context.scheduledDate}`,\n              context: context.scheduledDate,\n              success: false,\n              error: captionResponse.error || 'Unknown error'\n            });\n          }\n        } catch (error) {\n          console.error('Error generating caption:', error);\n          captions.push({\n            content: `Error generating caption for: ${selectedComposerRows[i].scheduledDate}`,\n            context: selectedComposerRows[i].scheduledDate,\n            success: false,\n            error: error.message\n          });\n        }\n\n        // Update progress\n        setScheduleProgress(Math.round((i + 1) / selectedComposerRows.length * 100));\n      }\n\n      // Update the rows with generated captions\n      setComposerRows(prev => prev.map(row => {\n        if (!selectedRows.includes(row.id)) return row;\n        const caption = captions.find(c => c.context === row.scheduledDate);\n        if (caption && caption.success) {\n          return {\n            ...row,\n            caption: caption.content,\n            status: 'ready'\n          };\n        }\n        return row;\n      }));\n\n      // Show success/failure summary\n      const successCount = captions.filter(c => c.success).length;\n      const failedCount = captions.length - successCount;\n      let message = '';\n      if (successCount > 0 && failedCount === 0) {\n        message = `Successfully generated captions for ${successCount} ${successCount === 1 ? 'post' : 'posts'}.`;\n      } else if (successCount > 0) {\n        message = `Generated ${successCount} captions successfully, but failed to generate ${failedCount}.`;\n      } else {\n        message = 'Failed to generate any captions. Please try again.';\n      }\n      alert(message);\n    } catch (error) {\n      console.error('Unexpected error in handleGenerateAllCaptions:', error);\n      alert('An unexpected error occurred while generating captions. Please try again.');\n    } finally {\n      setIsScheduling(false);\n      setScheduleProgress(0);\n    }\n  };\n  const handleGenerateAllImages = async () => {\n    if (selectedRows.length === 0) {\n      alert('Please select at least one row to generate images.');\n      return;\n    }\n    setIsScheduling(true);\n    setScheduleProgress(0);\n    try {\n      const selectedComposerRows = composerRows.filter(row => selectedRows.includes(row.id));\n      let successCount = 0;\n      let errorCount = 0;\n      for (let i = 0; i < selectedComposerRows.length; i++) {\n        const row = selectedComposerRows[i];\n        if (!row.caption || !(row.caption || '').trim()) {\n          console.log(`Skipping image generation for row ${row.id} - no caption available`);\n          continue;\n        }\n        try {\n          console.log(`Generating image for row ${row.id} with caption: ${row.caption.substring(0, 50)}...`);\n\n          // Truncate caption to 500 characters for image generation\n          const imagePrompt = row.caption.trim().substring(0, 500);\n          console.log(`Using image prompt (truncated): ${imagePrompt.substring(0, 100)}...`);\n\n          // Generate image using Stability AI with the caption as prompt\n          const response = await apiClient.generateInstagramImage(imagePrompt, 'feed');\n          if (response.success && response.data && response.data.image_url) {\n            console.log(`Successfully generated image for row ${row.id}:`, response.data.image_url);\n            setComposerRows(prev => prev.map(r => r.id === row.id ? {\n              ...r,\n              mediaFile: null,\n              mediaPreview: response.data.image_url,\n              status: (r.caption || '').trim() ? 'ready' : 'draft'\n            } : r));\n            successCount++;\n          } else {\n            console.log(`Failed to generate image for row ${row.id}:`, response);\n            errorCount++;\n          }\n        } catch (error) {\n          console.error(`Error generating image for row ${row.id}:`, error);\n          errorCount++;\n        }\n      }\n      if (successCount > 0) {\n        alert(`Image generation completed! Successfully generated ${successCount} images${errorCount > 0 ? `, ${errorCount} failed` : ''}`);\n      } else {\n        alert('Failed to generate any images. Please try again.');\n      }\n    } catch (error) {\n      console.error('Error in bulk image generation:', error);\n      alert('Failed to generate images. Please try again.');\n    } finally {\n      setIsScheduling(false);\n      setScheduleProgress(0);\n    }\n  };\n  const handleExpandCaption = rowId => {\n    const row = composerRows.find(r => r.id === rowId);\n    if (row) setExpandedCaption(row);\n  };\n  const handleViewMedia = rowId => {\n    const row = composerRows.find(r => r.id === rowId);\n    if (row && (row.mediaPreview || row.mediaFile)) setMediaPreviewModal(row);\n  };\n  const handleSaveExpandedCaption = (rowId, newCaption) => {\n    setComposerRows(prev => prev.map(row => row.id === rowId ? {\n      ...row,\n      caption: newCaption,\n      status: (newCaption || '').trim() && (row.mediaFile || row.mediaPreview) ? 'ready' : 'draft'\n    } : row));\n    setExpandedCaption(null);\n  };\n  const handleThumbnailUpload = async (rowId, event) => {\n    const file = event.target.files[0];\n    if (!file) return;\n\n    // Validate file type\n    if (!file.type.startsWith('image/')) {\n      alert('Please select an image file for the thumbnail.');\n      return;\n    }\n\n    // Show loading state\n    setComposerRows(prev => prev.map(row => row.id === rowId ? {\n      ...row,\n      thumbnailUploading: true\n    } : row));\n    try {\n      console.log(`📤 Uploading thumbnail for row ${rowId}: ${file.name}`);\n\n      // Upload thumbnail to Cloudinary via backend\n      const uploadResponse = await apiClient.uploadThumbnailToCloudinary(file);\n      if (uploadResponse && uploadResponse.success && uploadResponse.data && uploadResponse.data.url) {\n        console.log(`✅ Thumbnail uploaded successfully: ${uploadResponse.data.url}`);\n\n        // Update row with Cloudinary URL\n        setComposerRows(prev => prev.map(row => row.id === rowId ? {\n          ...row,\n          thumbnailFile: null,\n          // Clear file since we have URL now\n          thumbnailPreview: uploadResponse.data.url,\n          // Use Cloudinary URL\n          thumbnailUrl: uploadResponse.data.url,\n          // Store Cloudinary URL\n          thumbnailUploading: false\n        } : row));\n        alert('Thumbnail uploaded successfully! It will be optimized for Instagram reel cover image requirements.');\n      } else {\n        console.error(`❌ Failed to upload thumbnail:`, uploadResponse);\n        alert('Failed to upload thumbnail. Please try again.');\n\n        // Clear loading state\n        setComposerRows(prev => prev.map(row => row.id === rowId ? {\n          ...row,\n          thumbnailUploading: false\n        } : row));\n      }\n    } catch (error) {\n      console.error('Error uploading thumbnail:', error);\n      alert(`Failed to upload thumbnail: ${error.message}`);\n\n      // Clear loading state\n      setComposerRows(prev => prev.map(row => row.id === rowId ? {\n        ...row,\n        thumbnailUploading: false\n      } : row));\n    }\n  };\n  const handleRemoveThumbnail = rowId => {\n    setComposerRows(prev => prev.map(row => row.id === rowId ? {\n      ...row,\n      thumbnailFile: null,\n      thumbnailPreview: null,\n      thumbnailUrl: null // Clear Cloudinary URL as well\n    } : row));\n  };\n  const handleRemoveMedia = rowId => {\n    setComposerRows(prev => prev.map(row => row.id === rowId ? {\n      ...row,\n      mediaFile: null,\n      mediaPreview: null,\n      thumbnailFile: null,\n      thumbnailPreview: null,\n      carouselImages: row.postType === 'carousel' ? [] : null,\n      status: (row.caption || '').trim() ? 'draft' : 'draft'\n    } : row));\n  };\n  const handleGenerateCarousel = async rowId => {\n    try {\n      const row = composerRows.find(r => r.id === rowId);\n      if (!row || !(row.caption || '').trim()) {\n        alert('Please add a caption first to generate carousel images.');\n        return;\n      }\n      console.log(`Generating carousel for row ${rowId} with caption: ${row.caption.substring(0, 50)}...`);\n      const imagePrompt = row.caption.trim().substring(0, 500);\n      const imageCount = row.carouselImageCount || 3;\n      if (imageCount < 2 || imageCount > 7) {\n        alert('Carousel must have between 2 and 7 images.');\n        return;\n      }\n      console.log(`🎨 Generating ${imageCount} carousel images with prompt: ${imagePrompt}`);\n      const response = await apiClient.generateInstagramCarousel(imagePrompt, imageCount);\n      if (response.success && response.image_urls && response.image_urls.length >= 2) {\n        console.log(`Successfully generated carousel for row ${rowId}:`, response.image_urls);\n        setComposerRows(prev => prev.map(r => r.id === rowId ? {\n          ...r,\n          carouselImages: response.image_urls,\n          status: (() => {\n            const hasCaption = (r.caption || '').trim();\n            const hasEnoughImages = response.image_urls.length >= 2;\n            return hasCaption && hasEnoughImages ? 'ready' : 'draft';\n          })()\n        } : r));\n      } else {\n        console.log(`Failed to generate carousel for row ${rowId}:`, response);\n        const errorMsg = response.error || 'Failed to generate enough carousel images. Please try again.';\n        alert(`Failed to generate carousel: ${errorMsg}`);\n      }\n    } catch (error) {\n      console.error(`Error generating carousel for row ${rowId}:`, error);\n      alert('Error generating carousel images. Please try again.');\n    }\n  };\n  const handleCarouselUpload = async (rowId, event) => {\n    const files = Array.from(event.target.files);\n    if (files.length === 0) return;\n    const row = composerRows.find(r => r.id === rowId);\n    const maxImages = row.carouselImageCount || 3;\n    const minImages = 2;\n    if (files.length < minImages) {\n      alert(`Please select at least ${minImages} images for a carousel post.`);\n      return;\n    }\n    if (files.length > maxImages) {\n      alert(`Please select only ${maxImages} images for this carousel.`);\n      return;\n    }\n    try {\n      console.log(`🖼️ Uploading ${files.length} carousel images for row ${rowId}`);\n      const imageUrls = [];\n      for (let i = 0; i < files.length; i++) {\n        const file = files[i];\n\n        // Validate file type\n        if (!file.type.startsWith('image/')) {\n          alert(`File ${file.name} is not an image. Please select only image files.`);\n          continue;\n        }\n        console.log(`📤 Uploading carousel image ${i + 1}/${files.length}: ${file.name}`);\n\n        // Upload to Cloudinary\n        const uploadResponse = await apiClient.uploadImageToCloudinary(file);\n        if (uploadResponse && uploadResponse.success && uploadResponse.data && uploadResponse.data.url) {\n          imageUrls.push(uploadResponse.data.url);\n          console.log(`✅ Carousel image ${i + 1} uploaded: ${uploadResponse.data.url}`);\n        } else {\n          console.error(`❌ Failed to upload carousel image ${i + 1}:`, uploadResponse);\n          alert(`Failed to upload image ${file.name}. Please try again.`);\n          return;\n        }\n      }\n      if (imageUrls.length >= minImages) {\n        setComposerRows(prev => prev.map(r => r.id === rowId ? {\n          ...r,\n          carouselImages: imageUrls,\n          status: (() => {\n            const hasCaption = (r.caption || '').trim();\n            const hasEnoughImages = imageUrls.length >= 3;\n            return hasCaption && hasEnoughImages ? 'ready' : 'draft';\n          })()\n        } : r));\n        console.log(`✅ Successfully uploaded ${imageUrls.length} carousel images for row ${rowId}`);\n      } else {\n        alert(`Please upload at least ${minImages} images for a carousel post.`);\n      }\n\n      // Clear the file input\n      if (carouselInputRefs.current[rowId]) {\n        carouselInputRefs.current[rowId].value = '';\n      }\n    } catch (error) {\n      console.error('Error processing carousel upload:', error);\n      alert('Error uploading carousel images. Please try again.');\n    }\n  };\n  const handleDuplicateRow = rowId => {\n    const rowToDuplicate = composerRows.find(row => row.id === rowId);\n    if (rowToDuplicate) {\n      const newRow = {\n        ...rowToDuplicate,\n        id: `row-${Date.now()}-${Math.random()}`,\n        scheduledDate: new Date(rowToDuplicate.scheduledDate).toISOString().split('T')[0],\n        postType: rowToDuplicate.postType ? rowToDuplicate.postType.toLowerCase() : 'photo'\n      };\n      setComposerRows(prev => [...prev, newRow]);\n    }\n  };\n  const handleDeleteRow = rowId => {\n    setComposerRows(prev => prev.filter(row => row.id !== rowId));\n    setSelectedRows(prev => prev.filter(id => id !== rowId));\n  };\n  const handleBulkDelete = () => {\n    setComposerRows(prev => prev.filter(row => !selectedRows.includes(row.id)));\n    setSelectedRows([]);\n  };\n  const handleTimeShift = direction => {\n    setComposerRows(prev => prev.map(row => {\n      if (selectedRows.includes(row.id)) {\n        const [hours, minutes] = row.scheduledTime.split(':');\n        let newHours = parseInt(hours) + (direction === 'forward' ? 1 : -1);\n        if (newHours < 0) newHours = 23;\n        if (newHours > 23) newHours = 0;\n        return {\n          ...row,\n          scheduledTime: `${newHours.toString().padStart(2, '0')}:${minutes}`\n        };\n      }\n      return row;\n    }));\n  };\n  const handleDragStart = rowId => setDragStartRow(rowId);\n  const handleDragOver = e => e.preventDefault();\n  const handleDrop = targetRowId => {\n    if (dragStartRow && dragStartRow !== targetRowId) {\n      const rows = [...composerRows];\n      const sourceIndex = rows.findIndex(row => row.id === dragStartRow);\n      const targetIndex = rows.findIndex(row => row.id === targetRowId);\n      const [movedRow] = rows.splice(sourceIndex, 1);\n      rows.splice(targetIndex, 0, movedRow);\n      setComposerRows(rows);\n    }\n    setDragStartRow(null);\n  };\n  const handleScheduleAll = async () => {\n    if (!selectedAccount || composerRows.length === 0) return;\n    setIsScheduling(true);\n    setScheduleProgress(0);\n    try {\n      const readyRows = composerRows.filter(row => row.status === 'ready');\n      console.log(`🔄 Starting bulk scheduling for ${readyRows.length} posts...`);\n\n      // Progress tracking for media processing\n      let processedCount = 0;\n      const totalPosts = readyRows.length;\n      const postsWithMedia = await Promise.all(readyRows.map(async (row, index) => {\n        const basePost = {\n          caption: row.caption,\n          scheduled_datetime: `${row.scheduledDate}T${row.scheduledTime}:00+05:30`,\n          scheduled_date: row.scheduledDate,\n          scheduled_time: row.scheduledTime,\n          post_type: (row.postType || 'photo').toLowerCase()\n        };\n        if (row.postType === 'photo') {\n          if (row.mediaFile) {\n            const result = {\n              ...basePost,\n              media_file: await fileToBase64(row.mediaFile),\n              media_filename: row.mediaFile.name\n            };\n            processedCount++;\n            setScheduleProgress(processedCount / totalPosts * 30);\n            return result;\n          } else if (row.mediaPreview && row.mediaPreview.startsWith('data:')) {\n            const result = {\n              ...basePost,\n              media_file: row.mediaPreview,\n              media_filename: 'generated_image.jpg'\n            };\n            processedCount++;\n            setScheduleProgress(processedCount / totalPosts * 30);\n            return result;\n          } else if (row.mediaPreview && row.mediaPreview.startsWith('http')) {\n            const result = {\n              ...basePost,\n              image_prompt: row.caption.substring(0, 200)\n            };\n            processedCount++;\n            setScheduleProgress(processedCount / totalPosts * 30);\n            return result;\n          } else {\n            const result = {\n              ...basePost,\n              image_prompt: strategyData.imagePrompt || row.caption.substring(0, 200)\n            };\n            processedCount++;\n            setScheduleProgress(processedCount / totalPosts * 30);\n            return result;\n          }\n        } else if (row.postType === 'carousel') {\n          if (row.carouselImages && row.carouselImages.length > 0) {\n            const carouselFiles = row.carouselImages;\n            const result = {\n              ...basePost,\n              carousel_images: carouselFiles,\n              carousel_filenames: carouselFiles.map((_, idx) => `carousel_image_${idx + 1}.jpg`)\n            };\n            processedCount++;\n            setScheduleProgress(processedCount / totalPosts * 30);\n            return result;\n          } else {\n            const result = {\n              ...basePost,\n              carousel_image_count: row.carouselImageCount || 3,\n              image_prompt: strategyData.imagePrompt || row.caption.substring(0, 200)\n            };\n            processedCount++;\n            setScheduleProgress(processedCount / totalPosts * 30);\n            return result;\n          }\n        } else if (row.postType === 'reel') {\n          if (row.mediaFile) {\n            const result = {\n              ...basePost,\n              media_file: await fileToBase64(row.mediaFile),\n              media_filename: row.mediaFile.name\n            };\n\n            // Add thumbnail if available - prioritize Cloudinary URL over file\n            if (row.thumbnailUrl && row.thumbnailUrl.startsWith('http')) {\n              result.thumbnail_url = row.thumbnailUrl;\n            } else if (row.thumbnailPreview && row.thumbnailPreview.startsWith('http')) {\n              result.thumbnail_url = row.thumbnailPreview;\n            } else if (row.thumbnailFile) {\n              result.thumbnail_file = await fileToBase64(row.thumbnailFile);\n              result.thumbnail_filename = row.thumbnailFile.name;\n            }\n            processedCount++;\n            setScheduleProgress(processedCount / totalPosts * 30);\n            return result;\n          } else if (row.mediaPreview && row.mediaPreview.startsWith('data:')) {\n            const result = {\n              ...basePost,\n              media_file: row.mediaPreview,\n              media_filename: 'generated_video.mp4'\n            };\n\n            // Add thumbnail if available - prioritize Cloudinary URL over file\n            if (row.thumbnailUrl && row.thumbnailUrl.startsWith('http')) {\n              result.thumbnail_url = row.thumbnailUrl;\n            } else if (row.thumbnailPreview && row.thumbnailPreview.startsWith('http')) {\n              result.thumbnail_url = row.thumbnailPreview;\n            } else if (row.thumbnailFile) {\n              result.thumbnail_file = await fileToBase64(row.thumbnailFile);\n              result.thumbnail_filename = row.thumbnailFile.name;\n            }\n            processedCount++;\n            setScheduleProgress(processedCount / totalPosts * 30);\n            return result;\n          } else {\n            const result = {\n              ...basePost,\n              image_prompt: strategyData.imagePrompt || row.caption.substring(0, 200)\n            };\n            processedCount++;\n            setScheduleProgress(processedCount / totalPosts * 30);\n            return result;\n          }\n        }\n        processedCount++;\n        setScheduleProgress(processedCount / totalPosts * 30);\n        return basePost;\n      }));\n\n      // Final normalization: ensure all outgoing post_type values are lowercase\n      const normalizedPostsWithMedia = postsWithMedia.map(post => ({\n        ...post,\n        post_type: (post.post_type || 'photo').toLowerCase()\n      }));\n      const bulkData = {\n        social_account_id: selectedAccount.id,\n        posts: normalizedPostsWithMedia\n      };\n      console.log(`🚀 Sending ${normalizedPostsWithMedia.length} posts to backend for scheduling...`);\n      setScheduleProgress(40); // 40% for API call start\n\n      const response = await apiClient.bulkScheduleInstagramPosts(bulkData);\n      setScheduleProgress(90); // 90% for API response\n      console.log('Bulk schedule response:', response);\n      if (response && response.success) {\n        var _response$scheduled_p;\n        console.log(`✅ Successfully scheduled ${((_response$scheduled_p = response.scheduled_posts) === null || _response$scheduled_p === void 0 ? void 0 : _response$scheduled_p.length) || 0} posts`);\n        setComposerRows(prev => prev.map(row => readyRows.some(r => r.id === row.id) ? {\n          ...row,\n          status: 'scheduled'\n        } : row));\n        setScheduleProgress(100);\n        setScheduledGridRows(response.scheduled_posts || []);\n        // Redirect to InstagramPage with scheduled posts for grid display\n        navigate('/instagram', {\n          state: {\n            scheduledGridRows: response.scheduled_posts || []\n          }\n        });\n      } else if (response && Array.isArray(response.results)) {\n        // Handle legacy or alternate backend response\n        const successCount = response.results.filter(r => r.success).length;\n        const failedCount = response.results.filter(r => !r.success).length;\n        let errorMsg = `Scheduled ${successCount} posts successfully.`;\n        if (failedCount > 0) {\n          errorMsg += `\\n${failedCount} posts failed. Check console for details.`;\n          response.results.forEach((result, idx) => {\n            if (!result.success) {\n              errorMsg += `\\nPost #${idx + 1}: ${result.error || result.message || 'Unknown error'}`;\n            }\n          });\n        }\n        alert(errorMsg);\n\n        // Add success notification for Instagram bulk scheduling\n        if (successCount > 0) {\n          const selectedTemplate = promptTemplates.find(t => t.prompt === strategyData.promptTemplate);\n          const strategyName = selectedTemplate ? selectedTemplate.name : 'Bulk Schedule';\n          addNotification({\n            type: 'success',\n            platform: 'instagram',\n            strategyName: strategyName,\n            message: `Successfully scheduled ${successCount} Instagram posts! You'll receive alerts 10 minutes before each post goes live.`\n          });\n        }\n        setComposerRows(prev => prev.map(row => {\n          const result = response.results.find(r => r.caption === row.caption && r.scheduled_date === row.scheduledDate);\n          if (result) {\n            return {\n              ...row,\n              status: result.success ? 'scheduled' : 'failed',\n              error: result.success ? null : result.error || 'Unknown error'\n            };\n          }\n          return row;\n        }));\n        setScheduleProgress(100);\n        setScheduledGridRows(response.results.filter(r => r.success));\n        navigate('/instagram', {\n          state: {\n            scheduledGridRows: response.results.filter(r => r.success)\n          }\n        });\n      } else {\n        let errorMsg = 'Error scheduling Instagram posts.';\n        if (response && response.failed_posts && response.failed_posts.length > 0) {\n          errorMsg += '\\nFailed posts:';\n          response.failed_posts.forEach(fp => {\n            errorMsg += `\\nPost #${fp.index + 1}: ${fp.error}`;\n          });\n        } else if (response && response.message) {\n          errorMsg += `\\n${response.message}`;\n        } else if (response && response.errorData) {\n          errorMsg += `\\nAPI Error: ${JSON.stringify(response.errorData)}`;\n        }\n        alert(errorMsg);\n        console.error('Bulk scheduling error:', response);\n      }\n    } catch (error) {\n      let errorMsg = 'Error scheduling Instagram posts. Please try again.';\n      // Check if any of the readyRows are reels\n      const hasReel = composerRows.filter(row => selectedRows.includes(row.id)).some(row => (row.postType || '').toLowerCase() === 'reel');\n      if (error && error.error === 'timeout') {\n        if (hasReel) {\n          errorMsg = 'Your reel is being processed and will be scheduled soon. Please check back in a few minutes.';\n        } else {\n          errorMsg = 'Request timed out. Video processing may take longer. Please try again or check your video file size.';\n        }\n      } else if (error && error.errorData) {\n        errorMsg += `\\nAPI Error: ${JSON.stringify(error.errorData)}`;\n      } else if (error && error.message) {\n        errorMsg += `\\n${error.message}`;\n      }\n      alert(errorMsg);\n      console.error('Bulk scheduling exception:', error);\n    } finally {\n      setIsScheduling(false);\n      setScheduleProgress(0);\n    }\n  };\n\n  // Calendar day click logic\n  const handleCalendarDateSelect = date => {\n    setStrategyData(prev => ({\n      ...prev,\n      startDate: date.toISOString().split('T')[0]\n    }));\n  };\n\n  // UI helpers\n  const getStatusIcon = status => {\n    switch (status) {\n      case 'published':\n        return '✓';\n      case 'failed':\n        return '✗';\n      case 'scheduled':\n        return '⏰';\n      case 'ready':\n        return '🟢';\n      default:\n        return '📝';\n    }\n  };\n  const getStatusClass = status => {\n    switch (status) {\n      case 'published':\n        return 'ig-status-published';\n      case 'failed':\n        return 'ig-status-failed';\n      case 'scheduled':\n        return 'ig-status-scheduled';\n      case 'ready':\n        return 'ig-status-ready';\n      default:\n        return 'ig-status-draft';\n    }\n  };\n\n  // Calendar helpers\n  const generateCalendarDays = (year, month) => {\n    const daysInMonth = new Date(year, month + 1, 0).getDate();\n    const firstDayOfMonth = new Date(year, month, 1).getDay();\n    const days = [];\n    for (let i = 0; i < firstDayOfMonth; i++) days.push({\n      day: null,\n      date: null\n    });\n    for (let i = 1; i <= daysInMonth; i++) {\n      const date = new Date(year, month, i);\n      days.push({\n        day: i,\n        date\n      });\n    }\n    return days;\n  };\n  const getPostsForDate = date => {\n    // Format date as YYYY-MM-DD using local date parts\n    const yyyy = date.getFullYear();\n    const mm = String(date.getMonth() + 1).padStart(2, '0');\n    const dd = String(date.getDate()).padStart(2, '0');\n    const dateString = `${yyyy}-${mm}-${dd}`;\n    return composerRows.filter(row => row.scheduledDate === dateString);\n  };\n  const handleRemoveCarouselImages = rowId => {\n    setComposerRows(prev => prev.map(r => r.id === rowId ? {\n      ...r,\n      carouselImages: [],\n      status: 'draft' // Always reset to draft when removing images\n    } : r));\n    console.log(`🗑️ Removed carousel images for row ${rowId}`);\n  };\n\n  // --- RENDER ---\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ig-bulk-composer\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ig-bulk-composer-header\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Instagram Bulk Composer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1172,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1171,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ig-bulk-composer-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ig-strategy-step\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Step 1: Strategy & Schedule\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1178,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ig-strategy-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ig-form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Post Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1183,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ig-post-type-toggle\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: postType === 'photo' ? 'active' : '',\n                onClick: () => handlePostTypeChange('photo'),\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  width: \"16\",\n                  height: \"16\",\n                  viewBox: \"0 0 24 24\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  strokeWidth: \"2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n                    x: \"3\",\n                    y: \"3\",\n                    width: \"18\",\n                    height: \"18\",\n                    rx: \"2\",\n                    ry: \"2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1190,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                    cx: \"8.5\",\n                    cy: \"8.5\",\n                    r: \"1.5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1191,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n                    points: \"21,15 16,10 5,21\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1192,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1189,\n                  columnNumber: 19\n                }, this), \"Photo\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1185,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: postType === 'carousel' ? 'active' : '',\n                onClick: () => handlePostTypeChange('carousel'),\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  width: \"16\",\n                  height: \"16\",\n                  viewBox: \"0 0 24 24\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  strokeWidth: \"2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n                    x: \"2\",\n                    y: \"3\",\n                    width: \"20\",\n                    height: \"14\",\n                    rx: \"2\",\n                    ry: \"2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1201,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                    x1: \"8\",\n                    y1: \"21\",\n                    x2: \"16\",\n                    y2: \"21\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1202,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                    x1: \"12\",\n                    y1: \"17\",\n                    x2: \"12\",\n                    y2: \"21\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1203,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1200,\n                  columnNumber: 19\n                }, this), \"Carousel\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1196,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: postType === 'reel' ? 'active' : '',\n                onClick: () => handlePostTypeChange('reel'),\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  width: \"16\",\n                  height: \"16\",\n                  viewBox: \"0 0 24 24\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  strokeWidth: \"2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"polygon\", {\n                    points: \"23 7 16 12 23 17 23 7\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1212,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n                    x: \"1\",\n                    y: \"5\",\n                    width: \"15\",\n                    height: \"14\",\n                    rx: \"2\",\n                    ry: \"2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1213,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1211,\n                  columnNumber: 19\n                }, this), \"Reel\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1207,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1184,\n              columnNumber: 15\n            }, this), postType === 'carousel' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ig-form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: [\"Number of Images: \", carouselImageCount]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1222,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"range\",\n                min: \"2\",\n                max: \"7\",\n                value: carouselImageCount,\n                onChange: e => handleCarouselImageCountChange(parseInt(e.target.value)),\n                className: \"ig-slider\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1223,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ig-slider-labels\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1232,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1233,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1234,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1235,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1236,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1237,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1231,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1221,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1182,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ig-form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Strategy Template\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1246,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: strategyData.promptTemplate,\n              onChange: e => handleStrategyChange('promptTemplate', e.target.value),\n              className: \"ig-form-select\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select a template...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1252,\n                columnNumber: 17\n              }, this), promptTemplates.map(template => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: template.prompt,\n                children: template.name\n              }, template.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1254,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1247,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1245,\n            columnNumber: 13\n          }, this), strategyData.promptTemplate === 'custom' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ig-form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Brand Information\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1262,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ig-form-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ig-form-group\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: strategyData.brandName,\n                  onChange: e => handleStrategyChange('brandName', e.target.value),\n                  placeholder: \"Brand Name\",\n                  className: \"ig-form-input\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1265,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1264,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ig-form-group\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: strategyData.hookIdea,\n                  onChange: e => handleStrategyChange('hookIdea', e.target.value),\n                  placeholder: \"Hook Idea (e.g., Tired of the shore?)\",\n                  className: \"ig-form-input\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1274,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1273,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1263,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ig-form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Features (one per line)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1285,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: strategyData.features,\n                onChange: e => handleStrategyChange('features', e.target.value),\n                placeholder: \"\\u2705 Feature 1\\\\n\\u2705 Feature 2\\\\n\\u2705 Feature 3\",\n                className: \"ig-form-input\",\n                rows: \"3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1286,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1284,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ig-form-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ig-form-group\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: strategyData.location,\n                  onChange: e => handleStrategyChange('location', e.target.value),\n                  placeholder: \"Location\",\n                  className: \"ig-form-input\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1297,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1296,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ig-form-group\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: strategyData.phone,\n                  onChange: e => handleStrategyChange('phone', e.target.value),\n                  placeholder: \"Phone Number\",\n                  className: \"ig-form-input\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1306,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1305,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1295,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ig-form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: strategyData.website,\n                onChange: e => handleStrategyChange('website', e.target.value),\n                placeholder: \"Website URL\",\n                className: \"ig-form-input\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1317,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1316,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ig-form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: strategyData.callToAction,\n                onChange: e => handleStrategyChange('callToAction', e.target.value),\n                placeholder: \"Call to Action (e.g., Book your appointment today!)\",\n                className: \"ig-form-input\",\n                rows: \"2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1327,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1326,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"ig-form-help\",\n              children: \"This information will be used to generate captions that follow your brand's style and approach.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1336,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1261,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ig-form-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ig-form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Start Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1343,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: strategyData.startDate,\n                onChange: e => handleStrategyChange('startDate', e.target.value),\n                className: \"ig-form-input\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1344,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1342,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ig-form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"End Date (Optional)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1352,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '0.5rem'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"date\",\n                  value: strategyData.endDate,\n                  onChange: e => handleStrategyChange('endDate', e.target.value),\n                  className: \"ig-form-input\",\n                  min: strategyData.startDate,\n                  disabled: !strategyData.startDate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1354,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => handleStrategyChange('endDate', ''),\n                  className: \"ig-btn ig-btn-secondary ig-btn-small\",\n                  disabled: !strategyData.endDate,\n                  title: \"Clear end date (single day schedule)\",\n                  children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                    width: \"12\",\n                    height: \"12\",\n                    viewBox: \"0 0 24 24\",\n                    fill: \"none\",\n                    stroke: \"currentColor\",\n                    strokeWidth: \"2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"line\", {\n                      x1: \"18\",\n                      y1: \"6\",\n                      x2: \"6\",\n                      y2: \"18\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1370,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                      x1: \"6\",\n                      y1: \"6\",\n                      x2: \"18\",\n                      y2: \"18\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1371,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1369,\n                    columnNumber: 21\n                  }, this), \"Clear\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1362,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1353,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                className: \"ig-form-help\",\n                children: \"Leave empty for single day schedule\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1376,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1351,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ig-form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Frequency\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1381,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: strategyData.frequency,\n                onChange: e => handleStrategyChange('frequency', e.target.value),\n                className: \"ig-form-select\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"daily\",\n                  children: \"Daily\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1387,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"weekly\",\n                  children: \"Weekly\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1388,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"monthly\",\n                  children: \"Monthly\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1389,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"custom\",\n                  children: \"Custom Cron\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1390,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1382,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1380,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ig-form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Time Slot\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1394,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"time\",\n                value: strategyData.timeSlot,\n                onChange: e => handleStrategyChange('timeSlot', e.target.value),\n                className: \"ig-form-input\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1395,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1393,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1341,\n            columnNumber: 13\n          }, this), strategyData.frequency === 'custom' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ig-form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Custom Cron Expression\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1405,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: strategyData.customCron,\n              onChange: e => handleStrategyChange('customCron', e.target.value),\n              placeholder: \"0 9 * * * (daily at 9 AM)\",\n              className: \"ig-form-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1406,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1404,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1179,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1177,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ig-calendar-preview-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Calendar Preview\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1420,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ig-calendar-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ig-calendar-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setCurrentMonth(prev => new Date(prev.getFullYear(), prev.getMonth() - 1)),\n              className: \"ig-btn ig-btn-secondary ig-btn-small\",\n              children: \"\\u2190\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1423,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: currentMonth.toLocaleDateString('en-US', {\n                month: 'long',\n                year: 'numeric'\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1429,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setCurrentMonth(prev => new Date(prev.getFullYear(), prev.getMonth() + 1)),\n              className: \"ig-btn ig-btn-secondary ig-btn-small\",\n              children: \"\\u2192\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1430,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1422,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ig-calendar-grid\",\n            children: [['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'].map(day => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ig-calendar-day-header\",\n              children: day\n            }, day, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1439,\n              columnNumber: 17\n            }, this)), generateCalendarDays(currentMonth.getFullYear(), currentMonth.getMonth()).map((day, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `ig-calendar-day ${day.date ? 'clickable' : ''} ${day.date && getPostsForDate(day.date).length > 0 ? 'has-posts' : ''}`,\n              onClick: () => day.date && handleCalendarDateSelect(day.date),\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ig-day-number\",\n                children: day.day\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1447,\n                columnNumber: 19\n              }, this), day.date && getPostsForDate(day.date).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ig-post-indicators\",\n                children: getPostsForDate(day.date).map((post, postIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"ig-post-dot\",\n                  title: `${post.scheduledTime} - ${(post.caption || '').substring(0, 30)}...`\n                }, postIndex, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1451,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1449,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1442,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1437,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1421,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1419,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ig-composer-grid-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ig-composer-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Step 2: Content Grid\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1468,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ig-composer-controls\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                const newRow = {\n                  id: `row-${Date.now()}-${Math.random()}`,\n                  caption: '',\n                  postType: postType.toLowerCase(),\n                  mediaFile: null,\n                  mediaPreview: null,\n                  carouselImages: postType === 'carousel' ? [] : null,\n                  carouselImageCount: postType === 'carousel' ? carouselImageCount : null,\n                  scheduledDate: new Date().toISOString().split('T')[0],\n                  scheduledTime: strategyData.timeSlot,\n                  status: 'draft',\n                  isSelected: false\n                };\n                setComposerRows(prev => [...prev, newRow]);\n              },\n              className: \"ig-control-btn ig-control-btn-primary\",\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"16\",\n                height: \"16\",\n                viewBox: \"0 0 24 24\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                strokeWidth: \"2\",\n                children: [/*#__PURE__*/_jsxDEV(\"line\", {\n                  x1: \"12\",\n                  y1: \"5\",\n                  x2: \"12\",\n                  y2: \"19\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1490,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                  x1: \"5\",\n                  y1: \"12\",\n                  x2: \"19\",\n                  y2: \"12\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1491,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1489,\n                columnNumber: 17\n              }, this), \"Add Row\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1470,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSelectAll,\n              className: \"ig-control-btn ig-control-btn-secondary\",\n              children: selectedRows.length === composerRows.length ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: \"Deselect All\"\n              }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: \"Select All\"\n              }, void 0, false)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1495,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleBulkDelete,\n              disabled: selectedRows.length === 0,\n              className: \"ig-control-btn ig-control-btn-danger\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"14\",\n                height: \"14\",\n                viewBox: \"0 0 24 24\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                strokeWidth: \"2\",\n                children: [/*#__PURE__*/_jsxDEV(\"polyline\", {\n                  points: \"3,6 5,6 21,6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1515,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M19,6v14a2,2 0 0,1-2,2H7a2,2 0 0,1-2-2V6m3,0V4a2,2 0 0,1,2-2h4a2,2 0 0,1,2,2v2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1516,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1514,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1509,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"ig-control-btn ig-control-btn-primary ig-control-btn-featured\",\n              onClick: handleGenerateAllCaptions,\n              disabled: composerRows.length === 0 || selectedRows.length === 0,\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"14\",\n                height: \"14\",\n                viewBox: \"0 0 24 24\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                strokeWidth: \"2\",\n                children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1525,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n                  points: \"14,2 14,8 20,8\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1526,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                  x1: \"14\",\n                  y1: \"13\",\n                  x2: \"8\",\n                  y2: \"13\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1527,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                  x1: \"14\",\n                  y1: \"17\",\n                  x2: \"8\",\n                  y2: \"17\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1528,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1524,\n                columnNumber: 17\n              }, this), \"Generate Captions\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1519,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"ig-control-btn ig-control-btn-secondary ig-control-btn-featured\",\n              onClick: handleGenerateAllImages,\n              disabled: composerRows.length === 0 || selectedRows.length === 0,\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"14\",\n                height: \"14\",\n                viewBox: \"0 0 24 24\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                strokeWidth: \"2\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1538,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1537,\n                columnNumber: 17\n              }, this), \"Generate Images\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1532,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1469,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1467,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ig-composer-grid-container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ig-composer-grid\",\n            ref: gridRef,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ig-grid-header ig-grid-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ig-grid-cell ig-header-cell\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1548,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ig-grid-cell ig-header-cell\",\n                children: \"Caption\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1549,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ig-grid-cell ig-header-cell\",\n                children: \"Media\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1550,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ig-grid-cell ig-header-cell\",\n                children: \"Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1551,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ig-grid-cell ig-header-cell\",\n                children: \"Time\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1552,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ig-grid-cell ig-header-cell\",\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1553,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1547,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ig-grid-body\",\n              children: composerRows.map((row, index) => {\n                var _row$mediaFile, _row$mediaFile$type;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `ig-grid-row ${row.isSelected ? 'selected' : ''}`,\n                  draggable: true,\n                  onDragStart: () => handleDragStart(row.id),\n                  onDragOver: handleDragOver,\n                  onDrop: () => handleDrop(row.id),\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ig-grid-cell\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"checkbox\",\n                      checked: selectedRows.includes(row.id),\n                      onChange: () => handleRowSelect(row.id)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1566,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1565,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ig-grid-cell ig-caption-cell\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"caption-container\",\n                      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                        value: row.caption,\n                        onChange: e => handleCellEdit(row.id, 'caption', e.target.value),\n                        placeholder: \"Enter your Instagram post caption...\",\n                        className: \"ig-caption-input\",\n                        rows: \"3\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1574,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => handleExpandCaption(row.id),\n                        className: \"expand-btn\",\n                        title: \"Expand caption\",\n                        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                          width: \"14\",\n                          height: \"14\",\n                          viewBox: \"0 0 24 24\",\n                          fill: \"none\",\n                          stroke: \"currentColor\",\n                          strokeWidth: \"2\",\n                          children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                            d: \"M15 3h6v6\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1587,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                            d: \"M9 21H3v-6\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1588,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                            d: \"M21 3l-7 7\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1589,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                            d: \"M3 21l7-7\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1590,\n                            columnNumber: 29\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1586,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1581,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1573,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1572,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ig-grid-cell ig-media-cell\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"ig-media-options\",\n                      children: !row.mediaPreview && !row.mediaFile && (!row.carouselImages || row.carouselImages.length === 0) ? /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"ig-media-option-group\",\n                        children: [(row.postType === 'photo' || row.postType === 'reel') && /*#__PURE__*/_jsxDEV(_Fragment, {\n                          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"file\",\n                            accept: row.postType === 'photo' ? \"image/*\" : \"video/*\",\n                            onChange: e => handleMediaUpload(row.id, e),\n                            className: \"ig-media-input\",\n                            id: `ig-media-upload-${row.id}`\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1603,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                            htmlFor: `ig-media-upload-${row.id}`,\n                            className: \"ig-media-option-btn upload-btn\",\n                            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                              width: \"16\",\n                              height: \"16\",\n                              viewBox: \"0 0 24 24\",\n                              fill: \"none\",\n                              stroke: \"currentColor\",\n                              strokeWidth: \"2\",\n                              children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                                d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1612,\n                                columnNumber: 37\n                              }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n                                points: \"7,10 12,15 17,10\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1613,\n                                columnNumber: 37\n                              }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                                x1: \"12\",\n                                y1: \"15\",\n                                x2: \"12\",\n                                y2: \"3\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1614,\n                                columnNumber: 37\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1611,\n                              columnNumber: 35\n                            }, this), \"Upload \", row.postType === 'photo' ? 'Image' : 'Video']\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1610,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true), row.postType === 'reel' && /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"ig-media-option-btn upload-btn thumbnail-btn disabled\",\n                          title: \"Please upload a video first\",\n                          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                            width: \"16\",\n                            height: \"16\",\n                            viewBox: \"0 0 24 24\",\n                            fill: \"none\",\n                            stroke: \"currentColor\",\n                            strokeWidth: \"2\",\n                            children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n                              x: \"3\",\n                              y: \"3\",\n                              width: \"18\",\n                              height: \"18\",\n                              rx: \"2\",\n                              ry: \"2\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1625,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                              cx: \"8.5\",\n                              cy: \"8.5\",\n                              r: \"1.5\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1626,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n                              points: \"21,15 16,10 5,21\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1627,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1624,\n                            columnNumber: 33\n                          }, this), \"Upload Thumbnail (Video Required First)\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1623,\n                          columnNumber: 31\n                        }, this), row.postType === 'photo' && /*#__PURE__*/_jsxDEV(\"button\", {\n                          onClick: () => handleGenerateMedia(row.id),\n                          className: \"ig-media-option-btn generate-btn\",\n                          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                            width: \"16\",\n                            height: \"16\",\n                            viewBox: \"0 0 24 24\",\n                            fill: \"none\",\n                            stroke: \"currentColor\",\n                            strokeWidth: \"2\",\n                            children: /*#__PURE__*/_jsxDEV(\"path\", {\n                              d: \"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1640,\n                              columnNumber: 35\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1639,\n                            columnNumber: 33\n                          }, this), \"Generate\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1635,\n                          columnNumber: 31\n                        }, this), row.postType === 'reel' && /*#__PURE__*/_jsxDEV(\"button\", {\n                          onClick: () => handleGenerateMedia(row.id),\n                          className: \"ig-media-option-btn generate-btn\",\n                          disabled: true,\n                          title: \"AI video generation not yet available\",\n                          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                            width: \"16\",\n                            height: \"16\",\n                            viewBox: \"0 0 24 24\",\n                            fill: \"none\",\n                            stroke: \"currentColor\",\n                            strokeWidth: \"2\",\n                            children: /*#__PURE__*/_jsxDEV(\"path\", {\n                              d: \"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1655,\n                              columnNumber: 35\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1654,\n                            columnNumber: 33\n                          }, this), \"Generate (Coming Soon)\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1648,\n                          columnNumber: 31\n                        }, this), row.postType === 'carousel' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                            onClick: () => handleGenerateCarousel(row.id),\n                            className: \"ig-media-option-btn generate-btn\",\n                            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                              width: \"16\",\n                              height: \"16\",\n                              viewBox: \"0 0 24 24\",\n                              fill: \"none\",\n                              stroke: \"currentColor\",\n                              strokeWidth: \"2\",\n                              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                                d: \"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1669,\n                                columnNumber: 37\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1668,\n                              columnNumber: 35\n                            }, this), \"Generate \", row.carouselImageCount || 3, \" Images\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1664,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"file\",\n                            accept: \"image/*\",\n                            multiple: true,\n                            ref: el => carouselInputRefs.current[row.id] = el,\n                            onChange: e => handleCarouselUpload(row.id, e),\n                            className: \"ig-media-input\",\n                            id: `ig-carousel-upload-${row.id}`\n                          }, `ig-carousel-upload-${row.id}`, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1673,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                            htmlFor: `ig-carousel-upload-${row.id}`,\n                            className: \"ig-media-option-btn upload-btn\",\n                            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                              width: \"16\",\n                              height: \"16\",\n                              viewBox: \"0 0 24 24\",\n                              fill: \"none\",\n                              stroke: \"currentColor\",\n                              strokeWidth: \"2\",\n                              children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                                d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1685,\n                                columnNumber: 37\n                              }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n                                points: \"7,10 12,15 17,10\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1686,\n                                columnNumber: 37\n                              }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                                x1: \"12\",\n                                y1: \"15\",\n                                x2: \"12\",\n                                y2: \"3\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1687,\n                                columnNumber: 37\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1684,\n                              columnNumber: 35\n                            }, this), \"Upload \", row.carouselImageCount || 3, \" Images\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1683,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1599,\n                        columnNumber: 27\n                      }, this) :\n                      /*#__PURE__*/\n                      /* Show media preview and additional options after upload */\n                      _jsxDEV(\"div\", {\n                        className: \"ig-media-preview-container\",\n                        children: [row.postType === 'reel' && (row.mediaPreview || row.mediaFile) && /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"ig-reel-thumbnail-upload-section\",\n                          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"file\",\n                            accept: \"image/*\",\n                            onChange: e => handleThumbnailUpload(row.id, e),\n                            className: \"ig-media-input\",\n                            id: `ig-thumbnail-upload-${row.id}`,\n                            disabled: row.thumbnailUploading\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1700,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                            htmlFor: `ig-thumbnail-upload-${row.id}`,\n                            className: `ig-media-option-btn upload-btn thumbnail-btn ${row.thumbnailUploading ? 'uploading' : ''}`,\n                            children: row.thumbnailUploading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                                width: \"16\",\n                                height: \"16\",\n                                viewBox: \"0 0 24 24\",\n                                fill: \"none\",\n                                stroke: \"currentColor\",\n                                strokeWidth: \"2\",\n                                className: \"spinning\",\n                                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                                  d: \"M21 12a9 9 0 11-6.219-8.56\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1715,\n                                  columnNumber: 41\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1714,\n                                columnNumber: 39\n                              }, this), \"Uploading...\"]\n                            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                                width: \"16\",\n                                height: \"16\",\n                                viewBox: \"0 0 24 24\",\n                                fill: \"none\",\n                                stroke: \"currentColor\",\n                                strokeWidth: \"2\",\n                                children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n                                  x: \"3\",\n                                  y: \"3\",\n                                  width: \"18\",\n                                  height: \"18\",\n                                  rx: \"2\",\n                                  ry: \"2\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1722,\n                                  columnNumber: 41\n                                }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                                  cx: \"8.5\",\n                                  cy: \"8.5\",\n                                  r: \"1.5\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1723,\n                                  columnNumber: 41\n                                }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n                                  points: \"21,15 16,10 5,21\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1724,\n                                  columnNumber: 41\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1721,\n                                columnNumber: 39\n                              }, this), row.thumbnailPreview ? 'Change Thumbnail' : 'Upload Thumbnail (Optional)']\n                            }, void 0, true)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1708,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1699,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"ig-media-preview\",\n                          children: row.postType === 'carousel' && row.carouselImages && row.carouselImages.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"ig-carousel-preview\",\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"ig-carousel-grid\",\n                              children: row.carouselImages.slice(0, row.carouselImageCount || 3).map((url, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"ig-carousel-item\",\n                                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                                  src: url,\n                                  alt: `Carousel ${index + 1}`\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1741,\n                                  columnNumber: 41\n                                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                  className: \"ig-carousel-number\",\n                                  children: index + 1\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1742,\n                                  columnNumber: 41\n                                }, this)]\n                              }, index, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1740,\n                                columnNumber: 39\n                              }, this))\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1738,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"ig-carousel-info\",\n                              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"ig-carousel-status\",\n                                children: [row.carouselImages.length, \" / \", row.carouselImageCount || 3, \" images\", row.carouselImages.length < 3 && /*#__PURE__*/_jsxDEV(\"span\", {\n                                  className: \"ig-carousel-warning\",\n                                  children: \"\\u26A0\\uFE0F Need at least 3 images\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1750,\n                                  columnNumber: 41\n                                }, this), row.carouselImages.length >= 3 && /*#__PURE__*/_jsxDEV(\"span\", {\n                                  className: \"ig-carousel-success\",\n                                  children: \"\\u2705 Ready\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1753,\n                                  columnNumber: 41\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1747,\n                                columnNumber: 37\n                              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                                onClick: () => handleRemoveCarouselImages(row.id),\n                                className: \"ig-btn ig-btn-danger ig-btn-small\",\n                                disabled: row.carouselImages.length === 0,\n                                title: \"Remove all carousel images\",\n                                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                                  width: \"12\",\n                                  height: \"12\",\n                                  viewBox: \"0 0 24 24\",\n                                  fill: \"none\",\n                                  stroke: \"currentColor\",\n                                  strokeWidth: \"2\",\n                                  children: [/*#__PURE__*/_jsxDEV(\"line\", {\n                                    x1: \"18\",\n                                    y1: \"6\",\n                                    x2: \"6\",\n                                    y2: \"18\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 1763,\n                                    columnNumber: 41\n                                  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                                    x1: \"6\",\n                                    y1: \"6\",\n                                    x2: \"18\",\n                                    y2: \"18\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 1764,\n                                    columnNumber: 41\n                                  }, this)]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1762,\n                                  columnNumber: 39\n                                }, this), \"Remove All\"]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1756,\n                                columnNumber: 37\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1746,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1737,\n                            columnNumber: 33\n                          }, this) :\n                          /*#__PURE__*/\n                          /* Single Media Preview */\n                          _jsxDEV(_Fragment, {\n                            children: row.postType === 'reel' ? /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"ig-reel-preview\",\n                              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"ig-reel-video\",\n                                children: [/*#__PURE__*/_jsxDEV(\"video\", {\n                                  src: row.mediaPreview,\n                                  controls: true\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1776,\n                                  columnNumber: 41\n                                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                  className: \"ig-reel-label\",\n                                  children: \"Reel Video\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1777,\n                                  columnNumber: 41\n                                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                  className: \"ig-reel-video-actions\",\n                                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                                    onClick: () => handleViewMedia(row.id),\n                                    className: \"ig-reel-video-view\",\n                                    title: \"View video\",\n                                    children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                                      width: \"14\",\n                                      height: \"14\",\n                                      viewBox: \"0 0 24 24\",\n                                      fill: \"none\",\n                                      stroke: \"currentColor\",\n                                      strokeWidth: \"2\",\n                                      children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                                        d: \"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"\n                                      }, void 0, false, {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 1785,\n                                        columnNumber: 47\n                                      }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                                        cx: \"12\",\n                                        cy: \"12\",\n                                        r: \"3\"\n                                      }, void 0, false, {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 1786,\n                                        columnNumber: 47\n                                      }, this)]\n                                    }, void 0, true, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 1784,\n                                      columnNumber: 45\n                                    }, this)\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 1779,\n                                    columnNumber: 43\n                                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                                    onClick: () => handleRemoveMedia(row.id),\n                                    className: \"ig-reel-video-close\",\n                                    title: \"Remove video\",\n                                    children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                                      width: \"14\",\n                                      height: \"14\",\n                                      viewBox: \"0 0 24 24\",\n                                      fill: \"none\",\n                                      stroke: \"currentColor\",\n                                      strokeWidth: \"2\",\n                                      children: [/*#__PURE__*/_jsxDEV(\"line\", {\n                                        x1: \"18\",\n                                        y1: \"6\",\n                                        x2: \"6\",\n                                        y2: \"18\"\n                                      }, void 0, false, {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 1795,\n                                        columnNumber: 47\n                                      }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                                        x1: \"6\",\n                                        y1: \"6\",\n                                        x2: \"18\",\n                                        y2: \"18\"\n                                      }, void 0, false, {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 1796,\n                                        columnNumber: 47\n                                      }, this)]\n                                    }, void 0, true, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 1794,\n                                      columnNumber: 45\n                                    }, this)\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 1789,\n                                    columnNumber: 43\n                                  }, this)]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1778,\n                                  columnNumber: 41\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1775,\n                                columnNumber: 39\n                              }, this), row.thumbnailPreview && /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: `ig-reel-thumbnail ${row.thumbnailUrl ? 'uploaded' : ''}`,\n                                style: {\n                                  display: 'flex',\n                                  alignItems: 'center',\n                                  gap: '0.5rem'\n                                },\n                                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                                  src: row.thumbnailPreview,\n                                  alt: \"Thumbnail\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1803,\n                                  columnNumber: 43\n                                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                                  htmlFor: `ig-thumbnail-upload-${row.id}`,\n                                  style: {\n                                    cursor: 'pointer',\n                                    marginLeft: '0.5rem',\n                                    display: 'flex',\n                                    alignItems: 'center'\n                                  },\n                                  title: \"Change Thumbnail\",\n                                  children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                                    width: \"20\",\n                                    height: \"20\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"none\",\n                                    stroke: \"currentColor\",\n                                    strokeWidth: \"2\",\n                                    children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                                      d: \"M12 20h9\"\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 1806,\n                                      columnNumber: 47\n                                    }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                                      d: \"M16.5 3.5a2.121 2.121 0 1 1 3 3L7 19l-4 1 1-4 12.5-12.5z\"\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 1807,\n                                      columnNumber: 47\n                                    }, this)]\n                                  }, void 0, true, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 1805,\n                                    columnNumber: 45\n                                  }, this)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1804,\n                                  columnNumber: 43\n                                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                                  type: \"file\",\n                                  accept: \"image/*\",\n                                  onChange: e => handleThumbnailUpload(row.id, e),\n                                  className: \"ig-media-input\",\n                                  id: `ig-thumbnail-upload-${row.id}`,\n                                  disabled: row.thumbnailUploading,\n                                  style: {\n                                    display: 'none'\n                                  }\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1810,\n                                  columnNumber: 43\n                                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                                  onClick: () => handleRemoveThumbnail(row.id),\n                                  className: \"ig-reel-thumbnail-close\",\n                                  title: \"Remove thumbnail\",\n                                  children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                                    width: \"14\",\n                                    height: \"14\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"none\",\n                                    stroke: \"currentColor\",\n                                    strokeWidth: \"2\",\n                                    children: [/*#__PURE__*/_jsxDEV(\"line\", {\n                                      x1: \"18\",\n                                      y1: \"6\",\n                                      x2: \"6\",\n                                      y2: \"18\"\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 1825,\n                                      columnNumber: 47\n                                    }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                                      x1: \"6\",\n                                      y1: \"6\",\n                                      x2: \"18\",\n                                      y2: \"18\"\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 1826,\n                                      columnNumber: 47\n                                    }, this)]\n                                  }, void 0, true, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 1824,\n                                    columnNumber: 45\n                                  }, this)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1819,\n                                  columnNumber: 43\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1802,\n                                columnNumber: 41\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1774,\n                              columnNumber: 37\n                            }, this) : (_row$mediaFile = row.mediaFile) !== null && _row$mediaFile !== void 0 && (_row$mediaFile$type = _row$mediaFile.type) !== null && _row$mediaFile$type !== void 0 && _row$mediaFile$type.startsWith('image/') ? /*#__PURE__*/_jsxDEV(\"img\", {\n                              src: row.mediaPreview,\n                              alt: \"Preview\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1833,\n                              columnNumber: 37\n                            }, this) : /*#__PURE__*/_jsxDEV(\"video\", {\n                              src: row.mediaPreview,\n                              controls: true\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1835,\n                              columnNumber: 37\n                            }, this)\n                          }, void 0, false)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1734,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1696,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1596,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1595,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ig-grid-cell ig-date-cell\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"date\",\n                      value: row.scheduledDate,\n                      onChange: e => handleCellEdit(row.id, 'scheduledDate', e.target.value),\n                      className: \"ig-date-input\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1847,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1846,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ig-grid-cell ig-time-cell\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"time\",\n                      value: row.scheduledTime,\n                      onChange: e => handleCellEdit(row.id, 'scheduledTime', e.target.value),\n                      className: \"ig-time-input\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1855,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1854,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ig-grid-cell ig-status-cell\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `ig-status-badge ${getStatusClass(row.status)}`,\n                      children: [getStatusIcon(row.status), \" \", row.status]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1863,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1862,\n                    columnNumber: 21\n                  }, this)]\n                }, row.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1557,\n                  columnNumber: 19\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1555,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1546,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1545,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1466,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ig-queue-confirmation\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Step 3: Schedule & Publish\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1876,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ig-confirmation-stats\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ig-stat-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ig-stat-label\",\n              children: \"Total Posts:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1879,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ig-stat-value\",\n              children: composerRows.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1880,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1878,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ig-stat-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ig-stat-label\",\n              children: \"With Captions:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1883,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ig-stat-value\",\n              children: composerRows.filter(row => (row.caption || '').trim()).length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1884,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1882,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ig-stat-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ig-stat-label\",\n              children: \"Ready to Schedule:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1887,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ig-stat-value\",\n              children: composerRows.filter(row => row.status === 'ready').length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1888,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1886,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ig-stat-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ig-stat-label\",\n              children: \"With Media:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1891,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ig-stat-value\",\n              children: composerRows.filter(row => row.mediaFile || row.mediaPreview).length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1892,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1890,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1877,\n          columnNumber: 11\n        }, this), isScheduling && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ig-schedule-progress\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ig-progress-bar\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ig-progress-fill\",\n              style: {\n                width: `${scheduleProgress}%`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1898,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1897,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ig-progress-text\",\n            children: [\"Scheduling Instagram posts... \", Math.round(scheduleProgress), \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1903,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1896,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ig-confirmation-actions\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleScheduleAll,\n            disabled: isScheduling || composerRows.filter(row => row.status === 'ready').length === 0,\n            className: \"ig-btn ig-btn-primary ig-btn-large\",\n            children: isScheduling ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"16\",\n                height: \"16\",\n                viewBox: \"0 0 24 24\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                strokeWidth: \"2\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M21 12a9 9 0 11-6.219-8.56\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1915,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1914,\n                columnNumber: 19\n              }, this), \"Scheduling...\"]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"16\",\n                height: \"16\",\n                viewBox: \"0 0 24 24\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                strokeWidth: \"2\",\n                children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                  cx: \"12\",\n                  cy: \"12\",\n                  r: \"10\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1922,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n                  points: \"12,6 12,12 16,14\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1923,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1921,\n                columnNumber: 19\n              }, this), \"Schedule Ready Posts (\", composerRows.filter(row => row.status === 'ready').length, \")\"]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1907,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1906,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1875,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1175,\n      columnNumber: 7\n    }, this), expandedCaption && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Edit Caption\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1938,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setExpandedCaption(null),\n            className: \"modal-close\",\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1939,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1937,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"caption-info\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Scheduled:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1948,\n                columnNumber: 20\n              }, this), \" \", expandedCaption.scheduledDate, \" at \", expandedCaption.scheduledTime]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1948,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1947,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: expandedCaption.caption,\n            onChange: e => setExpandedCaption(prev => ({\n              ...prev,\n              caption: e.target.value\n            })),\n            className: \"expanded-caption-textarea\",\n            rows: \"10\",\n            placeholder: \"Enter your caption...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1950,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1946,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-footer\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setExpandedCaption(null),\n            className: \"ig-btn ig-btn-secondary\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1959,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleSaveExpandedCaption(expandedCaption.id, expandedCaption.caption),\n            className: \"ig-btn ig-btn-primary\",\n            children: \"Save Changes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1965,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1958,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1936,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1935,\n      columnNumber: 9\n    }, this), mediaPreviewModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content media-preview-modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Media Preview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1981,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setMediaPreviewModal(null),\n            className: \"modal-close\",\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1982,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1980,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-body\",\n          children: [(_mediaPreviewModal$me = mediaPreviewModal.mediaFile) !== null && _mediaPreviewModal$me !== void 0 && (_mediaPreviewModal$me2 = _mediaPreviewModal$me.type) !== null && _mediaPreviewModal$me2 !== void 0 && _mediaPreviewModal$me2.startsWith('image/') || !mediaPreviewModal.mediaFile && mediaPreviewModal.mediaPreview ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: mediaPreviewModal.mediaPreview,\n            alt: \"Media preview\",\n            className: \"modal-media\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1991,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"video\", {\n            src: mediaPreviewModal.mediaPreview,\n            controls: true,\n            className: \"modal-media\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1997,\n            columnNumber: 17\n          }, this), mediaPreviewModal.caption && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-caption\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Caption:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2005,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: mediaPreviewModal.caption\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2006,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2004,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1989,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-footer\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setMediaPreviewModal(null),\n            className: \"ig-btn ig-btn-primary\",\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2011,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2010,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1979,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1978,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1170,\n    columnNumber: 5\n  }, this);\n}\n_s(IgBulkComposer, \"YSyGRxR6TJSdr81U8HV1wJYT2DE=\", false, function () {\n  return [useAuth, useNotifications, useNavigate];\n});\n_c = IgBulkComposer;\nexport default IgBulkComposer;\nvar _c;\n$RefreshReg$(_c, \"IgBulkComposer\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useAuth","useNotifications","apiClient","fileToBase64","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","IgBulkComposer","selectedAccount","onClose","_s","_mediaPreviewModal$me","_mediaPreviewModal$me2","user","addNotification","strategyData","setStrategyData","promptTemplate","customStrategyTemplate","brandName","hookIdea","features","location","phone","website","callToAction","imagePrompt","startDate","endDate","frequency","customCron","timeSlot","composerRows","setComposerRows","selectedRows","setSelectedRows","editingCell","setEditingCell","dragStartRow","setDragStartRow","postType","setPostType","carouselImageCount","setCarouselImageCount","currentMonth","setCurrentMonth","Date","isScheduling","setIsScheduling","scheduleProgress","setScheduleProgress","expandedCaption","setExpandedCaption","mediaPreviewModal","setMediaPreviewModal","scheduledGridRows","setScheduledGridRows","navigate","promptTemplates","id","name","prompt","gridRef","carouselInputRefs","generateInitialRows","startDateParts","split","parseInt","endDateParts","rows","maxDays","currentDate","dayCount","rowCount","yyyy","getFullYear","mm","String","getMonth","padStart","dd","getDate","formattedDate","push","caption","mediaFile","mediaPreview","thumbnailFile","thumbnailPreview","toLowerCase","carouselImages","scheduledDate","scheduledTime","status","isSelected","maxAllowedDate","now","shouldInclude","getDay","getTime","setDate","handleStrategyChange","field","value","prev","newData","map","row","handlePostTypeChange","newPostType","handleCarouselImageCountChange","newCount","handleRowSelect","rowId","includes","filter","handleSelectAll","length","handleCellEdit","hasCaption","trim","hasEnoughImages","hasMedia","handleMediaUpload","event","file","target","files","find","r","alert","reader","FileReader","onload","e","result","readAsDataURL","handleGenerateMedia","console","log","substring","response","generateInstagramImage","success","data","image_url","error","handleGenerateAllCaptions","selectedComposerRows","captions","selectedTemplate","t","i","context","fullPrompt","JSON","stringify","captionResponse","generateInstagramCaption","content","generated_text","message","Math","round","c","successCount","failedCount","handleGenerateAllImages","errorCount","handleExpandCaption","handleViewMedia","handleSaveExpandedCaption","newCaption","handleThumbnailUpload","type","startsWith","thumbnailUploading","uploadResponse","uploadThumbnailToCloudinary","url","thumbnailUrl","handleRemoveThumbnail","handleRemoveMedia","handleGenerateCarousel","imageCount","generateInstagramCarousel","image_urls","errorMsg","handleCarouselUpload","Array","from","maxImages","minImages","imageUrls","uploadImageToCloudinary","current","handleDuplicateRow","rowToDuplicate","newRow","random","toISOString","handleDeleteRow","handleBulkDelete","handleTimeShift","direction","hours","minutes","newHours","toString","handleDragStart","handleDragOver","preventDefault","handleDrop","targetRowId","sourceIndex","findIndex","targetIndex","movedRow","splice","handleScheduleAll","readyRows","processedCount","totalPosts","postsWithMedia","Promise","all","index","basePost","scheduled_datetime","scheduled_date","scheduled_time","post_type","media_file","media_filename","image_prompt","carouselFiles","carousel_images","carousel_filenames","_","idx","carousel_image_count","thumbnail_url","thumbnail_file","thumbnail_filename","normalizedPostsWithMedia","post","bulkData","social_account_id","posts","bulkScheduleInstagramPosts","_response$scheduled_p","scheduled_posts","some","state","isArray","results","forEach","strategyName","platform","failed_posts","fp","errorData","hasReel","handleCalendarDateSelect","date","getStatusIcon","getStatusClass","generateCalendarDays","year","month","daysInMonth","firstDayOfMonth","days","day","getPostsForDate","dateString","handleRemoveCarouselImages","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","width","height","viewBox","fill","stroke","strokeWidth","x","y","rx","ry","cx","cy","points","x1","y1","x2","y2","min","max","onChange","template","placeholder","style","display","alignItems","gap","disabled","title","toLocaleDateString","postIndex","d","ref","_row$mediaFile","_row$mediaFile$type","draggable","onDragStart","onDragOver","onDrop","checked","accept","htmlFor","multiple","el","slice","src","alt","controls","cursor","marginLeft","_c","$RefreshReg$"],"sources":["C:/Users/THORSIGNIA/Projects/automation-dash/frontend/src/components/igBulkComposer.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { useNotifications } from '../contexts/NotificationContext';\r\nimport apiClient from '../services/apiClient';\r\nimport { fileToBase64 } from './FacebookUtils';\r\nimport './igBulkComposer.css';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction IgBulkComposer({ selectedAccount, onClose }) {\r\n  const { user } = useAuth();\r\n  const { addNotification } = useNotifications();\r\n\r\n  // Strategy step state\r\n  const [strategyData, setStrategyData] = useState({\r\n    promptTemplate: '',\r\n    customStrategyTemplate: '',\r\n    brandName: '',\r\n    hookIdea: '',\r\n    features: '',\r\n    location: '',\r\n    phone: '',\r\n    website: '',\r\n    callToAction: '',\r\n    imagePrompt: '',\r\n    startDate: '',\r\n    endDate: '',\r\n    frequency: 'daily',\r\n    customCron: '',\r\n    timeSlot: '09:00'\r\n  });\r\n\r\n  // Composer grid state\r\n  const [composerRows, setComposerRows] = useState([]);\r\n  const [selectedRows, setSelectedRows] = useState([]);\r\n  const [editingCell, setEditingCell] = useState(null);\r\n  const [dragStartRow, setDragStartRow] = useState(null);\r\n\r\n  // Post type state\r\n  const [postType, setPostType] = useState('photo'); // photo, carousel, reel\r\n  const [carouselImageCount, setCarouselImageCount] = useState(2);\r\n\r\n  // Calendar preview state\r\n  const [currentMonth, setCurrentMonth] = useState(new Date());\r\n\r\n  // Queue state\r\n  const [isScheduling, setIsScheduling] = useState(false);\r\n  const [scheduleProgress, setScheduleProgress] = useState(0);\r\n\r\n  // Expanded view state\r\n  const [expandedCaption, setExpandedCaption] = useState(null);\r\n  const [mediaPreviewModal, setMediaPreviewModal] = useState(null);\r\n  const [scheduledGridRows, setScheduledGridRows] = useState([]);\r\n  const navigate = useNavigate();\r\n\r\n  // Prompt templates for Instagram\r\n  const [promptTemplates] = useState([\r\n    { id: 1, name: 'Daily Inspiration', prompt: 'Share an inspiring quote or motivational message for your Instagram audience' },\r\n    { id: 2, name: 'Product Showcase', prompt: 'Highlight your best products with engaging descriptions and hashtags' },\r\n    { id: 3, name: 'Behind the Scenes', prompt: 'Share behind-the-scenes content about your business or team' },\r\n    { id: 4, name: 'Customer Spotlight', prompt: 'Feature customer testimonials or success stories' },\r\n    { id: 5, name: 'Industry Tips', prompt: 'Share valuable tips and insights related to your industry' },\r\n    { id: 6, name: 'Lifestyle Content', prompt: 'Share lifestyle content that resonates with your audience' },\r\n    { id: 7, name: 'User Generated Content', prompt: 'Repost and credit amazing content from your community' },\r\n    { id: 8, name: 'Custom', prompt: 'custom' }\r\n  ]);\r\n\r\n  const gridRef = useRef(null);\r\n  const carouselInputRefs = useRef({});\r\n\r\n  // Initialize composer with default rows\r\n  useEffect(() => {\r\n    if (strategyData.startDate && strategyData.frequency) {\r\n      generateInitialRows();\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [strategyData.startDate, strategyData.endDate, strategyData.frequency, strategyData.timeSlot]);\r\n\r\n  const generateInitialRows = () => {\r\n    if (!strategyData.startDate) return;\r\n\r\n    const startDateParts = strategyData.startDate.split('-');\r\n    const startDate = new Date(parseInt(startDateParts[0]), parseInt(startDateParts[1]) - 1, parseInt(startDateParts[2]));\r\n\r\n    let endDate = null;\r\n    if (strategyData.endDate) {\r\n      const endDateParts = strategyData.endDate.split('-');\r\n      endDate = new Date(parseInt(endDateParts[0]), parseInt(endDateParts[1]) - 1, parseInt(endDateParts[2]));\r\n    }\r\n\r\n    const rows = [];\r\n    const maxDays = 30; // Instagram's 30-day limit\r\n    let currentDate = new Date(startDate);\r\n    let dayCount = 0;\r\n    let rowCount = 0;\r\n\r\n    if (!endDate) {\r\n      // Format as YYYY-MM-DD using local date parts (same as multi-day logic)\r\n      const yyyy = startDate.getFullYear();\r\n      const mm = String(startDate.getMonth() + 1).padStart(2, '0');\r\n      const dd = String(startDate.getDate()).padStart(2, '0');\r\n      const formattedDate = `${yyyy}-${mm}-${dd}`;\r\n      rows.push({\r\n        id: `row-0`,\r\n        caption: '',\r\n        mediaFile: null,\r\n        mediaPreview: null,\r\n        thumbnailFile: null,\r\n        thumbnailPreview: null,\r\n        postType: postType.toLowerCase(),\r\n        carouselImageCount: carouselImageCount,\r\n        carouselImages: [],\r\n        scheduledDate: formattedDate,\r\n        scheduledTime: strategyData.timeSlot,\r\n        status: 'draft',\r\n        isSelected: false\r\n      });\r\n    } else {\r\n      // Fix: include the end date by using <= in the comparison\r\n      while (dayCount < maxDays && rowCount < 30) {\r\n        if (endDate && currentDate > endDate) break;\r\n        const maxAllowedDate = new Date(Date.now() + 30 * 24 * 60 * 60 * 1000);\r\n        if (currentDate > maxAllowedDate) break;\r\n\r\n        let shouldInclude = false;\r\n        switch (strategyData.frequency) {\r\n          case 'daily':\r\n            shouldInclude = true;\r\n            break;\r\n          case 'weekly':\r\n            shouldInclude = currentDate.getDay() === startDate.getDay();\r\n            break;\r\n          case 'monthly':\r\n            shouldInclude = currentDate.getDate() === startDate.getDate();\r\n            break;\r\n          case 'custom':\r\n            shouldInclude = true;\r\n            break;\r\n          default:\r\n            shouldInclude = true;\r\n        }\r\n\r\n        if (shouldInclude) {\r\n          // Format as YYYY-MM-DD using local date parts\r\n          const yyyy = currentDate.getFullYear();\r\n          const mm = String(currentDate.getMonth() + 1).padStart(2, '0');\r\n          const dd = String(currentDate.getDate()).padStart(2, '0');\r\n          const formattedDate = `${yyyy}-${mm}-${dd}`;\r\n          rows.push({\r\n            id: `row-${rowCount}`,\r\n            caption: '',\r\n            mediaFile: null,\r\n            mediaPreview: null,\r\n            thumbnailFile: null,\r\n            thumbnailPreview: null,\r\n            postType: postType.toLowerCase(),\r\n            carouselImageCount: carouselImageCount,\r\n            carouselImages: [],\r\n            scheduledDate: formattedDate,\r\n            scheduledTime: strategyData.timeSlot,\r\n            status: 'draft',\r\n            isSelected: false\r\n          });\r\n          rowCount++;\r\n        }\r\n        // Fix: increment date at the end, and break if we've reached the end date\r\n        if (endDate && currentDate.getTime() === endDate.getTime()) break;\r\n        currentDate.setDate(currentDate.getDate() + 1);\r\n        dayCount++;\r\n      }\r\n    }\r\n    setComposerRows(rows);\r\n  };\r\n\r\n  const handleStrategyChange = (field, value) => {\r\n    setStrategyData(prev => {\r\n      const newData = { ...prev, [field]: value };\r\n      // If start date is changed and end date is before it, clear end date\r\n      if (field === 'startDate' && prev.endDate && value > prev.endDate) {\r\n        newData.endDate = '';\r\n      }\r\n      return newData;\r\n    });\r\n\r\n    // If prompt template is selected, apply it to all rows\r\n    if (field === 'promptTemplate' && value && value !== 'custom') {\r\n      setComposerRows(prev =>\r\n        prev.map(row => ({\r\n          ...row,\r\n          caption: value\r\n        }))\r\n      );\r\n    }\r\n  };\r\n\r\n  // Update post type for all rows\r\n  const handlePostTypeChange = (newPostType) => {\r\n    setPostType(newPostType);\r\n    setComposerRows(prev =>\r\n      prev.map(row => ({\r\n        ...row,\r\n        postType: newPostType.toLowerCase(),\r\n        carouselImageCount: newPostType === 'carousel' ? carouselImageCount : null,\r\n        carouselImages: newPostType === 'carousel' ? (row.carouselImages || []) : [],\r\n        // Clear media for photo/reel when switching to carousel\r\n        mediaFile: newPostType === 'carousel' ? null : row.mediaFile,\r\n        mediaPreview: newPostType === 'carousel' ? null : row.mediaPreview,\r\n        // Clear thumbnail when switching away from reel\r\n        thumbnailFile: newPostType === 'reel' ? row.thumbnailFile : null,\r\n        thumbnailPreview: newPostType === 'reel' ? row.thumbnailPreview : null\r\n      }))\r\n    );\r\n  };\r\n\r\n  // Update carousel image count for all rows\r\n  const handleCarouselImageCountChange = (newCount) => {\r\n    setCarouselImageCount(newCount);\r\n    setComposerRows(prev =>\r\n      prev.map(row => ({\r\n        ...row,\r\n        carouselImageCount: row.postType === 'carousel' ? newCount : row.carouselImageCount\r\n      }))\r\n    );\r\n  };\r\n\r\n  const handleRowSelect = (rowId) => {\r\n    setSelectedRows(prev => prev.includes(rowId) ? prev.filter(id => id !== rowId) : [...prev, rowId]);\r\n  };\r\n\r\n  const handleSelectAll = () => {\r\n    if (selectedRows.length === composerRows.length) {\r\n      setSelectedRows([]);\r\n    } else {\r\n      setSelectedRows(composerRows.map(row => row.id));\r\n    }\r\n  };\r\n\r\n  const handleCellEdit = (rowId, field, value) => {\r\n    setComposerRows(prev =>\r\n      prev.map(row =>\r\n        row.id === rowId\r\n          ? {\r\n            ...row,\r\n            [field]: field === 'postType' ? value.toLowerCase() : value,\r\n            status: (() => {\r\n              // For carousel posts, check if we have enough images\r\n              if (field === 'postType' && value.toLowerCase() === 'carousel') {\r\n                return 'draft'; // Reset status when switching to carousel\r\n              }\r\n\r\n              // For carousel posts, validate image count\r\n              if (row.postType === 'carousel') {\r\n                const hasCaption = (row.caption || '').trim();\r\n                const hasEnoughImages = (row.carouselImages || []).length >= 2;\r\n                return hasCaption && hasEnoughImages ? 'ready' : 'draft';\r\n              }\r\n\r\n              // For other post types, use existing logic\r\n              if (field === 'caption' || field === 'mediaFile' || field === 'mediaPreview') {\r\n                const hasCaption = field === 'caption' ? value.trim() : (row.caption || '').trim();\r\n                const hasMedia = field === 'mediaFile' ? value : (row.mediaFile || row.mediaPreview);\r\n                return hasCaption && hasMedia ? 'ready' : 'draft';\r\n              }\r\n\r\n              return row.status;\r\n            })()\r\n          }\r\n          : row\r\n      )\r\n    );\r\n  };\r\n\r\n  const handleMediaUpload = async (rowId, event) => {\r\n    const file = event.target.files[0];\r\n    if (!file) return;\r\n\r\n    // Find the row to determine post type\r\n    const row = composerRows.find(r => r.id === rowId);\r\n    if (!row) return;\r\n\r\n    // --- REELS VIDEO UPLOAD LOGIC ---\r\n    if (row.postType === 'reel') {\r\n      alert('Your video is converted to: 1080x1920 as instagram policy.');\r\n      // Proceed to upload to backend as before...\r\n    }\r\n\r\n    // --- PHOTO/CAROUSEL LOGIC (unchanged) ---\r\n    const reader = new FileReader();\r\n    reader.onload = (e) => {\r\n      setComposerRows(prev =>\r\n        prev.map(row =>\r\n          row.id === rowId\r\n            ? {\r\n              ...row,\r\n              mediaFile: file,\r\n              mediaPreview: e.target.result,\r\n              status: (row.caption || '').trim() ? 'ready' : 'draft'\r\n            }\r\n            : row\r\n        )\r\n      );\r\n    };\r\n    reader.readAsDataURL(file);\r\n  };\r\n\r\n  const handleGenerateMedia = async (rowId) => {\r\n    try {\r\n      const row = composerRows.find(r => r.id === rowId);\r\n      if (!row || !(row.caption || '').trim()) {\r\n        alert('Please add a caption first to generate an image.');\r\n        return;\r\n      }\r\n\r\n      console.log(`Generating image for row ${rowId} with caption: ${row.caption.substring(0, 50)}...`);\r\n\r\n      // Truncate caption to 500 characters for image generation\r\n      const imagePrompt = row.caption.trim().substring(0, 500);\r\n      console.log(`Using image prompt (truncated): ${imagePrompt.substring(0, 100)}...`);\r\n\r\n      const response = await apiClient.generateInstagramImage(imagePrompt, 'feed');\r\n\r\n      if (response.success && response.data && response.data.image_url) {\r\n        console.log(`Successfully generated image for row ${rowId}:`, response.data.image_url);\r\n        setComposerRows(prev =>\r\n          prev.map(r =>\r\n            r.id === rowId\r\n              ? {\r\n                ...r,\r\n                mediaFile: null,\r\n                mediaPreview: response.data.image_url,\r\n                status: (r.caption || '').trim() ? 'ready' : 'draft'\r\n              }\r\n              : r\r\n          )\r\n        );\r\n      } else {\r\n        console.log(`Failed to generate image for row ${rowId}:`, response);\r\n        alert('Failed to generate image. Please try again.');\r\n      }\r\n    } catch (error) {\r\n      console.error(`Error generating image for row ${rowId}:`, error);\r\n      alert('Failed to generate image. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleGenerateAllCaptions = async () => {\r\n    if (selectedRows.length === 0) {\r\n      alert('Please select at least one row to generate captions for.');\r\n      return;\r\n    }\r\n\r\n    if (!strategyData.promptTemplate) {\r\n      alert('Please select a strategy template first.');\r\n      return;\r\n    }\r\n\r\n    setIsScheduling(true);\r\n    setScheduleProgress(0);\r\n\r\n    try {\r\n      const selectedComposerRows = composerRows.filter(row => selectedRows.includes(row.id));\r\n      const captions = [];\r\n\r\n      // Create the base prompt based on the selected template type\r\n      let prompt = '';\r\n\r\n      if (strategyData.promptTemplate === 'custom') {\r\n        // Build a detailed prompt for custom templates\r\n        prompt = `\r\n          Brand Name: ${strategyData.brandName || 'Not specified'}\r\n          Hook Idea: ${strategyData.hookIdea || 'Not specified'}\r\n          Key Features: ${strategyData.features || 'Not specified'}\r\n          Location: ${strategyData.location || 'Not specified'}\r\n          Phone: ${strategyData.phone || 'Not specified'}\r\n          Website: ${strategyData.website || 'Not specified'}\r\n          Call to Action: ${strategyData.callToAction || 'Not specified'}\r\n          Image Prompt: ${strategyData.imagePrompt || 'Not specified'}\r\n          \r\n          Custom Template:\r\n          ${strategyData.customStrategyTemplate || ''}\r\n        `;\r\n      } else {\r\n        // Use the selected predefined template\r\n        const selectedTemplate = promptTemplates.find(t => t.prompt === strategyData.promptTemplate);\r\n        if (!selectedTemplate) {\r\n          alert('Invalid strategy template selected.');\r\n          setIsScheduling(false);\r\n          return;\r\n        }\r\n        prompt = selectedTemplate.prompt;\r\n      }\r\n\r\n      // Generate captions for each selected row\r\n      for (let i = 0; i < selectedComposerRows.length; i++) {\r\n        try {\r\n          const row = selectedComposerRows[i];\r\n          const context = {\r\n            scheduledDate: row.scheduledDate,\r\n            // Add any other context you want to include\r\n          };\r\n\r\n          // Add context to the prompt\r\n          const fullPrompt = `${prompt}\\n\\nContext: ${JSON.stringify(context, null, 2)}`;\r\n\r\n          const captionResponse = await apiClient.generateInstagramCaption(fullPrompt);\r\n\r\n          if (captionResponse.success) {\r\n            captions.push({\r\n              content: captionResponse.content || captionResponse.generated_text || 'No content generated',\r\n              context: context.scheduledDate,\r\n              success: true\r\n            });\r\n          } else {\r\n            console.error('Caption generation failed:', captionResponse.error);\r\n            captions.push({\r\n              content: `Failed to generate caption for: ${context.scheduledDate}`,\r\n              context: context.scheduledDate,\r\n              success: false,\r\n              error: captionResponse.error || 'Unknown error'\r\n            });\r\n          }\r\n        } catch (error) {\r\n          console.error('Error generating caption:', error);\r\n          captions.push({\r\n            content: `Error generating caption for: ${selectedComposerRows[i].scheduledDate}`,\r\n            context: selectedComposerRows[i].scheduledDate,\r\n            success: false,\r\n            error: error.message\r\n          });\r\n        }\r\n\r\n        // Update progress\r\n        setScheduleProgress(Math.round(((i + 1) / selectedComposerRows.length) * 100));\r\n      }\r\n\r\n      // Update the rows with generated captions\r\n      setComposerRows(prev =>\r\n        prev.map(row => {\r\n          if (!selectedRows.includes(row.id)) return row;\r\n\r\n          const caption = captions.find(c => c.context === row.scheduledDate);\r\n          if (caption && caption.success) {\r\n            return {\r\n              ...row,\r\n              caption: caption.content,\r\n              status: 'ready'\r\n            };\r\n          }\r\n          return row;\r\n        })\r\n      );\r\n\r\n      // Show success/failure summary\r\n      const successCount = captions.filter(c => c.success).length;\r\n      const failedCount = captions.length - successCount;\r\n\r\n      let message = '';\r\n      if (successCount > 0 && failedCount === 0) {\r\n        message = `Successfully generated captions for ${successCount} ${successCount === 1 ? 'post' : 'posts'}.`;\r\n      } else if (successCount > 0) {\r\n        message = `Generated ${successCount} captions successfully, but failed to generate ${failedCount}.`;\r\n      } else {\r\n        message = 'Failed to generate any captions. Please try again.';\r\n      }\r\n\r\n      alert(message);\r\n    } catch (error) {\r\n      console.error('Unexpected error in handleGenerateAllCaptions:', error);\r\n      alert('An unexpected error occurred while generating captions. Please try again.');\r\n    } finally {\r\n      setIsScheduling(false);\r\n      setScheduleProgress(0);\r\n    }\r\n  };\r\n\r\n  const handleGenerateAllImages = async () => {\r\n    if (selectedRows.length === 0) {\r\n      alert('Please select at least one row to generate images.');\r\n      return;\r\n    }\r\n    setIsScheduling(true);\r\n    setScheduleProgress(0);\r\n    try {\r\n      const selectedComposerRows = composerRows.filter(row => selectedRows.includes(row.id));\r\n      let successCount = 0;\r\n      let errorCount = 0;\r\n\r\n      for (let i = 0; i < selectedComposerRows.length; i++) {\r\n        const row = selectedComposerRows[i];\r\n\r\n        if (!row.caption || !(row.caption || '').trim()) {\r\n          console.log(`Skipping image generation for row ${row.id} - no caption available`);\r\n          continue;\r\n        }\r\n\r\n        try {\r\n          console.log(`Generating image for row ${row.id} with caption: ${row.caption.substring(0, 50)}...`);\r\n\r\n          // Truncate caption to 500 characters for image generation\r\n          const imagePrompt = row.caption.trim().substring(0, 500);\r\n          console.log(`Using image prompt (truncated): ${imagePrompt.substring(0, 100)}...`);\r\n\r\n          // Generate image using Stability AI with the caption as prompt\r\n          const response = await apiClient.generateInstagramImage(imagePrompt, 'feed');\r\n\r\n          if (response.success && response.data && response.data.image_url) {\r\n            console.log(`Successfully generated image for row ${row.id}:`, response.data.image_url);\r\n            setComposerRows(prev =>\r\n              prev.map(r =>\r\n                r.id === row.id\r\n                  ? {\r\n                    ...r,\r\n                    mediaFile: null,\r\n                    mediaPreview: response.data.image_url,\r\n                    status: (r.caption || '').trim() ? 'ready' : 'draft'\r\n                  }\r\n                  : r\r\n              )\r\n            );\r\n            successCount++;\r\n          } else {\r\n            console.log(`Failed to generate image for row ${row.id}:`, response);\r\n            errorCount++;\r\n          }\r\n        } catch (error) {\r\n          console.error(`Error generating image for row ${row.id}:`, error);\r\n          errorCount++;\r\n        }\r\n      }\r\n\r\n      if (successCount > 0) {\r\n        alert(`Image generation completed! Successfully generated ${successCount} images${errorCount > 0 ? `, ${errorCount} failed` : ''}`);\r\n      } else {\r\n        alert('Failed to generate any images. Please try again.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error in bulk image generation:', error);\r\n      alert('Failed to generate images. Please try again.');\r\n    } finally {\r\n      setIsScheduling(false);\r\n      setScheduleProgress(0);\r\n    }\r\n  };\r\n\r\n  const handleExpandCaption = (rowId) => {\r\n    const row = composerRows.find(r => r.id === rowId);\r\n    if (row) setExpandedCaption(row);\r\n  };\r\n\r\n  const handleViewMedia = (rowId) => {\r\n    const row = composerRows.find(r => r.id === rowId);\r\n    if (row && (row.mediaPreview || row.mediaFile)) setMediaPreviewModal(row);\r\n  };\r\n\r\n  const handleSaveExpandedCaption = (rowId, newCaption) => {\r\n    setComposerRows(prev =>\r\n      prev.map(row =>\r\n        row.id === rowId\r\n          ? { ...row, caption: newCaption, status: ((newCaption || '').trim() && (row.mediaFile || row.mediaPreview)) ? 'ready' : 'draft' }\r\n          : row\r\n      )\r\n    );\r\n    setExpandedCaption(null);\r\n  };\r\n\r\n  const handleThumbnailUpload = async (rowId, event) => {\r\n    const file = event.target.files[0];\r\n    if (!file) return;\r\n\r\n    // Validate file type\r\n    if (!file.type.startsWith('image/')) {\r\n      alert('Please select an image file for the thumbnail.');\r\n      return;\r\n    }\r\n\r\n    // Show loading state\r\n    setComposerRows(prev =>\r\n      prev.map(row =>\r\n        row.id === rowId\r\n          ? {\r\n            ...row,\r\n            thumbnailUploading: true\r\n          }\r\n          : row\r\n      )\r\n    );\r\n\r\n    try {\r\n      console.log(`📤 Uploading thumbnail for row ${rowId}: ${file.name}`);\r\n\r\n      // Upload thumbnail to Cloudinary via backend\r\n      const uploadResponse = await apiClient.uploadThumbnailToCloudinary(file);\r\n\r\n      if (uploadResponse && uploadResponse.success && uploadResponse.data && uploadResponse.data.url) {\r\n        console.log(`✅ Thumbnail uploaded successfully: ${uploadResponse.data.url}`);\r\n\r\n        // Update row with Cloudinary URL\r\n        setComposerRows(prev =>\r\n          prev.map(row =>\r\n            row.id === rowId\r\n              ? {\r\n                ...row,\r\n                thumbnailFile: null, // Clear file since we have URL now\r\n                thumbnailPreview: uploadResponse.data.url, // Use Cloudinary URL\r\n                thumbnailUrl: uploadResponse.data.url, // Store Cloudinary URL\r\n                thumbnailUploading: false\r\n              }\r\n              : row\r\n          )\r\n        );\r\n\r\n        alert('Thumbnail uploaded successfully! It will be optimized for Instagram reel cover image requirements.');\r\n      } else {\r\n        console.error(`❌ Failed to upload thumbnail:`, uploadResponse);\r\n        alert('Failed to upload thumbnail. Please try again.');\r\n\r\n        // Clear loading state\r\n        setComposerRows(prev =>\r\n          prev.map(row =>\r\n            row.id === rowId\r\n              ? {\r\n                ...row,\r\n                thumbnailUploading: false\r\n              }\r\n              : row\r\n          )\r\n        );\r\n      }\r\n    } catch (error) {\r\n      console.error('Error uploading thumbnail:', error);\r\n      alert(`Failed to upload thumbnail: ${error.message}`);\r\n\r\n      // Clear loading state\r\n      setComposerRows(prev =>\r\n        prev.map(row =>\r\n          row.id === rowId\r\n            ? {\r\n              ...row,\r\n              thumbnailUploading: false\r\n            }\r\n            : row\r\n        )\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleRemoveThumbnail = (rowId) => {\r\n    setComposerRows(prev =>\r\n      prev.map(row =>\r\n        row.id === rowId ? {\r\n          ...row,\r\n          thumbnailFile: null,\r\n          thumbnailPreview: null,\r\n          thumbnailUrl: null // Clear Cloudinary URL as well\r\n        } : row\r\n      )\r\n    );\r\n  };\r\n\r\n  const handleRemoveMedia = (rowId) => {\r\n    setComposerRows(prev =>\r\n      prev.map(row =>\r\n        row.id === rowId ? {\r\n          ...row,\r\n          mediaFile: null,\r\n          mediaPreview: null,\r\n          thumbnailFile: null,\r\n          thumbnailPreview: null,\r\n          carouselImages: row.postType === 'carousel' ? [] : null,\r\n          status: (row.caption || '').trim() ? 'draft' : 'draft'\r\n        } : row\r\n      )\r\n    );\r\n  };\r\n\r\n  const handleGenerateCarousel = async (rowId) => {\r\n    try {\r\n      const row = composerRows.find(r => r.id === rowId);\r\n      if (!row || !(row.caption || '').trim()) {\r\n        alert('Please add a caption first to generate carousel images.');\r\n        return;\r\n      }\r\n\r\n      console.log(`Generating carousel for row ${rowId} with caption: ${row.caption.substring(0, 50)}...`);\r\n\r\n      const imagePrompt = row.caption.trim().substring(0, 500);\r\n      const imageCount = row.carouselImageCount || 3;\r\n\r\n      if (imageCount < 2 || imageCount > 7) {\r\n        alert('Carousel must have between 2 and 7 images.');\r\n        return;\r\n      }\r\n\r\n      console.log(`🎨 Generating ${imageCount} carousel images with prompt: ${imagePrompt}`);\r\n\r\n      const response = await apiClient.generateInstagramCarousel(imagePrompt, imageCount);\r\n\r\n      if (response.success && response.image_urls && response.image_urls.length >= 2) {\r\n        console.log(`Successfully generated carousel for row ${rowId}:`, response.image_urls);\r\n        setComposerRows(prev =>\r\n          prev.map(r =>\r\n            r.id === rowId\r\n              ? {\r\n                ...r,\r\n                carouselImages: response.image_urls,\r\n                status: (() => {\r\n                  const hasCaption = (r.caption || '').trim();\r\n                  const hasEnoughImages = response.image_urls.length >= 2;\r\n                  return hasCaption && hasEnoughImages ? 'ready' : 'draft';\r\n                })()\r\n              }\r\n              : r\r\n          )\r\n        );\r\n      } else {\r\n        console.log(`Failed to generate carousel for row ${rowId}:`, response);\r\n        const errorMsg = response.error || 'Failed to generate enough carousel images. Please try again.';\r\n        alert(`Failed to generate carousel: ${errorMsg}`);\r\n      }\r\n    } catch (error) {\r\n      console.error(`Error generating carousel for row ${rowId}:`, error);\r\n      alert('Error generating carousel images. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleCarouselUpload = async (rowId, event) => {\r\n    const files = Array.from(event.target.files);\r\n    if (files.length === 0) return;\r\n\r\n    const row = composerRows.find(r => r.id === rowId);\r\n    const maxImages = row.carouselImageCount || 3;\r\n    const minImages = 2;\r\n\r\n    if (files.length < minImages) {\r\n      alert(`Please select at least ${minImages} images for a carousel post.`);\r\n      return;\r\n    }\r\n\r\n    if (files.length > maxImages) {\r\n      alert(`Please select only ${maxImages} images for this carousel.`);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      console.log(`🖼️ Uploading ${files.length} carousel images for row ${rowId}`);\r\n\r\n      const imageUrls = [];\r\n      for (let i = 0; i < files.length; i++) {\r\n        const file = files[i];\r\n\r\n        // Validate file type\r\n        if (!file.type.startsWith('image/')) {\r\n          alert(`File ${file.name} is not an image. Please select only image files.`);\r\n          continue;\r\n        }\r\n\r\n        console.log(`📤 Uploading carousel image ${i + 1}/${files.length}: ${file.name}`);\r\n\r\n        // Upload to Cloudinary\r\n        const uploadResponse = await apiClient.uploadImageToCloudinary(file);\r\n\r\n        if (uploadResponse && uploadResponse.success && uploadResponse.data && uploadResponse.data.url) {\r\n          imageUrls.push(uploadResponse.data.url);\r\n          console.log(`✅ Carousel image ${i + 1} uploaded: ${uploadResponse.data.url}`);\r\n        } else {\r\n          console.error(`❌ Failed to upload carousel image ${i + 1}:`, uploadResponse);\r\n          alert(`Failed to upload image ${file.name}. Please try again.`);\r\n          return;\r\n        }\r\n      }\r\n\r\n      if (imageUrls.length >= minImages) {\r\n        setComposerRows(prev =>\r\n          prev.map(r =>\r\n            r.id === rowId\r\n              ? {\r\n                ...r,\r\n                carouselImages: imageUrls,\r\n                status: (() => {\r\n                  const hasCaption = (r.caption || '').trim();\r\n                  const hasEnoughImages = imageUrls.length >= 3;\r\n                  return hasCaption && hasEnoughImages ? 'ready' : 'draft';\r\n                })()\r\n              }\r\n              : r\r\n          )\r\n        );\r\n        console.log(`✅ Successfully uploaded ${imageUrls.length} carousel images for row ${rowId}`);\r\n      } else {\r\n        alert(`Please upload at least ${minImages} images for a carousel post.`);\r\n      }\r\n\r\n      // Clear the file input\r\n      if (carouselInputRefs.current[rowId]) {\r\n        carouselInputRefs.current[rowId].value = '';\r\n      }\r\n    } catch (error) {\r\n      console.error('Error processing carousel upload:', error);\r\n      alert('Error uploading carousel images. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleDuplicateRow = (rowId) => {\r\n    const rowToDuplicate = composerRows.find(row => row.id === rowId);\r\n    if (rowToDuplicate) {\r\n      const newRow = {\r\n        ...rowToDuplicate,\r\n        id: `row-${Date.now()}-${Math.random()}`,\r\n        scheduledDate: new Date(rowToDuplicate.scheduledDate).toISOString().split('T')[0],\r\n        postType: rowToDuplicate.postType ? rowToDuplicate.postType.toLowerCase() : 'photo'\r\n      };\r\n      setComposerRows(prev => [...prev, newRow]);\r\n    }\r\n  };\r\n\r\n  const handleDeleteRow = (rowId) => {\r\n    setComposerRows(prev => prev.filter(row => row.id !== rowId));\r\n    setSelectedRows(prev => prev.filter(id => id !== rowId));\r\n  };\r\n\r\n  const handleBulkDelete = () => {\r\n    setComposerRows(prev => prev.filter(row => !selectedRows.includes(row.id)));\r\n    setSelectedRows([]);\r\n  };\r\n\r\n  const handleTimeShift = (direction) => {\r\n    setComposerRows(prev =>\r\n      prev.map(row => {\r\n        if (selectedRows.includes(row.id)) {\r\n          const [hours, minutes] = row.scheduledTime.split(':');\r\n          let newHours = parseInt(hours) + (direction === 'forward' ? 1 : -1);\r\n          if (newHours < 0) newHours = 23;\r\n          if (newHours > 23) newHours = 0;\r\n          return {\r\n            ...row,\r\n            scheduledTime: `${newHours.toString().padStart(2, '0')}:${minutes}`\r\n          };\r\n        }\r\n        return row;\r\n      })\r\n    );\r\n  };\r\n\r\n  const handleDragStart = (rowId) => setDragStartRow(rowId);\r\n  const handleDragOver = (e) => e.preventDefault();\r\n  const handleDrop = (targetRowId) => {\r\n    if (dragStartRow && dragStartRow !== targetRowId) {\r\n      const rows = [...composerRows];\r\n      const sourceIndex = rows.findIndex(row => row.id === dragStartRow);\r\n      const targetIndex = rows.findIndex(row => row.id === targetRowId);\r\n      const [movedRow] = rows.splice(sourceIndex, 1);\r\n      rows.splice(targetIndex, 0, movedRow);\r\n      setComposerRows(rows);\r\n    }\r\n    setDragStartRow(null);\r\n  };\r\n\r\n  const handleScheduleAll = async () => {\r\n    if (!selectedAccount || composerRows.length === 0) return;\r\n    setIsScheduling(true);\r\n    setScheduleProgress(0);\r\n\r\n    try {\r\n      const readyRows = composerRows.filter(row => row.status === 'ready');\r\n      console.log(`🔄 Starting bulk scheduling for ${readyRows.length} posts...`);\r\n\r\n      // Progress tracking for media processing\r\n      let processedCount = 0;\r\n      const totalPosts = readyRows.length;\r\n\r\n      const postsWithMedia = await Promise.all(\r\n        readyRows.map(async (row, index) => {\r\n          const basePost = {\r\n            caption: row.caption,\r\n            scheduled_datetime: `${row.scheduledDate}T${row.scheduledTime}:00+05:30`,\r\n            scheduled_date: row.scheduledDate,\r\n            scheduled_time: row.scheduledTime,\r\n            post_type: (row.postType || 'photo').toLowerCase()\r\n          };\r\n\r\n          if (row.postType === 'photo') {\r\n            if (row.mediaFile) {\r\n              const result = {\r\n                ...basePost,\r\n                media_file: await fileToBase64(row.mediaFile),\r\n                media_filename: row.mediaFile.name\r\n              };\r\n              processedCount++;\r\n              setScheduleProgress((processedCount / totalPosts) * 30);\r\n              return result;\r\n            } else if (row.mediaPreview && row.mediaPreview.startsWith('data:')) {\r\n              const result = {\r\n                ...basePost,\r\n                media_file: row.mediaPreview,\r\n                media_filename: 'generated_image.jpg'\r\n              };\r\n              processedCount++;\r\n              setScheduleProgress((processedCount / totalPosts) * 30);\r\n              return result;\r\n            } else if (row.mediaPreview && row.mediaPreview.startsWith('http')) {\r\n              const result = {\r\n                ...basePost,\r\n                image_prompt: row.caption.substring(0, 200)\r\n              };\r\n              processedCount++;\r\n              setScheduleProgress((processedCount / totalPosts) * 30);\r\n              return result;\r\n            } else {\r\n              const result = {\r\n                ...basePost,\r\n                image_prompt: strategyData.imagePrompt || row.caption.substring(0, 200)\r\n              };\r\n              processedCount++;\r\n              setScheduleProgress((processedCount / totalPosts) * 30);\r\n              return result;\r\n            }\r\n          } else if (row.postType === 'carousel') {\r\n            if (row.carouselImages && row.carouselImages.length > 0) {\r\n              const carouselFiles = row.carouselImages;\r\n              const result = {\r\n                ...basePost,\r\n                carousel_images: carouselFiles,\r\n                carousel_filenames: carouselFiles.map((_, idx) => `carousel_image_${idx + 1}.jpg`)\r\n              };\r\n              processedCount++;\r\n              setScheduleProgress((processedCount / totalPosts) * 30);\r\n              return result;\r\n            } else {\r\n              const result = {\r\n                ...basePost,\r\n                carousel_image_count: row.carouselImageCount || 3,\r\n                image_prompt: strategyData.imagePrompt || row.caption.substring(0, 200)\r\n              };\r\n              processedCount++;\r\n              setScheduleProgress((processedCount / totalPosts) * 30);\r\n              return result;\r\n            }\r\n          } else if (row.postType === 'reel') {\r\n            if (row.mediaFile) {\r\n              const result = {\r\n                ...basePost,\r\n                media_file: await fileToBase64(row.mediaFile),\r\n                media_filename: row.mediaFile.name\r\n              };\r\n\r\n              // Add thumbnail if available - prioritize Cloudinary URL over file\r\n              if (row.thumbnailUrl && row.thumbnailUrl.startsWith('http')) {\r\n                result.thumbnail_url = row.thumbnailUrl;\r\n              } else if (row.thumbnailPreview && row.thumbnailPreview.startsWith('http')) {\r\n                result.thumbnail_url = row.thumbnailPreview;\r\n              } else if (row.thumbnailFile) {\r\n                result.thumbnail_file = await fileToBase64(row.thumbnailFile);\r\n                result.thumbnail_filename = row.thumbnailFile.name;\r\n              }\r\n\r\n              processedCount++;\r\n              setScheduleProgress((processedCount / totalPosts) * 30);\r\n              return result;\r\n            } else if (row.mediaPreview && row.mediaPreview.startsWith('data:')) {\r\n              const result = {\r\n                ...basePost,\r\n                media_file: row.mediaPreview,\r\n                media_filename: 'generated_video.mp4'\r\n              };\r\n\r\n              // Add thumbnail if available - prioritize Cloudinary URL over file\r\n              if (row.thumbnailUrl && row.thumbnailUrl.startsWith('http')) {\r\n                result.thumbnail_url = row.thumbnailUrl;\r\n              } else if (row.thumbnailPreview && row.thumbnailPreview.startsWith('http')) {\r\n                result.thumbnail_url = row.thumbnailPreview;\r\n              } else if (row.thumbnailFile) {\r\n                result.thumbnail_file = await fileToBase64(row.thumbnailFile);\r\n                result.thumbnail_filename = row.thumbnailFile.name;\r\n              }\r\n\r\n              processedCount++;\r\n              setScheduleProgress((processedCount / totalPosts) * 30);\r\n              return result;\r\n            } else {\r\n              const result = {\r\n                ...basePost,\r\n                image_prompt: strategyData.imagePrompt || row.caption.substring(0, 200)\r\n              };\r\n              processedCount++;\r\n              setScheduleProgress((processedCount / totalPosts) * 30);\r\n              return result;\r\n            }\r\n          }\r\n\r\n          processedCount++;\r\n          setScheduleProgress((processedCount / totalPosts) * 30);\r\n          return basePost;\r\n        })\r\n      );\r\n\r\n      // Final normalization: ensure all outgoing post_type values are lowercase\r\n      const normalizedPostsWithMedia = postsWithMedia.map(post => ({\r\n        ...post,\r\n        post_type: (post.post_type || 'photo').toLowerCase()\r\n      }));\r\n\r\n      const bulkData = {\r\n        social_account_id: selectedAccount.id,\r\n        posts: normalizedPostsWithMedia\r\n      };\r\n\r\n      console.log(`🚀 Sending ${normalizedPostsWithMedia.length} posts to backend for scheduling...`);\r\n      setScheduleProgress(40); // 40% for API call start\r\n\r\n      const response = await apiClient.bulkScheduleInstagramPosts(bulkData);\r\n      setScheduleProgress(90); // 90% for API response\r\n      console.log('Bulk schedule response:', response);\r\n      if (response && response.success) {\r\n        console.log(`✅ Successfully scheduled ${response.scheduled_posts?.length || 0} posts`);\r\n        setComposerRows(prev =>\r\n          prev.map(row =>\r\n            readyRows.some(r => r.id === row.id) ? { ...row, status: 'scheduled' } : row\r\n          )\r\n        );\r\n        setScheduleProgress(100);\r\n        setScheduledGridRows(response.scheduled_posts || []);\r\n        // Redirect to InstagramPage with scheduled posts for grid display\r\n        navigate('/instagram', { state: { scheduledGridRows: response.scheduled_posts || [] } });\r\n      } else if (response && Array.isArray(response.results)) {\r\n        // Handle legacy or alternate backend response\r\n        const successCount = response.results.filter(r => r.success).length;\r\n        const failedCount = response.results.filter(r => !r.success).length;\r\n        let errorMsg = `Scheduled ${successCount} posts successfully.`;\r\n        if (failedCount > 0) {\r\n          errorMsg += `\\n${failedCount} posts failed. Check console for details.`;\r\n          response.results.forEach((result, idx) => {\r\n            if (!result.success) {\r\n              errorMsg += `\\nPost #${idx + 1}: ${result.error || result.message || 'Unknown error'}`;\r\n            }\r\n          });\r\n        }\r\n        alert(errorMsg);\r\n\r\n        // Add success notification for Instagram bulk scheduling\r\n        if (successCount > 0) {\r\n          const selectedTemplate = promptTemplates.find(t => t.prompt === strategyData.promptTemplate);\r\n          const strategyName = selectedTemplate ? selectedTemplate.name : 'Bulk Schedule';\r\n\r\n          addNotification({\r\n            type: 'success',\r\n            platform: 'instagram',\r\n            strategyName: strategyName,\r\n            message: `Successfully scheduled ${successCount} Instagram posts! You'll receive alerts 10 minutes before each post goes live.`\r\n          });\r\n        }\r\n        setComposerRows(prev =>\r\n          prev.map(row => {\r\n            const result = response.results.find(r => r.caption === row.caption && r.scheduled_date === row.scheduledDate);\r\n            if (result) {\r\n              return {\r\n                ...row,\r\n                status: result.success ? 'scheduled' : 'failed',\r\n                error: result.success ? null : (result.error || 'Unknown error')\r\n              };\r\n            }\r\n            return row;\r\n          })\r\n        );\r\n        setScheduleProgress(100);\r\n        setScheduledGridRows(response.results.filter(r => r.success));\r\n        navigate('/instagram', { state: { scheduledGridRows: response.results.filter(r => r.success) } });\r\n      } else {\r\n        let errorMsg = 'Error scheduling Instagram posts.';\r\n        if (response && response.failed_posts && response.failed_posts.length > 0) {\r\n          errorMsg += '\\nFailed posts:';\r\n          response.failed_posts.forEach(fp => {\r\n            errorMsg += `\\nPost #${fp.index + 1}: ${fp.error}`;\r\n          });\r\n        } else if (response && response.message) {\r\n          errorMsg += `\\n${response.message}`;\r\n        } else if (response && response.errorData) {\r\n          errorMsg += `\\nAPI Error: ${JSON.stringify(response.errorData)}`;\r\n        }\r\n        alert(errorMsg);\r\n        console.error('Bulk scheduling error:', response);\r\n      }\r\n    } catch (error) {\r\n      let errorMsg = 'Error scheduling Instagram posts. Please try again.';\r\n      // Check if any of the readyRows are reels\r\n      const hasReel = composerRows.filter(row => selectedRows.includes(row.id)).some(row => (row.postType || '').toLowerCase() === 'reel');\r\n      if (error && error.error === 'timeout') {\r\n        if (hasReel) {\r\n          errorMsg = 'Your reel is being processed and will be scheduled soon. Please check back in a few minutes.';\r\n        } else {\r\n          errorMsg = 'Request timed out. Video processing may take longer. Please try again or check your video file size.';\r\n        }\r\n      } else if (error && error.errorData) {\r\n        errorMsg += `\\nAPI Error: ${JSON.stringify(error.errorData)}`;\r\n      } else if (error && error.message) {\r\n        errorMsg += `\\n${error.message}`;\r\n      }\r\n      alert(errorMsg);\r\n      console.error('Bulk scheduling exception:', error);\r\n    } finally {\r\n      setIsScheduling(false);\r\n      setScheduleProgress(0);\r\n    }\r\n  };\r\n\r\n  // Calendar day click logic\r\n  const handleCalendarDateSelect = (date) => {\r\n    setStrategyData(prev => ({\r\n      ...prev,\r\n      startDate: date.toISOString().split('T')[0]\r\n    }));\r\n  };\r\n\r\n  // UI helpers\r\n  const getStatusIcon = (status) => {\r\n    switch (status) {\r\n      case 'published': return '✓';\r\n      case 'failed': return '✗';\r\n      case 'scheduled': return '⏰';\r\n      case 'ready': return '🟢';\r\n      default: return '📝';\r\n    }\r\n  };\r\n  const getStatusClass = (status) => {\r\n    switch (status) {\r\n      case 'published': return 'ig-status-published';\r\n      case 'failed': return 'ig-status-failed';\r\n      case 'scheduled': return 'ig-status-scheduled';\r\n      case 'ready': return 'ig-status-ready';\r\n      default: return 'ig-status-draft';\r\n    }\r\n  };\r\n\r\n  // Calendar helpers\r\n  const generateCalendarDays = (year, month) => {\r\n    const daysInMonth = new Date(year, month + 1, 0).getDate();\r\n    const firstDayOfMonth = new Date(year, month, 1).getDay();\r\n    const days = [];\r\n    for (let i = 0; i < firstDayOfMonth; i++) days.push({ day: null, date: null });\r\n    for (let i = 1; i <= daysInMonth; i++) {\r\n      const date = new Date(year, month, i);\r\n      days.push({ day: i, date });\r\n    }\r\n    return days;\r\n  };\r\n  const getPostsForDate = (date) => {\r\n    // Format date as YYYY-MM-DD using local date parts\r\n    const yyyy = date.getFullYear();\r\n    const mm = String(date.getMonth() + 1).padStart(2, '0');\r\n    const dd = String(date.getDate()).padStart(2, '0');\r\n    const dateString = `${yyyy}-${mm}-${dd}`;\r\n    return composerRows.filter(row => row.scheduledDate === dateString);\r\n  };\r\n\r\n  const handleRemoveCarouselImages = (rowId) => {\r\n    setComposerRows(prev =>\r\n      prev.map(r =>\r\n        r.id === rowId\r\n          ? {\r\n            ...r,\r\n            carouselImages: [],\r\n            status: 'draft' // Always reset to draft when removing images\r\n          }\r\n          : r\r\n      )\r\n    );\r\n    console.log(`🗑️ Removed carousel images for row ${rowId}`);\r\n  };\r\n\r\n  // --- RENDER ---\r\n  return (\r\n    <div className=\"ig-bulk-composer\">\r\n      <div className=\"ig-bulk-composer-header\">\r\n        <h2>Instagram Bulk Composer</h2>\r\n      </div>\r\n\r\n      <div className=\"ig-bulk-composer-content\">\r\n        {/* Strategy Step */}\r\n        <div className=\"ig-strategy-step\">\r\n          <h3>Step 1: Strategy & Schedule</h3>\r\n          <div className=\"ig-strategy-form\">\r\n\r\n            {/* Post Type Selection */}\r\n            <div className=\"ig-form-group\">\r\n              <label>Post Type</label>\r\n              <div className=\"ig-post-type-toggle\">\r\n                <button\r\n                  className={postType === 'photo' ? 'active' : ''}\r\n                  onClick={() => handlePostTypeChange('photo')}\r\n                >\r\n                  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                    <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\" />\r\n                    <circle cx=\"8.5\" cy=\"8.5\" r=\"1.5\" />\r\n                    <polyline points=\"21,15 16,10 5,21\" />\r\n                  </svg>\r\n                  Photo\r\n                </button>\r\n                <button\r\n                  className={postType === 'carousel' ? 'active' : ''}\r\n                  onClick={() => handlePostTypeChange('carousel')}\r\n                >\r\n                  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                    <rect x=\"2\" y=\"3\" width=\"20\" height=\"14\" rx=\"2\" ry=\"2\" />\r\n                    <line x1=\"8\" y1=\"21\" x2=\"16\" y2=\"21\" />\r\n                    <line x1=\"12\" y1=\"17\" x2=\"12\" y2=\"21\" />\r\n                  </svg>\r\n                  Carousel\r\n                </button>\r\n                <button\r\n                  className={postType === 'reel' ? 'active' : ''}\r\n                  onClick={() => handlePostTypeChange('reel')}\r\n                >\r\n                  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                    <polygon points=\"23 7 16 12 23 17 23 7\" />\r\n                    <rect x=\"1\" y=\"5\" width=\"15\" height=\"14\" rx=\"2\" ry=\"2\" />\r\n                  </svg>\r\n                  Reel\r\n                </button>\r\n              </div>\r\n\r\n              {/* Carousel Image Count */}\r\n              {postType === 'carousel' && (\r\n                <div className=\"ig-form-group\">\r\n                  <label>Number of Images: {carouselImageCount}</label>\r\n                  <input\r\n                    type=\"range\"\r\n                    min=\"2\"\r\n                    max=\"7\"\r\n                    value={carouselImageCount}\r\n                    onChange={(e) => handleCarouselImageCountChange(parseInt(e.target.value))}\r\n                    className=\"ig-slider\"\r\n                  />\r\n                  <div className=\"ig-slider-labels\">\r\n                    <span>2</span>\r\n                    <span>3</span>\r\n                    <span>4</span>\r\n                    <span>5</span>\r\n                    <span>6</span>\r\n                    <span>7</span>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* AI Image Prompt */}\r\n\r\n            </div>\r\n            <div className=\"ig-form-group\">\r\n              <label>Strategy Template</label>\r\n              <select\r\n                value={strategyData.promptTemplate}\r\n                onChange={(e) => handleStrategyChange('promptTemplate', e.target.value)}\r\n                className=\"ig-form-select\"\r\n              >\r\n                <option value=\"\">Select a template...</option>\r\n                {promptTemplates.map(template => (\r\n                  <option key={template.id} value={template.prompt}>\r\n                    {template.name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            {strategyData.promptTemplate === 'custom' && (\r\n              <div className=\"ig-form-group\">\r\n                <label>Brand Information</label>\r\n                <div className=\"ig-form-row\">\r\n                  <div className=\"ig-form-group\">\r\n                    <input\r\n                      type=\"text\"\r\n                      value={strategyData.brandName}\r\n                      onChange={(e) => handleStrategyChange('brandName', e.target.value)}\r\n                      placeholder=\"Brand Name\"\r\n                      className=\"ig-form-input\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"ig-form-group\">\r\n                    <input\r\n                      type=\"text\"\r\n                      value={strategyData.hookIdea}\r\n                      onChange={(e) => handleStrategyChange('hookIdea', e.target.value)}\r\n                      placeholder=\"Hook Idea (e.g., Tired of the shore?)\"\r\n                      className=\"ig-form-input\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"ig-form-group\">\r\n                  <label>Features (one per line)</label>\r\n                  <textarea\r\n                    value={strategyData.features}\r\n                    onChange={(e) => handleStrategyChange('features', e.target.value)}\r\n                    placeholder=\"✅ Feature 1\\n✅ Feature 2\\n✅ Feature 3\"\r\n                    className=\"ig-form-input\"\r\n                    rows=\"3\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"ig-form-row\">\r\n                  <div className=\"ig-form-group\">\r\n                    <input\r\n                      type=\"text\"\r\n                      value={strategyData.location}\r\n                      onChange={(e) => handleStrategyChange('location', e.target.value)}\r\n                      placeholder=\"Location\"\r\n                      className=\"ig-form-input\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"ig-form-group\">\r\n                    <input\r\n                      type=\"text\"\r\n                      value={strategyData.phone}\r\n                      onChange={(e) => handleStrategyChange('phone', e.target.value)}\r\n                      placeholder=\"Phone Number\"\r\n                      className=\"ig-form-input\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"ig-form-group\">\r\n                  <input\r\n                    type=\"text\"\r\n                    value={strategyData.website}\r\n                    onChange={(e) => handleStrategyChange('website', e.target.value)}\r\n                    placeholder=\"Website URL\"\r\n                    className=\"ig-form-input\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"ig-form-group\">\r\n                  <textarea\r\n                    value={strategyData.callToAction}\r\n                    onChange={(e) => handleStrategyChange('callToAction', e.target.value)}\r\n                    placeholder=\"Call to Action (e.g., Book your appointment today!)\"\r\n                    className=\"ig-form-input\"\r\n                    rows=\"2\"\r\n                  />\r\n                </div>\r\n\r\n                <small className=\"ig-form-help\">\r\n                  This information will be used to generate captions that follow your brand's style and approach.\r\n                </small>\r\n              </div>\r\n            )}\r\n            <div className=\"ig-form-row\">\r\n              <div className=\"ig-form-group\">\r\n                <label>Start Date</label>\r\n                <input\r\n                  type=\"date\"\r\n                  value={strategyData.startDate}\r\n                  onChange={(e) => handleStrategyChange('startDate', e.target.value)}\r\n                  className=\"ig-form-input\"\r\n                />\r\n              </div>\r\n              <div className=\"ig-form-group\">\r\n                <label>End Date (Optional)</label>\r\n                <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\r\n                  <input\r\n                    type=\"date\"\r\n                    value={strategyData.endDate}\r\n                    onChange={(e) => handleStrategyChange('endDate', e.target.value)}\r\n                    className=\"ig-form-input\"\r\n                    min={strategyData.startDate}\r\n                    disabled={!strategyData.startDate}\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => handleStrategyChange('endDate', '')}\r\n                    className=\"ig-btn ig-btn-secondary ig-btn-small\"\r\n                    disabled={!strategyData.endDate}\r\n                    title=\"Clear end date (single day schedule)\"\r\n                  >\r\n                    <svg width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                      <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" />\r\n                      <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\r\n                    </svg>\r\n                    Clear\r\n                  </button>\r\n                </div>\r\n                <small className=\"ig-form-help\">\r\n                  Leave empty for single day schedule\r\n                </small>\r\n              </div>\r\n              <div className=\"ig-form-group\">\r\n                <label>Frequency</label>\r\n                <select\r\n                  value={strategyData.frequency}\r\n                  onChange={(e) => handleStrategyChange('frequency', e.target.value)}\r\n                  className=\"ig-form-select\"\r\n                >\r\n                  <option value=\"daily\">Daily</option>\r\n                  <option value=\"weekly\">Weekly</option>\r\n                  <option value=\"monthly\">Monthly</option>\r\n                  <option value=\"custom\">Custom Cron</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"ig-form-group\">\r\n                <label>Time Slot</label>\r\n                <input\r\n                  type=\"time\"\r\n                  value={strategyData.timeSlot}\r\n                  onChange={(e) => handleStrategyChange('timeSlot', e.target.value)}\r\n                  className=\"ig-form-input\"\r\n                />\r\n              </div>\r\n            </div>\r\n            {strategyData.frequency === 'custom' && (\r\n              <div className=\"ig-form-group\">\r\n                <label>Custom Cron Expression</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={strategyData.customCron}\r\n                  onChange={(e) => handleStrategyChange('customCron', e.target.value)}\r\n                  placeholder=\"0 9 * * * (daily at 9 AM)\"\r\n                  className=\"ig-form-input\"\r\n                />\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Calendar Preview */}\r\n        <div className=\"ig-calendar-preview-section\">\r\n          <h3>Calendar Preview</h3>\r\n          <div className=\"ig-calendar-container\">\r\n            <div className=\"ig-calendar-header\">\r\n              <button\r\n                onClick={() => setCurrentMonth(prev => new Date(prev.getFullYear(), prev.getMonth() - 1))}\r\n                className=\"ig-btn ig-btn-secondary ig-btn-small\"\r\n              >\r\n                ←\r\n              </button>\r\n              <h4>{currentMonth.toLocaleDateString('en-US', { month: 'long', year: 'numeric' })}</h4>\r\n              <button\r\n                onClick={() => setCurrentMonth(prev => new Date(prev.getFullYear(), prev.getMonth() + 1))}\r\n                className=\"ig-btn ig-btn-secondary ig-btn-small\"\r\n              >\r\n                →\r\n              </button>\r\n            </div>\r\n            <div className=\"ig-calendar-grid\">\r\n              {['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'].map(day => (\r\n                <div key={day} className=\"ig-calendar-day-header\">{day}</div>\r\n              ))}\r\n              {generateCalendarDays(currentMonth.getFullYear(), currentMonth.getMonth()).map((day, index) => (\r\n                <div\r\n                  key={index}\r\n                  className={`ig-calendar-day ${day.date ? 'clickable' : ''} ${day.date && getPostsForDate(day.date).length > 0 ? 'has-posts' : ''}`}\r\n                  onClick={() => day.date && handleCalendarDateSelect(day.date)}\r\n                >\r\n                  <span className=\"ig-day-number\">{day.day}</span>\r\n                  {day.date && getPostsForDate(day.date).length > 0 && (\r\n                    <div className=\"ig-post-indicators\">\r\n                      {getPostsForDate(day.date).map((post, postIndex) => (\r\n                        <div\r\n                          key={postIndex}\r\n                          className=\"ig-post-dot\"\r\n                          title={`${post.scheduledTime} - ${(post.caption || '').substring(0, 30)}...`}\r\n                        />\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Composer Grid */}\r\n        <div className=\"ig-composer-grid-section\">\r\n          <div className=\"ig-composer-header\">\r\n            <h3>Step 2: Content Grid</h3>\r\n            <div className=\"ig-composer-controls\">\r\n              <button\r\n                onClick={() => {\r\n                  const newRow = {\r\n                    id: `row-${Date.now()}-${Math.random()}`,\r\n                    caption: '',\r\n                    postType: postType.toLowerCase(),\r\n                    mediaFile: null,\r\n                    mediaPreview: null,\r\n                    carouselImages: postType === 'carousel' ? [] : null,\r\n                    carouselImageCount: postType === 'carousel' ? carouselImageCount : null,\r\n                    scheduledDate: new Date().toISOString().split('T')[0],\r\n                    scheduledTime: strategyData.timeSlot,\r\n                    status: 'draft',\r\n                    isSelected: false\r\n                  };\r\n                  setComposerRows(prev => [...prev, newRow]);\r\n                }}\r\n                className=\"ig-control-btn ig-control-btn-primary\"\r\n              >\r\n                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                  <line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\" />\r\n                  <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\" />\r\n                </svg>\r\n                Add Row\r\n              </button>\r\n              <button\r\n                onClick={handleSelectAll}\r\n                className=\"ig-control-btn ig-control-btn-secondary\"\r\n              >\r\n                {selectedRows.length === composerRows.length ? (\r\n                  <>\r\n                    Deselect All\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    Select All\r\n                  </>\r\n                )}\r\n              </button>\r\n              <button\r\n                onClick={handleBulkDelete}\r\n                disabled={selectedRows.length === 0}\r\n                className=\"ig-control-btn ig-control-btn-danger\"\r\n              >\r\n                <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                  <polyline points=\"3,6 5,6 21,6\" />\r\n                  <path d=\"M19,6v14a2,2 0 0,1-2,2H7a2,2 0 0,1-2-2V6m3,0V4a2,2 0 0,1,2-2h4a2,2 0 0,1,2,2v2\" />\r\n                </svg>\r\n              </button>\r\n              <button\r\n                className=\"ig-control-btn ig-control-btn-primary ig-control-btn-featured\"\r\n                onClick={handleGenerateAllCaptions}\r\n                disabled={composerRows.length === 0 || selectedRows.length === 0}\r\n              >\r\n                <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                  <path d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\" />\r\n                  <polyline points=\"14,2 14,8 20,8\" />\r\n                  <line x1=\"14\" y1=\"13\" x2=\"8\" y2=\"13\" />\r\n                  <line x1=\"14\" y1=\"17\" x2=\"8\" y2=\"17\" />\r\n                </svg>\r\n                Generate Captions\r\n              </button>\r\n              <button\r\n                className=\"ig-control-btn ig-control-btn-secondary ig-control-btn-featured\"\r\n                onClick={handleGenerateAllImages}\r\n                disabled={composerRows.length === 0 || selectedRows.length === 0}\r\n              >\r\n                <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                  <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\" />\r\n                </svg>\r\n                Generate Images\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"ig-composer-grid-container\">\r\n            <div className=\"ig-composer-grid\" ref={gridRef}>\r\n              <div className=\"ig-grid-header ig-grid-row\">\r\n                <div className=\"ig-grid-cell ig-header-cell\"></div>\r\n                <div className=\"ig-grid-cell ig-header-cell\">Caption</div>\r\n                <div className=\"ig-grid-cell ig-header-cell\">Media</div>\r\n                <div className=\"ig-grid-cell ig-header-cell\">Date</div>\r\n                <div className=\"ig-grid-cell ig-header-cell\">Time</div>\r\n                <div className=\"ig-grid-cell ig-header-cell\">Status</div>\r\n              </div>\r\n              <div className=\"ig-grid-body\">\r\n                {composerRows.map((row, index) => (\r\n                  <div\r\n                    key={row.id}\r\n                    className={`ig-grid-row ${row.isSelected ? 'selected' : ''}`}\r\n                    draggable\r\n                    onDragStart={() => handleDragStart(row.id)}\r\n                    onDragOver={handleDragOver}\r\n                    onDrop={() => handleDrop(row.id)}\r\n                  >\r\n                    <div className=\"ig-grid-cell\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={selectedRows.includes(row.id)}\r\n                        onChange={() => handleRowSelect(row.id)}\r\n                      />\r\n                    </div>\r\n                    <div className=\"ig-grid-cell ig-caption-cell\">\r\n                      <div className=\"caption-container\">\r\n                        <textarea\r\n                          value={row.caption}\r\n                          onChange={(e) => handleCellEdit(row.id, 'caption', e.target.value)}\r\n                          placeholder=\"Enter your Instagram post caption...\"\r\n                          className=\"ig-caption-input\"\r\n                          rows=\"3\"\r\n                        />\r\n                        <button\r\n                          onClick={() => handleExpandCaption(row.id)}\r\n                          className=\"expand-btn\"\r\n                          title=\"Expand caption\"\r\n                        >\r\n                          <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                            <path d=\"M15 3h6v6\" />\r\n                            <path d=\"M9 21H3v-6\" />\r\n                            <path d=\"M21 3l-7 7\" />\r\n                            <path d=\"M3 21l7-7\" />\r\n                          </svg>\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"ig-grid-cell ig-media-cell\">\r\n                      <div className=\"ig-media-options\">\r\n                        {/* Show upload options when no media is uploaded yet */}\r\n                        {!row.mediaPreview && !row.mediaFile && (!row.carouselImages || row.carouselImages.length === 0) ? (\r\n                          <div className=\"ig-media-option-group\">\r\n                            {/* Photo/Reel Upload */}\r\n                            {(row.postType === 'photo' || row.postType === 'reel') && (\r\n                              <>\r\n                                <input\r\n                                  type=\"file\"\r\n                                  accept={row.postType === 'photo' ? \"image/*\" : \"video/*\"}\r\n                                  onChange={(e) => handleMediaUpload(row.id, e)}\r\n                                  className=\"ig-media-input\"\r\n                                  id={`ig-media-upload-${row.id}`}\r\n                                />\r\n                                <label htmlFor={`ig-media-upload-${row.id}`} className=\"ig-media-option-btn upload-btn\">\r\n                                  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                    <path d=\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\" />\r\n                                    <polyline points=\"7,10 12,15 17,10\" />\r\n                                    <line x1=\"12\" y1=\"15\" x2=\"12\" y2=\"3\" />\r\n                                  </svg>\r\n                                  Upload {row.postType === 'photo' ? 'Image' : 'Video'}\r\n                                </label>\r\n                              </>\r\n                            )}\r\n\r\n                            {/* Disabled Thumbnail Upload for Reels (Video Required First) */}\r\n                            {row.postType === 'reel' && (\r\n                              <div className=\"ig-media-option-btn upload-btn thumbnail-btn disabled\" title=\"Please upload a video first\">\r\n                                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                  <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\" />\r\n                                  <circle cx=\"8.5\" cy=\"8.5\" r=\"1.5\" />\r\n                                  <polyline points=\"21,15 16,10 5,21\" />\r\n                                </svg>\r\n                                Upload Thumbnail (Video Required First)\r\n                              </div>\r\n                            )}\r\n\r\n                            {/* AI Generation for Photo */}\r\n                            {row.postType === 'photo' && (\r\n                              <button\r\n                                onClick={() => handleGenerateMedia(row.id)}\r\n                                className=\"ig-media-option-btn generate-btn\"\r\n                              >\r\n                                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                  <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\" />\r\n                                </svg>\r\n                                Generate\r\n                              </button>\r\n                            )}\r\n\r\n                            {/* AI Generation for Reel */}\r\n                            {row.postType === 'reel' && (\r\n                              <button\r\n                                onClick={() => handleGenerateMedia(row.id)}\r\n                                className=\"ig-media-option-btn generate-btn\"\r\n                                disabled={true}\r\n                                title=\"AI video generation not yet available\"\r\n                              >\r\n                                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                  <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\" />\r\n                                </svg>\r\n                                Generate (Coming Soon)\r\n                              </button>\r\n                            )}\r\n\r\n                            {/* Carousel Options */}\r\n                            {row.postType === 'carousel' && (\r\n                              <>\r\n                                <button\r\n                                  onClick={() => handleGenerateCarousel(row.id)}\r\n                                  className=\"ig-media-option-btn generate-btn\"\r\n                                >\r\n                                  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                    <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\" />\r\n                                  </svg>\r\n                                  Generate {row.carouselImageCount || 3} Images\r\n                                </button>\r\n                                <input\r\n                                  key={`ig-carousel-upload-${row.id}`}\r\n                                  type=\"file\"\r\n                                  accept=\"image/*\"\r\n                                  multiple\r\n                                  ref={el => carouselInputRefs.current[row.id] = el}\r\n                                  onChange={(e) => handleCarouselUpload(row.id, e)}\r\n                                  className=\"ig-media-input\"\r\n                                  id={`ig-carousel-upload-${row.id}`}\r\n                                />\r\n                                <label htmlFor={`ig-carousel-upload-${row.id}`} className=\"ig-media-option-btn upload-btn\">\r\n                                  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                    <path d=\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\" />\r\n                                    <polyline points=\"7,10 12,15 17,10\" />\r\n                                    <line x1=\"12\" y1=\"15\" x2=\"12\" y2=\"3\" />\r\n                                  </svg>\r\n                                  Upload {row.carouselImageCount || 3} Images\r\n                                </label>\r\n                              </>\r\n                            )}\r\n                          </div>\r\n                        ) : (\r\n                          /* Show media preview and additional options after upload */\r\n                          <div className=\"ig-media-preview-container\">\r\n                            {/* Thumbnail Upload for Reels - ONLY show after video is uploaded */}\r\n                            {row.postType === 'reel' && (row.mediaPreview || row.mediaFile) && (\r\n                              <div className=\"ig-reel-thumbnail-upload-section\">\r\n                                <input\r\n                                  type=\"file\"\r\n                                  accept=\"image/*\"\r\n                                  onChange={(e) => handleThumbnailUpload(row.id, e)}\r\n                                  className=\"ig-media-input\"\r\n                                  id={`ig-thumbnail-upload-${row.id}`}\r\n                                  disabled={row.thumbnailUploading}\r\n                                />\r\n                                <label\r\n                                  htmlFor={`ig-thumbnail-upload-${row.id}`}\r\n                                  className={`ig-media-option-btn upload-btn thumbnail-btn ${row.thumbnailUploading ? 'uploading' : ''}`}\r\n                                >\r\n                                  {row.thumbnailUploading ? (\r\n                                    <>\r\n                                      <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" className=\"spinning\">\r\n                                        <path d=\"M21 12a9 9 0 11-6.219-8.56\" />\r\n                                      </svg>\r\n                                      Uploading...\r\n                                    </>\r\n                                  ) : (\r\n                                    <>\r\n                                      <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                        <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\" />\r\n                                        <circle cx=\"8.5\" cy=\"8.5\" r=\"1.5\" />\r\n                                        <polyline points=\"21,15 16,10 5,21\" />\r\n                                      </svg>\r\n                                      {row.thumbnailPreview ? 'Change Thumbnail' : 'Upload Thumbnail (Optional)'}\r\n                                    </>\r\n                                  )}\r\n                                </label>\r\n                              </div>\r\n                            )}\r\n\r\n                            {/* Media Preview */}\r\n                            <div className=\"ig-media-preview\">\r\n                              {/* Carousel Preview */}\r\n                              {row.postType === 'carousel' && row.carouselImages && row.carouselImages.length > 0 ? (\r\n                                <div className=\"ig-carousel-preview\">\r\n                                  <div className=\"ig-carousel-grid\">\r\n                                    {row.carouselImages.slice(0, row.carouselImageCount || 3).map((url, index) => (\r\n                                      <div key={index} className=\"ig-carousel-item\">\r\n                                        <img src={url} alt={`Carousel ${index + 1}`} />\r\n                                        <span className=\"ig-carousel-number\">{index + 1}</span>\r\n                                      </div>\r\n                                    ))}\r\n                                  </div>\r\n                                  <div className=\"ig-carousel-info\">\r\n                                    <div className=\"ig-carousel-status\">\r\n                                      {row.carouselImages.length} / {row.carouselImageCount || 3} images\r\n                                      {row.carouselImages.length < 3 && (\r\n                                        <span className=\"ig-carousel-warning\">⚠️ Need at least 3 images</span>\r\n                                      )}\r\n                                      {row.carouselImages.length >= 3 && (\r\n                                        <span className=\"ig-carousel-success\">✅ Ready</span>\r\n                                      )}\r\n                                    </div>\r\n                                    <button\r\n                                      onClick={() => handleRemoveCarouselImages(row.id)}\r\n                                      className=\"ig-btn ig-btn-danger ig-btn-small\"\r\n                                      disabled={row.carouselImages.length === 0}\r\n                                      title=\"Remove all carousel images\"\r\n                                    >\r\n                                      <svg width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                        <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" />\r\n                                        <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\r\n                                      </svg>\r\n                                      Remove All\r\n                                    </button>\r\n                                  </div>\r\n                                </div>\r\n                              ) : (\r\n                                /* Single Media Preview */\r\n                                <>\r\n                                  {row.postType === 'reel' ? (\r\n                                    <div className=\"ig-reel-preview\">\r\n                                      <div className=\"ig-reel-video\">\r\n                                        <video src={row.mediaPreview} controls />\r\n                                        <span className=\"ig-reel-label\">Reel Video</span>\r\n                                        <div className=\"ig-reel-video-actions\">\r\n                                          <button\r\n                                            onClick={() => handleViewMedia(row.id)}\r\n                                            className=\"ig-reel-video-view\"\r\n                                            title=\"View video\"\r\n                                          >\r\n                                            <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                              <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\" />\r\n                                              <circle cx=\"12\" cy=\"12\" r=\"3\" />\r\n                                            </svg>\r\n                                          </button>\r\n                                          <button\r\n                                            onClick={() => handleRemoveMedia(row.id)}\r\n                                            className=\"ig-reel-video-close\"\r\n                                            title=\"Remove video\"\r\n                                          >\r\n                                            <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                              <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" />\r\n                                              <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\r\n                                            </svg>\r\n                                          </button>\r\n                                        </div>\r\n                                      </div>\r\n                                      {row.thumbnailPreview && (\r\n                                        <div className={`ig-reel-thumbnail ${row.thumbnailUrl ? 'uploaded' : ''}`} style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\r\n                                          <img src={row.thumbnailPreview} alt=\"Thumbnail\" />\r\n                                          <label htmlFor={`ig-thumbnail-upload-${row.id}`} style={{ cursor: 'pointer', marginLeft: '0.5rem', display: 'flex', alignItems: 'center' }} title=\"Change Thumbnail\">\r\n                                            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                              <path d=\"M12 20h9\" />\r\n                                              <path d=\"M16.5 3.5a2.121 2.121 0 1 1 3 3L7 19l-4 1 1-4 12.5-12.5z\" />\r\n                                            </svg>\r\n                                          </label>\r\n                                          <input\r\n                                            type=\"file\"\r\n                                            accept=\"image/*\"\r\n                                            onChange={(e) => handleThumbnailUpload(row.id, e)}\r\n                                            className=\"ig-media-input\"\r\n                                            id={`ig-thumbnail-upload-${row.id}`}\r\n                                            disabled={row.thumbnailUploading}\r\n                                            style={{ display: 'none' }}\r\n                                          />\r\n                                          <button\r\n                                            onClick={() => handleRemoveThumbnail(row.id)}\r\n                                            className=\"ig-reel-thumbnail-close\"\r\n                                            title=\"Remove thumbnail\"\r\n                                          >\r\n                                            <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                              <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" />\r\n                                              <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\r\n                                            </svg>\r\n                                          </button>\r\n                                        </div>\r\n                                      )}\r\n                                    </div>\r\n                                  ) : row.mediaFile?.type?.startsWith('image/') ? (\r\n                                    <img src={row.mediaPreview} alt=\"Preview\" />\r\n                                  ) : (\r\n                                    <video src={row.mediaPreview} controls />\r\n                                  )}\r\n                                </>\r\n                              )}\r\n\r\n\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"ig-grid-cell ig-date-cell\">\r\n                      <input\r\n                        type=\"date\"\r\n                        value={row.scheduledDate}\r\n                        onChange={(e) => handleCellEdit(row.id, 'scheduledDate', e.target.value)}\r\n                        className=\"ig-date-input\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"ig-grid-cell ig-time-cell\">\r\n                      <input\r\n                        type=\"time\"\r\n                        value={row.scheduledTime}\r\n                        onChange={(e) => handleCellEdit(row.id, 'scheduledTime', e.target.value)}\r\n                        className=\"ig-time-input\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"ig-grid-cell ig-status-cell\">\r\n                      <span className={`ig-status-badge ${getStatusClass(row.status)}`}>\r\n                        {getStatusIcon(row.status)} {row.status}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Queue Confirmation */}\r\n        <div className=\"ig-queue-confirmation\">\r\n          <h3>Step 3: Schedule & Publish</h3>\r\n          <div className=\"ig-confirmation-stats\">\r\n            <div className=\"ig-stat-item\">\r\n              <span className=\"ig-stat-label\">Total Posts:</span>\r\n              <span className=\"ig-stat-value\">{composerRows.length}</span>\r\n            </div>\r\n            <div className=\"ig-stat-item\">\r\n              <span className=\"ig-stat-label\">With Captions:</span>\r\n              <span className=\"ig-stat-value\">{composerRows.filter(row => (row.caption || '').trim()).length}</span>\r\n            </div>\r\n            <div className=\"ig-stat-item\">\r\n              <span className=\"ig-stat-label\">Ready to Schedule:</span>\r\n              <span className=\"ig-stat-value\">{composerRows.filter(row => row.status === 'ready').length}</span>\r\n            </div>\r\n            <div className=\"ig-stat-item\">\r\n              <span className=\"ig-stat-label\">With Media:</span>\r\n              <span className=\"ig-stat-value\">{composerRows.filter(row => row.mediaFile || row.mediaPreview).length}</span>\r\n            </div>\r\n          </div>\r\n          {isScheduling && (\r\n            <div className=\"ig-schedule-progress\">\r\n              <div className=\"ig-progress-bar\">\r\n                <div\r\n                  className=\"ig-progress-fill\"\r\n                  style={{ width: `${scheduleProgress}%` }}\r\n                />\r\n              </div>\r\n              <span className=\"ig-progress-text\">Scheduling Instagram posts... {Math.round(scheduleProgress)}%</span>\r\n            </div>\r\n          )}\r\n          <div className=\"ig-confirmation-actions\">\r\n            <button\r\n              onClick={handleScheduleAll}\r\n              disabled={isScheduling || composerRows.filter(row => row.status === 'ready').length === 0}\r\n              className=\"ig-btn ig-btn-primary ig-btn-large\"\r\n            >\r\n              {isScheduling ? (\r\n                <>\r\n                  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                    <path d=\"M21 12a9 9 0 11-6.219-8.56\" />\r\n                  </svg>\r\n                  Scheduling...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                    <circle cx=\"12\" cy=\"12\" r=\"10\" />\r\n                    <polyline points=\"12,6 12,12 16,14\" />\r\n                  </svg>\r\n                  Schedule Ready Posts ({composerRows.filter(row => row.status === 'ready').length})\r\n                </>\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Expanded Caption Modal */}\r\n      {expandedCaption && (\r\n        <div className=\"modal-overlay\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h3>Edit Caption</h3>\r\n              <button\r\n                onClick={() => setExpandedCaption(null)}\r\n                className=\"modal-close\"\r\n              >\r\n                ×\r\n              </button>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              <div className=\"caption-info\">\r\n                <p><strong>Scheduled:</strong> {expandedCaption.scheduledDate} at {expandedCaption.scheduledTime}</p>\r\n              </div>\r\n              <textarea\r\n                value={expandedCaption.caption}\r\n                onChange={(e) => setExpandedCaption(prev => ({ ...prev, caption: e.target.value }))}\r\n                className=\"expanded-caption-textarea\"\r\n                rows=\"10\"\r\n                placeholder=\"Enter your caption...\"\r\n              />\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n              <button\r\n                onClick={() => setExpandedCaption(null)}\r\n                className=\"ig-btn ig-btn-secondary\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={() => handleSaveExpandedCaption(expandedCaption.id, expandedCaption.caption)}\r\n                className=\"ig-btn ig-btn-primary\"\r\n              >\r\n                Save Changes\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Media Preview Modal */}\r\n      {mediaPreviewModal && (\r\n        <div className=\"modal-overlay\">\r\n          <div className=\"modal-content media-preview-modal\">\r\n            <div className=\"modal-header\">\r\n              <h3>Media Preview</h3>\r\n              <button\r\n                onClick={() => setMediaPreviewModal(null)}\r\n                className=\"modal-close\"\r\n              >\r\n                ×\r\n              </button>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              {mediaPreviewModal.mediaFile?.type?.startsWith('image/') || (!mediaPreviewModal.mediaFile && mediaPreviewModal.mediaPreview) ? (\r\n                <img\r\n                  src={mediaPreviewModal.mediaPreview}\r\n                  alt=\"Media preview\"\r\n                  className=\"modal-media\"\r\n                />\r\n              ) : (\r\n                <video\r\n                  src={mediaPreviewModal.mediaPreview}\r\n                  controls\r\n                  className=\"modal-media\"\r\n                />\r\n              )}\r\n              {mediaPreviewModal.caption && (\r\n                <div className=\"modal-caption\">\r\n                  <h4>Caption:</h4>\r\n                  <p>{mediaPreviewModal.caption}</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n              <button\r\n                onClick={() => setMediaPreviewModal(null)}\r\n                className=\"ig-btn ig-btn-primary\"\r\n              >\r\n                Close\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default IgBulkComposer; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}