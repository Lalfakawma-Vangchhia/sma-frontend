{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\THORSIGNIA\\\\Projects\\\\automation-dash\\\\frontend\\\\src\\\\components\\\\FacebookPage.js\",\n  _s = $RefreshSig$();\n/* eslint-disable no-undef */\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport apiClient from '../services/apiClient';\nimport { fileToBase64, loadFacebookSDK } from './FacebookUtils';\nimport BulkComposer from './BulkComposer';\nimport './FacebookPage.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction FacebookPage() {\n  _s();\n  var _selectedPage$followe, _autoReplyMessageRule;\n  const navigate = useNavigate();\n  const {\n    logout\n  } = useAuth();\n\n  // Core state\n  const [isConnecting, setIsConnecting] = useState(false);\n  const [connectionStatus, setConnectionStatus] = useState('');\n  const [selectedPage, setSelectedPage] = useState(null);\n  const [availablePages, setAvailablePages] = useState([]);\n  const [facebookConnected, setFacebookConnected] = useState(false);\n  const [activeTab, setActiveTab] = useState('auto');\n  const [isLoggingOut, setIsLoggingOut] = useState(false);\n  const [isCheckingStatus, setIsCheckingStatus] = useState(true);\n\n  // Form states\n  const [autoFormData, setAutoFormData] = useState({\n    prompt: '',\n    mediaType: 'none',\n    mediaFile: null,\n    generatedContent: '',\n    isGenerating: false,\n    imagePrompt: '',\n    generatedImageUrl: null,\n    generatedImageFilename: null,\n    isGeneratingImage: false\n  });\n  const [manualFormData, setManualFormData] = useState({\n    message: '',\n    mediaType: 'none',\n    mediaFile: null\n  });\n\n  // UI states\n  const [isPublishing, setIsPublishing] = useState(false);\n  const [autoPostHistory, setAutoPostHistory] = useState([]);\n  const [manualPostHistory, setManualPostHistory] = useState([]);\n  const [isLoadingPosts, setIsLoadingPosts] = useState(false);\n  const [showBulkComposer, setShowBulkComposer] = useState(false);\n  const [showAutomate, setShowAutomate] = useState(false); // <-- Add this line\n  const [autoReplyMessagesEnabled, setAutoReplyMessagesEnabled] = useState(true); // Default ON\n  const [autoReplyMessagesLoading, setAutoReplyMessagesLoading] = useState(false);\n  const [autoReplyMessagesError, setAutoReplyMessagesError] = useState(null);\n\n  // File picker modal states\n  const [showFilePicker, setShowFilePicker] = useState(false);\n  const [filePickerType, setFilePickerType] = useState(''); // 'photo' or 'video'\n  const [filePickerFormType, setFilePickerFormType] = useState(''); // 'auto' or 'manual'\n  const [isLoadingGoogleDrive, setIsLoadingGoogleDrive] = useState(false);\n  const [googleDriveAvailable, setGoogleDriveAvailable] = useState(false);\n\n  // Add this state for scheduleData\n  const [scheduleData, setScheduleData] = useState({\n    prompt: '',\n    time: '',\n    frequency: 'daily',\n    customDate: '',\n    isActive: false,\n    scheduleId: null\n  });\n\n  // Add new state for auto-reply message rule\n  const [autoReplyMessageRule, setAutoReplyMessageRule] = useState(null);\n\n  // Add missing autoReplySettings state\n  // eslint-disable-next-line no-unused-vars\n  const [autoReplySettings, setAutoReplySettings] = useState({\n    enabled: false,\n    template: 'Thank you for your comment! We appreciate your engagement. 😊',\n    ruleId: null,\n    selectedPostIds: []\n  });\n  const FACEBOOK_APP_ID = process.env.REACT_APP_FACEBOOK_APP_ID || '697225659875731';\n\n  // Mobile detection utility\n  const isMobile = () => window.innerWidth <= 768;\n  const loadAutoReplySettings = useCallback(async () => {\n    if (!selectedPage) return;\n    try {\n      console.log('🔄 Loading auto-reply settings for page:', selectedPage.id, selectedPage.name);\n\n      // Get automation rules for Facebook auto-reply\n      const rules = await apiClient.getAutomationRules('facebook', 'AUTO_REPLY');\n      console.log('📋 Found automation rules:', rules);\n\n      // Get social accounts to match with the selected page\n      const socialAccounts = await apiClient.getSocialAccounts();\n      const facebookAccounts = socialAccounts.filter(acc => acc.platform === 'facebook' && acc.is_connected);\n      console.log('👥 Facebook accounts:', facebookAccounts);\n\n      // Find the social account that matches the selected page\n      const matchingAccount = facebookAccounts.find(acc => acc.platform_user_id === selectedPage.id);\n      console.log('🎯 Matching account:', matchingAccount);\n      if (matchingAccount) {\n        // Find the auto-reply rule for this specific social account\n        const autoReplyRule = rules.find(rule => rule.social_account_id === matchingAccount.id);\n        console.log('🤖 Auto-reply rule found:', autoReplyRule);\n        if (autoReplyRule) {\n          var _autoReplyRule$action3, _autoReplyRule$action4;\n          setAutoReplySettings(prev => {\n            var _autoReplyRule$action, _autoReplyRule$action2;\n            return {\n              ...prev,\n              enabled: autoReplyRule.is_active,\n              template: ((_autoReplyRule$action = autoReplyRule.actions) === null || _autoReplyRule$action === void 0 ? void 0 : _autoReplyRule$action.response_template) || prev.template,\n              ruleId: autoReplyRule.id,\n              selectedPostIds: ((_autoReplyRule$action2 = autoReplyRule.actions) === null || _autoReplyRule$action2 === void 0 ? void 0 : _autoReplyRule$action2.selected_post_ids) || []\n            };\n          });\n          console.log('✅ Auto-reply settings loaded:', {\n            enabled: autoReplyRule.is_active,\n            template: (_autoReplyRule$action3 = autoReplyRule.actions) === null || _autoReplyRule$action3 === void 0 ? void 0 : _autoReplyRule$action3.response_template,\n            ruleId: autoReplyRule.id,\n            selectedPostIds: (_autoReplyRule$action4 = autoReplyRule.actions) === null || _autoReplyRule$action4 === void 0 ? void 0 : _autoReplyRule$action4.selected_post_ids\n          });\n        } else {\n          // Reset to default state if no rule found\n          setAutoReplySettings(prev => ({\n            ...prev,\n            enabled: false,\n            template: 'Thank you for your comment! We appreciate your engagement. 😊',\n            ruleId: null,\n            selectedPostIds: []\n          }));\n          console.log('❌ No auto-reply rule found, using defaults');\n        }\n      } else {\n        // No matching account found, reset to default\n        setAutoReplySettings(prev => ({\n          ...prev,\n          enabled: false,\n          template: 'Thank you for your comment! We appreciate your engagement. 😊',\n          ruleId: null,\n          selectedPostIds: []\n        }));\n        console.log('❌ No matching account found, using defaults');\n      }\n    } catch (error) {\n      console.error('❌ Error loading auto-reply settings:', error);\n      // Keep current state on error\n    }\n  }, [selectedPage]);\n  const checkExistingFacebookConnections = useCallback(async () => {\n    try {\n      setIsCheckingStatus(true);\n      const response = await apiClient.getFacebookStatus();\n      if (response.connected) {\n        setFacebookConnected(true);\n        let socialAccounts = [];\n        let facebookAccounts = [];\n        try {\n          socialAccounts = await apiClient.getSocialAccounts();\n          facebookAccounts = socialAccounts.filter(acc => acc.platform === 'facebook' && acc.is_connected);\n        } catch (accountsError) {\n          console.warn('Failed to fetch social accounts:', accountsError);\n        }\n        const pagesFromBackend = response.accounts.pages.map(page => {\n          const matchingAccount = facebookAccounts.find(acc => acc.platform_user_id === page.platform_id);\n          return {\n            id: page.platform_id,\n            internalId: matchingAccount === null || matchingAccount === void 0 ? void 0 : matchingAccount.id,\n            name: page.name,\n            category: page.category,\n            access_token: '',\n            profilePicture: page.profile_picture || '',\n            canPost: page.can_post,\n            canComment: page.can_comment,\n            followerCount: page.follower_count\n          };\n        });\n        setAvailablePages(pagesFromBackend);\n        if (pagesFromBackend.length === 1) {\n          setSelectedPage(pagesFromBackend[0]);\n          // Auto-reply settings will be loaded by the useEffect when selectedPage changes\n        }\n        setConnectionStatus(`Connected! ${response.pages_count} Facebook page(s) available.`);\n      } else {\n        setConnectionStatus('Ready to connect your Facebook account');\n      }\n    } catch (error) {\n      console.error('Error checking Facebook status:', error);\n      setConnectionStatus('Unable to check Facebook connection status');\n    } finally {\n      setIsCheckingStatus(false);\n    }\n  }, []);\n\n  // Check for existing Facebook connections on component mount\n  useEffect(() => {\n    checkExistingFacebookConnections();\n    checkGoogleDriveAvailability();\n\n    // Add mobile-specific event listeners\n    const handleResize = () => {\n      // Force re-render on resize for mobile responsiveness\n      setConnectionStatus(prev => prev);\n    };\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, [checkExistingFacebookConnections]);\n\n  // Cleanup on component unmount\n  useEffect(() => {\n    return () => {\n      setIsConnecting(false);\n      setIsPublishing(false);\n      setIsLoggingOut(false);\n      setIsCheckingStatus(false);\n    };\n  }, []);\n  const checkGoogleDriveAvailability = async () => {\n    try {\n      const {\n        authenticated\n      } = await apiClient.getGoogleDriveStatus();\n      setGoogleDriveAvailable(authenticated);\n    } catch (error) {\n      console.warn('Drive status check failed:', error.message);\n      setGoogleDriveAvailable(false);\n    }\n  };\n  const debugGoogleDrive = async () => {\n    try {\n      console.log('🔍 Testing Google Drive connectivity...');\n      const debugInfo = await apiClient.debugGoogleDrive();\n      console.log('🔍 Google Drive Debug Info:', debugInfo);\n      setConnectionStatus(`Google Drive Debug: ${debugInfo.message} - Found ${debugInfo.total_files_found} files`);\n    } catch (error) {\n      console.error('🔍 Google Drive Debug Error:', error);\n      setConnectionStatus(`Google Drive Debug Error: ${error.message}`);\n    }\n  };\n  const testGoogleDriveImages = async () => {\n    try {\n      console.log('🖼️ Testing Google Drive images/videos...');\n      const testInfo = await apiClient.testGoogleDriveImages();\n      console.log('🖼️ Google Drive Image/Video Test:', testInfo);\n      setConnectionStatus(`Image/Video Test: ${testInfo.image_count} images, ${testInfo.video_count} videos found`);\n    } catch (error) {\n      console.error('🖼️ Google Drive Image/Video Test Error:', error);\n      setConnectionStatus(`Image/Video Test Error: ${error.message}`);\n    }\n  };\n  const testGoogleDriveFiles = async () => {\n    try {\n      console.log('📁 Testing Google Drive files listing...');\n      const mimeType = filePickerType === 'photo' ? 'image/*' : 'video/*';\n      const filesResponse = await apiClient.getGoogleDriveFiles(mimeType);\n      console.log('📁 Google Drive Files Response:', filesResponse);\n      if (filesResponse.success) {\n        setConnectionStatus(`Found ${filesResponse.total_files} ${filePickerType}s in Google Drive`);\n        console.log('📁 Sample files:', filesResponse.files.slice(0, 5));\n      } else {\n        setConnectionStatus('Failed to list Google Drive files');\n      }\n    } catch (error) {\n      console.error('📁 Google Drive Files Test Error:', error);\n      setConnectionStatus(`Files Test Error: ${error.message}`);\n    }\n  };\n  const disconnectGoogleDrive = async () => {\n    try {\n      await apiClient.disconnectGoogleDrive();\n      setGoogleDriveAvailable(false);\n      setConnectionStatus('Google Drive disconnected successfully!');\n    } catch (error) {\n      console.error('Error disconnecting Google Drive:', error);\n      setConnectionStatus(`Failed to disconnect Google Drive: ${error.message}`);\n    }\n  };\n  const clearGoogleDriveTokens = async () => {\n    try {\n      await apiClient.clearGoogleDriveTokens();\n      setGoogleDriveAvailable(false);\n      setConnectionStatus('Google Drive tokens cleared successfully! Please reconnect.');\n    } catch (error) {\n      console.error('Error clearing Google Drive tokens:', error);\n      setConnectionStatus(`Failed to clear Google Drive tokens: ${error.message}`);\n    }\n  };\n  const openDriveAuthPopup = authUrl => {\n    return new Promise((resolve, reject) => {\n      // Mobile-friendly popup sizing\n      const isMobile = window.innerWidth <= 768;\n      const w = isMobile ? Math.min(400, window.innerWidth - 40) : 500;\n      const h = isMobile ? Math.min(600, window.innerHeight - 40) : 600;\n      const left = (window.outerWidth - w) / 2;\n      const top = (window.outerHeight - h) / 2;\n      const popup = window.open(authUrl, 'DriveAuth', `width=${w},height=${h},left=${left},top=${top},scrollbars=yes,resizable=yes`);\n      if (!popup) {\n        reject(new Error('Popup blocked'));\n        return;\n      }\n      let resolved = false;\n\n      // Listen for messages from the popup\n      const messageHandler = event => {\n        // Be more permissive with origins due to Google's OAuth flow\n        if (!event.data || resolved) return;\n        if (event.data.success) {\n          resolved = true;\n          window.removeEventListener('message', messageHandler);\n          clearInterval(timer);\n          resolve();\n        } else if (event.data.error) {\n          resolved = true;\n          window.removeEventListener('message', messageHandler);\n          clearInterval(timer);\n          reject(new Error(event.data.error));\n        }\n      };\n      window.addEventListener('message', messageHandler);\n\n      // Poll for popup closure as fallback (with Cross-Origin-Opener-Policy handling)\n      const timer = setInterval(() => {\n        try {\n          if (popup.closed) {\n            if (!resolved) {\n              resolved = true;\n              clearInterval(timer);\n              window.removeEventListener('message', messageHandler);\n              // Don't assume success immediately - let the main function handle retries\n              resolve();\n            }\n          }\n        } catch (e) {\n          // Cross-Origin-Opener-Policy may prevent accessing popup.closed\n          // In this case, assume the popup process is ongoing\n          console.warn('Cannot check popup status due to Cross-Origin-Opener-Policy:', e);\n        }\n      }, 1000); // Increased interval to 1 second\n\n      // Timeout after 60 seconds\n      setTimeout(() => {\n        if (!resolved) {\n          resolved = true;\n          clearInterval(timer);\n          window.removeEventListener('message', messageHandler);\n          try {\n            popup.close();\n          } catch (e) {\n            // Ignore errors when closing popup\n          }\n          reject(new Error('Authentication timeout. Please try again.'));\n        }\n      }, 60000);\n    });\n  };\n  const loadPostHistory = useCallback(async () => {\n    if (!selectedPage) return;\n    try {\n      setIsLoadingPosts(true);\n      // Pass selectedPage.internalId to filter by page/account\n      const response = await apiClient.getSocialPosts('facebook', 50, selectedPage.internalId);\n      // Sort posts by created_at or next_execution descending (newest first)\n      const posts = response.slice(0, 50).sort((a, b) => new Date(b.created_at || b.next_execution) - new Date(a.created_at || a.next_execution));\n      const topPosts = posts.slice(0, 10);\n      setAutoPostHistory(topPosts.filter((_, index) => index % 2 === 0));\n      setManualPostHistory(topPosts.filter((_, index) => index % 2 === 1));\n      // Note: schedulePostHistory is now managed by loadScheduledPosts()\n    } catch (error) {\n      console.error('Error loading post history:', error);\n    } finally {\n      setIsLoadingPosts(false);\n    }\n  }, [selectedPage]);\n\n  // Load posts when page is selected or tab changes\n  useEffect(() => {\n    if (selectedPage && facebookConnected) {\n      loadPostHistory();\n      loadAutoReplySettings(); // Load auto-reply settings when page is selected\n    }\n  }, [selectedPage, facebookConnected, activeTab, loadPostHistory, loadAutoReplySettings]);\n  const handleFacebookLogout = async () => {\n    try {\n      // Ensure scheduleData is always defined\n      const safeScheduleData = scheduleData || {};\n\n      // Check for active schedules before disconnecting\n      if (selectedPage && safeScheduleData.isActive) {\n        const confirmDisconnect = window.confirm(`⚠️ Warning: You have an active schedule for \"${selectedPage.name}\". Disconnecting will deactivate this schedule. Do you want to continue?`);\n        if (!confirmDisconnect) {\n          return;\n        }\n\n        // Deactivate the schedule before disconnecting\n        try {\n          await apiClient.deleteScheduledPost(safeScheduleData.scheduleId);\n          console.log('✅ Schedule deactivated before disconnect');\n        } catch (scheduleError) {\n          console.warn('Failed to deactivate schedule before disconnect:', scheduleError);\n        }\n      }\n      setIsLoggingOut(true);\n      setConnectionStatus('Disconnecting from Facebook...');\n      await apiClient.logoutFacebook();\n      setFacebookConnected(false);\n      setAvailablePages([]);\n      setSelectedPage(null);\n      setAutoPostHistory([]);\n      setManualPostHistory([]);\n\n      // Reset schedule data\n      setScheduleData({\n        prompt: '',\n        time: '',\n        frequency: 'daily',\n        customDate: '',\n        isActive: false,\n        scheduleId: null\n      });\n      setConnectionStatus('Successfully disconnected from Facebook');\n      setTimeout(() => {\n        setConnectionStatus('Ready to connect your Facebook account');\n      }, 3000);\n    } catch (error) {\n      console.error('Error logging out from Facebook:', error);\n      setConnectionStatus('Failed to disconnect from Facebook: ' + error.message);\n    } finally {\n      setIsLoggingOut(false);\n    }\n  };\n  const fetchPages = async accessToken => {\n    if (!accessToken) {\n      setConnectionStatus('No Facebook access token found. Please try reconnecting.');\n      setIsConnecting(false);\n      setFacebookConnected(false);\n      return {\n        mappedPages: [],\n        userInfo: null\n      };\n    }\n    try {\n      var _permissionsResponse$;\n      const permissionsResponse = await new Promise((resolve, reject) => {\n        window.FB.api('/me/permissions', {\n          access_token: accessToken\n        }, response => {\n          if (response.error) reject(new Error(response.error.message));else resolve(response);\n        });\n      });\n      const grantedPermissions = ((_permissionsResponse$ = permissionsResponse.data) === null || _permissionsResponse$ === void 0 ? void 0 : _permissionsResponse$.filter(p => p.status === 'granted').map(p => p.permission)) || [];\n      const requiredPermissions = ['pages_show_list', 'pages_manage_posts'];\n      const missingPermissions = requiredPermissions.filter(p => !grantedPermissions.includes(p));\n      if (missingPermissions.length > 0) {\n        setConnectionStatus(`Missing permissions: ${missingPermissions.join(', ')}. Your app needs \"Pages API\" permissions.`);\n      }\n      const userInfo = await new Promise((resolve, reject) => {\n        window.FB.api('/me', {\n          access_token: accessToken,\n          fields: 'id,name,email'\n        }, response => {\n          if (response.error) reject(new Error(response.error.message));else resolve(response);\n        });\n      });\n      const pagesResponse = await new Promise((resolve, reject) => {\n        window.FB.api('/me/accounts', {\n          access_token: accessToken,\n          fields: 'id,name,category,access_token,picture,fan_count,tasks'\n        }, response => {\n          if (response.error) {\n            reject(new Error(`${response.error.message} (Code: ${response.error.code})`));\n          } else {\n            resolve(response);\n          }\n        });\n      });\n      const pages = pagesResponse.data || [];\n      const mappedPages = pages.map(page => {\n        var _page$picture, _page$picture$data;\n        const tasks = page.tasks || [];\n        const canPost = tasks.includes('CREATE_CONTENT') || tasks.includes('MANAGE');\n        const canComment = tasks.includes('MODERATE') || tasks.includes('MANAGE');\n        return {\n          id: page.id,\n          internalId: null,\n          name: page.name,\n          category: page.category || 'Page',\n          access_token: page.access_token,\n          profilePicture: ((_page$picture = page.picture) === null || _page$picture === void 0 ? void 0 : (_page$picture$data = _page$picture.data) === null || _page$picture$data === void 0 ? void 0 : _page$picture$data.url) || '',\n          canPost: canPost,\n          canComment: canComment,\n          followerCount: page.fan_count || 0\n        };\n      });\n      setAvailablePages(mappedPages);\n      if (mappedPages.length === 1) {\n        setSelectedPage(mappedPages[0]);\n        setConnectionStatus(`Connected successfully! 1 page found.`);\n        // Load auto-reply settings for the single page\n        setTimeout(() => loadAutoReplySettings(), 500);\n      } else if (mappedPages.length > 1) {\n        setSelectedPage(null);\n        setConnectionStatus(`Connected successfully! ${mappedPages.length} pages found. Please select a page below.`);\n      } else {\n        setSelectedPage({\n          id: userInfo.id,\n          internalId: null,\n          name: userInfo.name,\n          access_token: accessToken,\n          category: 'Personal Profile',\n          profilePicture: '',\n          canPost: true,\n          canComment: true,\n          followerCount: 0\n        });\n        setConnectionStatus('Connected as personal profile (no pages found).');\n        // Load auto-reply settings for personal profile\n        setTimeout(() => loadAutoReplySettings(), 500);\n      }\n      setFacebookConnected(true);\n      setIsConnecting(false);\n      return {\n        mappedPages,\n        userInfo\n      };\n    } catch (error) {\n      console.error('Facebook API error:', error);\n      setConnectionStatus('Failed to get Facebook data: ' + (error.message || 'Unknown error'));\n      setIsConnecting(false);\n      setFacebookConnected(false);\n      return {\n        mappedPages: [],\n        userInfo: null\n      };\n    }\n  };\n  const connectToBackend = async (accessToken, userInfo, pages) => {\n    try {\n      var _response$data, _response$data$data;\n      const response = await apiClient.connectFacebook(accessToken, userInfo.id, pages);\n      if (((_response$data = response.data) === null || _response$data === void 0 ? void 0 : (_response$data$data = _response$data.data) === null || _response$data$data === void 0 ? void 0 : _response$data$data.token_type) === 'long_lived_user_token') {\n        const expiresAt = response.data.data.token_expires_at;\n        if (expiresAt) {\n          const expiryDate = new Date(expiresAt);\n          setConnectionStatus(`Connected with long-lived token (expires: ${expiryDate.toLocaleDateString()})`);\n        } else {\n          setConnectionStatus('Connected with long-lived token');\n        }\n      }\n      setTimeout(async () => {\n        try {\n          const socialAccounts = await apiClient.getSocialAccounts();\n          const facebookAccounts = socialAccounts.filter(acc => acc.platform === 'facebook' && acc.is_connected);\n          const updatedPages = availablePages.map(page => {\n            const matchingAccount = facebookAccounts.find(acc => acc.platform_user_id === page.id);\n            return {\n              ...page,\n              internalId: matchingAccount === null || matchingAccount === void 0 ? void 0 : matchingAccount.id\n            };\n          });\n          setAvailablePages(updatedPages);\n          if (selectedPage) {\n            const matchingAccount = facebookAccounts.find(acc => acc.platform_user_id === selectedPage.id);\n            if (matchingAccount) {\n              setSelectedPage(prev => ({\n                ...prev,\n                internalId: matchingAccount.id\n              }));\n            }\n          }\n        } catch (error) {\n          console.error('Error updating page data with internal IDs:', error);\n          setConnectionStatus('Warning: Unable to get account details. You may need to reconnect Facebook for scheduling to work.');\n        }\n      }, 2000);\n      return response;\n    } catch (error) {\n      var _error$response, _error$response2, _error$response2$data, _error$response2$data2;\n      console.error('Backend connection error:', error);\n      if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n        setConnectionStatus('Your session has expired. Please log out and log back in to connect Facebook.');\n        setTimeout(() => {\n          logout();\n          navigate('/');\n        }, 3000);\n      } else if ((_error$response2 = error.response) !== null && _error$response2 !== void 0 && (_error$response2$data = _error$response2.data) !== null && _error$response2$data !== void 0 && (_error$response2$data2 = _error$response2$data.detail) !== null && _error$response2$data2 !== void 0 && _error$response2$data2.includes('long-lived token')) {\n        setConnectionStatus('Failed to get long-lived Facebook token. Please try reconnecting.');\n      } else {\n        var _error$response3, _error$response3$data;\n        setConnectionStatus('Failed to connect to backend: ' + (((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.detail) || error.message));\n      }\n      throw error;\n    }\n  };\n  const handleAutoInputChange = e => {\n    const {\n      name,\n      value,\n      files\n    } = e.target;\n    setAutoFormData(prev => ({\n      ...prev,\n      [name]: files ? files[0] : value\n    }));\n  };\n  const handleManualInputChange = e => {\n    const {\n      name,\n      value,\n      files\n    } = e.target;\n    setManualFormData(prev => ({\n      ...prev,\n      [name]: files ? files[0] : value\n    }));\n  };\n  const handleMediaTypeChange = (type, formType) => {\n    // If it's a file upload type, open the file picker\n    if (type === 'photo' || type === 'video') {\n      openFilePicker(type, formType);\n      return;\n    }\n\n    // For other types (none, ai_image), set directly\n    if (formType === 'auto') {\n      setAutoFormData(prev => ({\n        ...prev,\n        mediaType: type,\n        mediaFile: null,\n        generatedImageUrl: type === 'ai_image' ? prev.generatedImageUrl : null,\n        generatedImageFilename: type === 'ai_image' ? prev.generatedImageFilename : null,\n        imagePrompt: type === 'ai_image' ? prev.imagePrompt : ''\n      }));\n    } else {\n      setManualFormData(prev => ({\n        ...prev,\n        mediaType: type,\n        mediaFile: null,\n        generatedImageUrl: type === 'ai_image' ? prev.generatedImageUrl : null,\n        generatedImageFilename: type === 'ai_image' ? prev.generatedImageFilename : null,\n        imagePrompt: type === 'ai_image' ? prev.imagePrompt : ''\n      }));\n    }\n  };\n\n  // File picker functions\n  const openFilePicker = (type, formType) => {\n    setFilePickerType(type);\n    setFilePickerFormType(formType);\n    setShowFilePicker(true);\n  };\n  const closeFilePicker = () => {\n    setShowFilePicker(false);\n    setFilePickerType('');\n    setFilePickerFormType('');\n    setIsLoadingGoogleDrive(false);\n  };\n  const handleLocalFileSelect = event => {\n    const file = event.target.files[0];\n    if (file) {\n      const setFormData = filePickerFormType === 'auto' ? setAutoFormData : setManualFormData;\n      setFormData(prev => ({\n        ...prev,\n        mediaFile: file,\n        mediaType: filePickerType // Set the media type based on what was selected\n      }));\n      closeFilePicker();\n    }\n  };\n  const handleGoogleDriveSelect = async () => {\n    setIsLoadingGoogleDrive(true);\n    try {\n      // 1️⃣ Check if already authenticated\n      const status = await apiClient.getGoogleDriveStatus();\n      if (!status.authenticated) {\n        // 2️⃣ Get consent URL for popup\n        const authResponse = await apiClient.getGoogleDriveAuthorizeUrl();\n        if (authResponse.consent_url) {\n          // 3️⃣ Open popup and wait for completion\n          await openDriveAuthPopup(authResponse.consent_url);\n\n          // 4️⃣ Wait a bit for the OAuth callback to complete\n          await new Promise(resolve => setTimeout(resolve, 2000));\n        }\n      }\n\n      // 5️⃣ After popup closes, re-check authentication status with retries\n      let finalStatus = null;\n      let retries = 3;\n      while (retries > 0) {\n        finalStatus = await apiClient.getGoogleDriveStatus();\n        if (finalStatus.authenticated) {\n          break;\n        }\n        retries--;\n        if (retries > 0) {\n          // Wait before retrying\n          await new Promise(resolve => setTimeout(resolve, 1000));\n        }\n      }\n      if (!finalStatus.authenticated) {\n        throw new Error('Authentication was not completed successfully. Please try again.');\n      }\n\n      // 6️⃣ Update state and proceed with Google Drive picker\n      setGoogleDriveAvailable(true);\n\n      // Initialize Google Drive API\n      await loadGoogleDriveAPI();\n\n      // Check if google object is available\n      if (typeof window.google === 'undefined' || !window.google.picker) {\n        throw new Error('Google Picker API failed to load');\n      }\n\n      // Get fresh token for picker\n      const tokenResponse = await apiClient.getGoogleDriveToken();\n      if (!tokenResponse.access_token) {\n        throw new Error('Failed to get Google Drive access token');\n      }\n\n      // Configure MIME types based on file picker type\n      const mimeTypes = filePickerType === 'photo' ? ['image/jpeg', 'image/png', 'image/gif', 'image/webp', 'image/bmp'] : ['video/mp4', 'video/avi', 'video/mov', 'video/wmv', 'video/flv', 'video/webm'];\n\n      // Create the main view for Drive files\n      const docsView = new window.google.picker.DocsView(window.google.picker.ViewId.DOCS).setIncludeFolders(false).setSelectFolderEnabled(false).setMode(window.google.picker.DocsViewMode.LIST);\n\n      // Set MIME types for filtering\n      if (filePickerType === 'photo') {\n        docsView.setMimeTypes('image/jpeg,image/png,image/gif,image/webp,image/bmp');\n      } else {\n        docsView.setMimeTypes('video/mp4,video/avi,video/mov,video/wmv,video/flv,video/webm');\n      }\n\n      // Create picker with proper configuration\n      const picker = new window.google.picker.PickerBuilder().addView(docsView).setOAuthToken(tokenResponse.access_token).setDeveloperKey(process.env.REACT_APP_GOOGLE_DEVELOPER_KEY || '').setCallback(handleGoogleDriveCallback).setTitle(`Select a ${filePickerType === 'photo' ? 'photo' : 'video'} from Google Drive`).setOrigin(window.location.origin).setSize(1051, 650) // Set a reasonable size\n      .build();\n      console.log('🔍 Google Picker configuration:', {\n        mimeTypes: filePickerType === 'photo' ? 'image/*' : 'video/*',\n        accessToken: tokenResponse.access_token ? 'Present' : 'Missing',\n        developerKey: process.env.REACT_APP_GOOGLE_DEVELOPER_KEY ? 'Present' : 'Missing'\n      });\n      picker.setVisible(true);\n    } catch (error) {\n      console.error('Error with Google Drive selection:', error);\n\n      // Handle scope conflicts specifically\n      if (error.message && error.message.includes('Scope has changed')) {\n        setConnectionStatus('Google Drive scope conflict detected. Clearing tokens and retrying...');\n        try {\n          await apiClient.clearGoogleDriveTokens();\n          setGoogleDriveAvailable(false);\n          setConnectionStatus('Google Drive tokens cleared. Please try connecting again.');\n        } catch (clearError) {\n          console.error('Error clearing tokens:', clearError);\n          setConnectionStatus('Failed to clear Google Drive tokens. Please disconnect and reconnect.');\n        }\n      } else {\n        setConnectionStatus(`Google Drive error: ${error.message}`);\n      }\n    } finally {\n      setIsLoadingGoogleDrive(false);\n    }\n  };\n  const loadGoogleDriveAPI = () => {\n    return new Promise((resolve, reject) => {\n      // Check if Google Picker is already loaded\n      if (window.google && window.google.picker && window.google.picker.PickerBuilder) {\n        console.log('Google Picker API already loaded');\n        resolve();\n        return;\n      }\n      console.log('Loading Google Picker API...');\n\n      // Load the Google API script\n      const script = document.createElement('script');\n      script.src = 'https://apis.google.com/js/api.js';\n      script.onload = () => {\n        if (window.gapi) {\n          console.log('Google API loaded, loading picker...');\n          window.gapi.load('picker', {\n            callback: () => {\n              if (window.google && window.google.picker) {\n                console.log('Google Picker loaded successfully');\n                resolve();\n              } else {\n                reject(new Error('Google Picker failed to initialize'));\n              }\n            },\n            onerror: () => {\n              reject(new Error('Failed to load Google Picker'));\n            }\n          });\n        } else {\n          reject(new Error('Google API (gapi) failed to load'));\n        }\n      };\n      script.onerror = () => {\n        reject(new Error('Failed to load Google API script'));\n      };\n\n      // Only add script if it doesn't already exist\n      if (!document.querySelector('script[src=\"https://apis.google.com/js/api.js\"]')) {\n        document.head.appendChild(script);\n      } else {\n        // Script exists but API might not be loaded yet\n        setTimeout(() => {\n          if (window.gapi) {\n            window.gapi.load('picker', {\n              callback: resolve,\n              onerror: () => reject(new Error('Failed to load Google Picker'))\n            });\n          } else {\n            reject(new Error('Google API script loaded but gapi not available'));\n          }\n        }, 100);\n      }\n    });\n  };\n  const handleGoogleDriveCallback = async data => {\n    console.log('🔍 Google Drive Picker Callback:', data);\n    if (data.action === window.google.picker.Action.PICKED) {\n      const file = data.docs[0];\n      console.log('📁 Selected file:', {\n        id: file.id,\n        name: file.name,\n        mimeType: file.mimeType,\n        size: file.sizeBytes,\n        url: file.url\n      });\n      try {\n        setConnectionStatus('Downloading file from Google Drive...');\n\n        // Download the file from Google Drive\n        const fileResponse = await downloadGoogleDriveFile(file.id);\n        console.log('📥 File download response:', {\n          success: fileResponse.success,\n          fileName: fileResponse.fileName,\n          mimeType: fileResponse.mimeType,\n          size: fileResponse.size\n        });\n        if (!fileResponse.success || !fileResponse.fileContent) {\n          throw new Error('Invalid file response from server');\n        }\n\n        // Decode base64 content\n        const binaryString = atob(fileResponse.fileContent);\n        const bytes = new Uint8Array(binaryString.length);\n        for (let i = 0; i < binaryString.length; i++) {\n          bytes[i] = binaryString.charCodeAt(i);\n        }\n\n        // Create a File object from the downloaded content\n        const blob = new Blob([bytes], {\n          type: fileResponse.mimeType || file.mimeType\n        });\n        const fileObj = new File([blob], fileResponse.fileName || file.name, {\n          type: fileResponse.mimeType || file.mimeType\n        });\n        console.log('📄 Created file object:', {\n          name: fileObj.name,\n          type: fileObj.type,\n          size: fileObj.size\n        });\n\n        // Update the form data\n        const setFormData = filePickerFormType === 'auto' ? setAutoFormData : setManualFormData;\n        setFormData(prev => ({\n          ...prev,\n          mediaFile: fileObj,\n          mediaType: filePickerType // Set the media type based on what was selected\n        }));\n        closeFilePicker();\n        setConnectionStatus(`File \"${fileObj.name}\" selected from Google Drive successfully!`);\n      } catch (error) {\n        console.error('❌ Error downloading file from Google Drive:', error);\n        setConnectionStatus('Failed to download file from Google Drive: ' + error.message);\n      }\n    } else if (data.action === window.google.picker.Action.CANCEL) {\n      console.log('❌ Google Drive Picker cancelled');\n      closeFilePicker();\n    } else if (data.action === window.google.picker.Action.LOADED) {\n      console.log('✅ Google Drive Picker loaded');\n    } else {\n      console.log('🔍 Google Drive Picker action:', data.action);\n    }\n  };\n  const downloadGoogleDriveFile = async fileId => {\n    // This would typically be handled by your backend\n    // For now, we'll use a placeholder implementation\n    try {\n      const response = await apiClient.downloadGoogleDriveFile(fileId);\n      return response.fileContent;\n    } catch (error) {\n      throw new Error('Failed to download file from Google Drive');\n    }\n  };\n  const generatePostContent = async () => {\n    if (!autoFormData.prompt.trim()) {\n      setConnectionStatus('Please enter a prompt for AI generation');\n      return;\n    }\n    setAutoFormData(prev => ({\n      ...prev,\n      isGenerating: true\n    }));\n    setConnectionStatus('Generating content with AI...');\n    try {\n      const response = await apiClient.generateContent(autoFormData.prompt);\n      setAutoFormData(prev => ({\n        ...prev,\n        generatedContent: response.content,\n        isGenerating: false\n      }));\n      setConnectionStatus('Content generated successfully!');\n    } catch (error) {\n      console.error('Content generation error:', error);\n      setConnectionStatus('Failed to generate content: ' + (error.message || 'Unknown error'));\n      setAutoFormData(prev => ({\n        ...prev,\n        isGenerating: false\n      }));\n    }\n  };\n  const generateImage = async formType => {\n    const currentData = formType === 'auto' ? autoFormData : manualFormData;\n    const setFormData = formType === 'auto' ? setAutoFormData : setManualFormData;\n    const imagePrompt = currentData.imagePrompt || currentData.prompt || (formType === 'manual' ? currentData.message : '');\n    if (!imagePrompt.trim()) {\n      setConnectionStatus('Please enter an image prompt or description');\n      return;\n    }\n    setFormData(prev => ({\n      ...prev,\n      isGeneratingImage: true\n    }));\n    setConnectionStatus('Generating image with AI...');\n    try {\n      const response = await apiClient.generateFacebookImage(imagePrompt, 'feed');\n      if (response.success) {\n        setFormData(prev => ({\n          ...prev,\n          generatedImageUrl: response.data.image_url,\n          generatedImageFilename: response.data.filename,\n          isGeneratingImage: false\n        }));\n        setConnectionStatus('Image generated successfully!');\n      } else {\n        throw new Error(response.error || 'Image generation failed');\n      }\n    } catch (error) {\n      console.error('Image generation error:', error);\n      setConnectionStatus('Failed to generate image: ' + (error.message || 'Unknown error'));\n      setFormData(prev => ({\n        ...prev,\n        isGeneratingImage: false\n      }));\n    }\n  };\n  const generateImageWithCaption = async () => {\n    if (!autoFormData.prompt.trim()) {\n      setConnectionStatus('Please enter a prompt for generation');\n      return;\n    }\n    setAutoFormData(prev => ({\n      ...prev,\n      isGenerating: true,\n      isGeneratingImage: true\n    }));\n    setConnectionStatus('Generating image and caption with AI...');\n    try {\n      const textResponse = await apiClient.generateContent(autoFormData.prompt);\n      if (!textResponse.content) {\n        throw new Error('Failed to generate text content');\n      }\n      const imagePrompt = autoFormData.imagePrompt || autoFormData.prompt;\n      const imageResponse = await apiClient.generateFacebookImage(imagePrompt, 'feed');\n      if (!imageResponse.success) {\n        throw new Error(imageResponse.error || 'Image generation failed');\n      }\n      setAutoFormData(prev => ({\n        ...prev,\n        generatedContent: textResponse.content,\n        generatedImageUrl: imageResponse.data.image_url,\n        generatedImageFilename: imageResponse.data.filename,\n        isGenerating: false,\n        isGeneratingImage: false\n      }));\n      setConnectionStatus('Image and caption generated successfully!');\n    } catch (error) {\n      console.error('Image with caption generation error:', error);\n      setConnectionStatus('Failed to generate image and caption: ' + (error.message || 'Unknown error'));\n      setAutoFormData(prev => ({\n        ...prev,\n        isGenerating: false,\n        isGeneratingImage: false\n      }));\n    }\n  };\n  const publishPost = async () => {\n    if (!selectedPage) {\n      setConnectionStatus('Please select a page first');\n      return;\n    }\n    const isAutoMode = activeTab === 'auto';\n    const content = isAutoMode ? autoFormData.generatedContent : manualFormData.message;\n    const mediaType = isAutoMode ? autoFormData.mediaType : manualFormData.mediaType;\n    const mediaFile = isAutoMode ? autoFormData.mediaFile : manualFormData.mediaFile;\n    const generatedImageUrl = isAutoMode ? autoFormData.generatedImageUrl : manualFormData.generatedImageUrl;\n    const generatedImageFilename = isAutoMode ? autoFormData.generatedImageFilename : manualFormData.generatedImageFilename;\n\n    // Debug: Log key info\n    console.log('Publish attempt - Tab:', activeTab, 'Content:', (content === null || content === void 0 ? void 0 : content.substring(0, 50)) + '...');\n    console.log('Media type:', mediaType);\n    console.log('Media file:', mediaFile);\n    console.log('Selected page:', selectedPage);\n\n    // Allow video-only posts (no text required for video posts)\n    if (!content || content.trim() === '') {\n      if (mediaType !== 'video') {\n        setConnectionStatus('Please enter some content for your post');\n        return;\n      }\n    }\n    if (mediaType === 'photo' && !mediaFile) {\n      setConnectionStatus('Please select a media file to upload');\n      return;\n    }\n    if (mediaType === 'video' && !mediaFile) {\n      setConnectionStatus('Please select a video file to upload');\n      return;\n    }\n    if (mediaType === 'ai_image' && (!generatedImageUrl || !generatedImageFilename)) {\n      setConnectionStatus('Please generate an image first');\n      return;\n    }\n    try {\n      var _postOptions$textCont;\n      setIsPublishing(true);\n      setConnectionStatus('Publishing post to Facebook...');\n      let postResult;\n\n      // Use the unified Facebook post creation endpoint\n      const postOptions = {\n        postType: 'feed'\n      };\n\n      // Handle content based on mode\n      if (isAutoMode) {\n        // In auto mode, we might want to use AI generation\n        if (autoFormData.generatedContent) {\n          // Use pre-generated content\n          postOptions.textContent = autoFormData.generatedContent;\n        } else if (autoFormData.prompt) {\n          // Use prompt for AI generation\n          postOptions.contentPrompt = autoFormData.prompt;\n          postOptions.useAIText = true;\n        } else {\n          // Fallback to any content we have\n          postOptions.textContent = content;\n        }\n      } else {\n        // In manual mode, use the provided text content if available\n        if (content && content.trim()) {\n          postOptions.textContent = content;\n        }\n      }\n\n      // Debug: Log what we're sending\n      console.log('Post options:', {\n        ...postOptions,\n        textContent: ((_postOptions$textCont = postOptions.textContent) === null || _postOptions$textCont === void 0 ? void 0 : _postOptions$textCont.substring(0, 50)) + '...'\n      });\n      if (mediaType === 'ai_image' && generatedImageUrl && generatedImageFilename) {\n        // Post with pre-generated image\n        postOptions.imageUrl = generatedImageUrl;\n        postOptions.imageFilename = generatedImageFilename;\n      } else if (mediaType === 'ai_image' && (autoFormData.imagePrompt || manualFormData.imagePrompt)) {\n        // Generate image using AI\n        const imagePrompt = isAutoMode ? autoFormData.imagePrompt : manualFormData.imagePrompt;\n        postOptions.imagePrompt = imagePrompt;\n        postOptions.useAIImage = true;\n      } else if (mediaType === 'photo' && mediaFile) {\n        // Post with uploaded image (convert to base64)\n        const imageData = await fileToBase64(mediaFile);\n        postOptions.imageUrl = imageData;\n      } else if (mediaType === 'video' && mediaFile) {\n        // Post with uploaded video (convert to base64)\n        try {\n          console.log('Converting video to base64...');\n          const videoData = await fileToBase64(mediaFile);\n          console.log('Video converted successfully, length:', videoData.length);\n          postOptions.videoUrl = videoData;\n          postOptions.videoFilename = mediaFile.name;\n        } catch (error) {\n          console.error('Error converting video to base64:', error);\n          throw new Error('Failed to process video file: ' + error.message);\n        }\n      }\n\n      // Validate that we have at least one required field\n      if (!postOptions.textContent && !postOptions.contentPrompt && !postOptions.imageUrl && !postOptions.imagePrompt && !postOptions.videoUrl) {\n        throw new Error('No content provided. Please add text content, generate content, or add media.');\n      }\n\n      // Debug: Log final options being sent to API\n      console.log('Final post options being sent to API:', postOptions);\n      console.log('Selected page ID:', selectedPage.id);\n      console.log('Post options keys:', Object.keys(postOptions));\n      console.log('Has video URL:', !!postOptions.videoUrl);\n      console.log('Has image URL:', !!postOptions.imageUrl);\n      console.log('Has text content:', !!postOptions.textContent);\n      console.log('Calling API with page ID:', selectedPage.id);\n      postResult = await apiClient.createFacebookPost(selectedPage.id, postOptions);\n      console.log('API response:', postResult);\n      if (!postResult.success) {\n        throw new Error(postResult.error || 'Failed to create post via backend');\n      }\n      setConnectionStatus('Post published successfully!');\n      setTimeout(() => {\n        loadPostHistory();\n      }, 1000);\n      if (isAutoMode) {\n        setAutoFormData(prev => ({\n          ...prev,\n          prompt: '',\n          generatedContent: '',\n          mediaFile: null,\n          mediaType: 'none',\n          imagePrompt: '',\n          generatedImageUrl: null,\n          generatedImageFilename: null\n        }));\n      } else {\n        setManualFormData(prev => ({\n          ...prev,\n          message: '',\n          mediaFile: null,\n          mediaType: 'none',\n          imagePrompt: '',\n          generatedImageUrl: null,\n          generatedImageFilename: null\n        }));\n      }\n    } catch (error) {\n      console.error('Post publishing error:', error);\n      setConnectionStatus('Failed to publish post: ' + (error.message || 'Unknown error'));\n    } finally {\n      setIsPublishing(false);\n    }\n  };\n  const loginWithFacebook = async () => {\n    if (window.location.protocol !== 'https:' && window.location.hostname !== 'localhost') {\n      setConnectionStatus('Facebook login requires HTTPS. Please use https://localhost:3001 or deploy with HTTPS');\n      return;\n    }\n    try {\n      await apiClient.getCurrentUser();\n    } catch (error) {\n      setConnectionStatus('Your session has expired. Please log out and log back in to connect Facebook.');\n      setTimeout(() => {\n        logout();\n        navigate('/');\n      }, 3000);\n      return;\n    }\n    setIsConnecting(true);\n    setConnectionStatus('Loading Facebook SDK...');\n    try {\n      await loadFacebookSDK(FACEBOOK_APP_ID);\n      if (!window.FB || typeof window.FB.login !== 'function') {\n        setConnectionStatus('Facebook SDK failed to load. Please refresh the page and try again.');\n        setIsConnecting(false);\n        return;\n      }\n      setConnectionStatus('Connecting to Facebook...');\n      window.FB.login(response => {\n        if (response.authResponse && response.authResponse.accessToken) {\n          setConnectionStatus('Facebook login successful! Fetching pages...');\n          (async () => {\n            try {\n              const {\n                mappedPages,\n                userInfo\n              } = await fetchPages(response.authResponse.accessToken);\n              if (mappedPages.length > 0) {\n                var _backendResponse$data;\n                setConnectionStatus('Connecting to backend...');\n                const backendResponse = await connectToBackend(response.authResponse.accessToken, userInfo, mappedPages);\n                if (backendResponse !== null && backendResponse !== void 0 && (_backendResponse$data = backendResponse.data) !== null && _backendResponse$data !== void 0 && _backendResponse$data.pages) {\n                  setAvailablePages(mappedPages);\n                  setConnectionStatus(`Connected successfully! ${backendResponse.data.pages_connected} pages synchronized with backend.`);\n                }\n              } else {\n                setConnectionStatus('No pages found in Facebook API. Connecting to backend to check for existing connections...');\n                try {\n                  await connectToBackend(response.authResponse.accessToken, userInfo, []);\n                  const existingAccounts = await apiClient.getSocialAccounts();\n                  const facebookPages = existingAccounts.filter(acc => acc.platform === 'facebook' && acc.account_type === 'page' && acc.is_connected);\n                  if (facebookPages.length > 0) {\n                    const backendMappedPages = facebookPages.map(page => {\n                      var _page$platform_data, _page$platform_data2, _page$platform_data3;\n                      return {\n                        id: page.platform_user_id,\n                        internalId: page.id,\n                        name: page.display_name,\n                        category: ((_page$platform_data = page.platform_data) === null || _page$platform_data === void 0 ? void 0 : _page$platform_data.category) || 'Page',\n                        access_token: page.access_token || response.authResponse.accessToken,\n                        profilePicture: page.profile_picture_url || '',\n                        canPost: ((_page$platform_data2 = page.platform_data) === null || _page$platform_data2 === void 0 ? void 0 : _page$platform_data2.can_post) !== false,\n                        canComment: ((_page$platform_data3 = page.platform_data) === null || _page$platform_data3 === void 0 ? void 0 : _page$platform_data3.can_comment) !== false,\n                        followerCount: page.follower_count || 0\n                      };\n                    });\n                    setAvailablePages(backendMappedPages);\n                    setConnectionStatus(`Found ${facebookPages.length} existing page(s) from previous connections!`);\n                  } else {\n                    setConnectionStatus('No pages found. You may need to grant page permissions or create a Facebook page first.');\n                  }\n                } catch (backendError) {\n                  console.error('[FB.login] Backend check failed:', backendError);\n                  setConnectionStatus('No pages found. You may need to grant page permissions or create a Facebook page first.');\n                }\n              }\n            } catch (error) {\n              console.error('[FB.login] Error in page fetching or backend connection:', error);\n              setConnectionStatus('Error during setup: ' + (error.message || 'Unknown error'));\n              setIsConnecting(false);\n              setFacebookConnected(false);\n            }\n          })();\n        } else {\n          if (response.status === 'not_authorized') {\n            setConnectionStatus('Please authorize the app to continue and select at least one page.');\n          } else {\n            setConnectionStatus('Facebook login cancelled or failed');\n          }\n          setIsConnecting(false);\n        }\n      }, {\n        scope: ['public_profile', 'pages_show_list', 'pages_read_engagement', 'pages_manage_posts', 'pages_manage_engagement', 'pages_read_user_content', 'pages_manage_metadata'].join(','),\n        enable_profile_selector: true,\n        return_scopes: true,\n        auth_type: 'rerequest',\n        display: 'popup'\n      });\n    } catch (error) {\n      console.error('Facebook login error:', error);\n      setConnectionStatus('Facebook login failed: ' + error.message);\n    }\n  };\n  const getStatusCardClass = () => {\n    if (connectionStatus.includes('Failed') || connectionStatus.includes('error') || connectionStatus.includes('Error')) {\n      return 'status-card error';\n    } else if (connectionStatus.includes('successful') || connectionStatus.includes('Connected') || connectionStatus.includes('completed')) {\n      return 'status-card success';\n    } else {\n      return 'status-card info';\n    }\n  };\n\n  // Fetch AUTO_REPLY_MESSAGE rule for selected page\n  const loadAutoReplyMessageRule = useCallback(async () => {\n    if (!selectedPage) return;\n    setAutoReplyMessagesLoading(true);\n    setAutoReplyMessagesError(null);\n    try {\n      const rules = await apiClient.getAutomationRules('facebook', 'AUTO_REPLY_MESSAGE');\n      // Find the rule for this page\n      const socialAccounts = await apiClient.getSocialAccounts();\n      const matchingAccount = socialAccounts.find(acc => acc.platform === 'facebook' && acc.platform_user_id === selectedPage.id);\n      const rule = rules.find(r => r.social_account_id === (matchingAccount === null || matchingAccount === void 0 ? void 0 : matchingAccount.id));\n      if (rule) {\n        setAutoReplyMessageRule(rule);\n        setAutoReplyMessagesEnabled(rule.is_active !== false); // Default ON if undefined\n      } else {\n        setAutoReplyMessageRule(null);\n        setAutoReplyMessagesEnabled(true); // Default ON if no rule\n      }\n    } catch (err) {\n      setAutoReplyMessagesError('Failed to load auto-reply message rule.');\n    } finally {\n      setAutoReplyMessagesLoading(false);\n    }\n  }, [selectedPage]);\n\n  // Call on page load and when selectedPage changes\n  useEffect(() => {\n    loadAutoReplyMessageRule();\n  }, [selectedPage, loadAutoReplyMessageRule]);\n\n  // Handler for toggling auto-reply messages\n  const handleAutoReplyMessagesToggle = async () => {\n    if (!autoReplyMessageRule) return;\n    setAutoReplyMessagesLoading(true);\n    setAutoReplyMessagesError(null);\n    try {\n      const updated = await apiClient.updateAutomationRule(autoReplyMessageRule.id, {\n        is_active: !autoReplyMessagesEnabled\n      });\n      setAutoReplyMessagesEnabled(updated.is_active);\n      setAutoReplyMessageRule(updated);\n    } catch (err) {\n      setAutoReplyMessagesError('Failed to update auto-reply message rule.');\n    } finally {\n      setAutoReplyMessagesLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"facebook-page-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"facebook-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"facebook-header-left\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `facebook-icon-container ${facebookConnected ? 'connected' : ''}`,\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"24\",\n            height: \"24\",\n            viewBox: \"0 0 24 24\",\n            fill: \"#1877f2\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1439,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1438,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1437,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"facebook-title\",\n            children: facebookConnected ? selectedPage ? `${selectedPage.name}` : 'Facebook Manager' : 'Facebook Manager'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1443,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"facebook-subtitle\",\n            children: facebookConnected ? selectedPage ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"status-indicator connected\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1453,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [selectedPage.category, \" \\u2022 \", selectedPage.followerCount || 0, \" followers\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1454,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"status-indicator connecting\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1460,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Connected \\u2022 Select a page to continue\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1461,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"status-indicator disconnected\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1466,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Not connected \\u2022 Ready to link your account\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1467,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1449,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1442,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1436,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"facebook-header-right\",\n        children: [facebookConnected && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleFacebookLogout,\n          disabled: isLoggingOut,\n          className: \"btn btn-danger\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"16\",\n            height: \"16\",\n            viewBox: \"0 0 24 24\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            strokeWidth: \"2\",\n            children: [/*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1482,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n              points: \"16,17 21,12 16,7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1483,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n              x1: \"21\",\n              y1: \"12\",\n              x2: \"9\",\n              y2: \"12\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1484,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1481,\n            columnNumber: 15\n          }, this), isLoggingOut ? 'Disconnecting...' : 'Disconnect']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1476,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/'),\n          className: \"btn btn-primary\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"16\",\n            height: \"16\",\n            viewBox: \"0 0 24 24\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            strokeWidth: \"2\",\n            children: [/*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"m12 19-7-7 7-7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1495,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M19 12H5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1496,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1494,\n            columnNumber: 13\n          }, this), \"Dashboard\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1490,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1474,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1435,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `facebook-main-content ${!facebookConnected ? 'centered' : ''}`,\n      children: [connectionStatus && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: getStatusCardClass(),\n        children: connectionStatus\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1507,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `facebook-main-card ${!facebookConnected ? 'connect-mode' : ''}`,\n        children: !facebookConnected ?\n        /*#__PURE__*/\n        /* Connect Card */\n        _jsxDEV(\"div\", {\n          className: \"connect-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"connect-icon\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              width: \"64\",\n              height: \"64\",\n              viewBox: \"0 0 24 24\",\n              fill: \"#1877f2\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1519,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1518,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1517,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"connect-title\",\n            children: \"Connect Your Facebook\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1523,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: loginWithFacebook,\n            disabled: isConnecting || isCheckingStatus,\n            className: \"connect-button\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              width: \"24\",\n              height: \"24\",\n              viewBox: \"0 0 24 24\",\n              fill: \"white\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1533,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1532,\n              columnNumber: 17\n            }, this), isCheckingStatus ? 'Checking Connection...' : isConnecting ? 'Connecting...' : 'Connect Facebook']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1527,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1516,\n          columnNumber: 13\n        }, this) :\n        /*#__PURE__*/\n        /* Connected Content */\n        _jsxDEV(\"div\", {\n          className: \"facebook-connected-content\",\n          children: [availablePages.length > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"page-selector-enhanced\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"page-selector-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"page-avatar\",\n                children: selectedPage && selectedPage.profilePicture ? /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: selectedPage.profilePicture,\n                  alt: selectedPage.name,\n                  className: \"page-avatar-image\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1547,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"page-avatar-placeholder\",\n                  children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                    width: \"24\",\n                    height: \"24\",\n                    viewBox: \"0 0 24 24\",\n                    fill: \"currentColor\",\n                    children: /*#__PURE__*/_jsxDEV(\"path\", {\n                      d: \"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1555,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1554,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1553,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1545,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"page-selector-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"page-selector-title\",\n                  children: \"Select a Page\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1561,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"page-selector-subtitle\",\n                  children: \"Choose which Facebook page to manage\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1562,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1560,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1544,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"page-selector-dropdown-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"page-dropdown\",\n                className: \"page-dropdown-enhanced\",\n                value: (selectedPage === null || selectedPage === void 0 ? void 0 : selectedPage.id) || '',\n                onChange: e => {\n                  const page = availablePages.find(p => p.id === e.target.value);\n                  if (page && (selectedPage === null || selectedPage === void 0 ? void 0 : selectedPage.id) !== page.id) {\n                    setSelectedPage(page);\n                    setAutoPostHistory([]);\n                    setManualPostHistory([]);\n                    setShowBulkComposer(false);\n                    setActiveTab('auto');\n                    setConnectionStatus('');\n                    setScheduleData({\n                      prompt: '',\n                      time: '',\n                      frequency: 'daily',\n                      customDate: '',\n                      isActive: false,\n                      scheduleId: null\n                    });\n                    setAutoReplyMessagesEnabled(true);\n                    setAutoReplyMessagesLoading(false);\n                    setAutoReplyMessagesError(null);\n                    setTimeout(() => {\n                      loadAutoReplySettings();\n                      loadPostHistory();\n                    }, 100);\n                  }\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  disabled: true,\n                  children: \"Choose a page...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1598,\n                  columnNumber: 23\n                }, this), availablePages.map(page => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: page.id,\n                  children: [page.name, \" (\", page.category, \")\"]\n                }, page.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1600,\n                  columnNumber: 25\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1567,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"page-selector-icon\",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  width: \"16\",\n                  height: \"16\",\n                  viewBox: \"0 0 24 24\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  strokeWidth: \"2\",\n                  children: /*#__PURE__*/_jsxDEV(\"polyline\", {\n                    points: \"6,9 12,15 18,9\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1608,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1607,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1606,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1566,\n              columnNumber: 19\n            }, this), selectedPage && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"page-selector-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"page-info-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  width: \"16\",\n                  height: \"16\",\n                  viewBox: \"0 0 24 24\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  strokeWidth: \"2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1617,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                    cx: \"9\",\n                    cy: \"7\",\n                    r: \"4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1618,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M23 21v-2a4 4 0 0 0-3-3.87\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1619,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M16 3.13a4 4 0 0 1 0 7.75\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1620,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1616,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [((_selectedPage$followe = selectedPage.followerCount) === null || _selectedPage$followe === void 0 ? void 0 : _selectedPage$followe.toLocaleString()) || 0, \" followers\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1622,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1615,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"page-info-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"status-dot connected\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1625,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Connected & Ready\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1626,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1624,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1614,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1543,\n            columnNumber: 17\n          }, this), selectedPage && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"facebook-content-area\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tab-navigation\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: `tab-button ${activeTab === 'auto' ? 'active' : ''}`,\n                onClick: () => {\n                  setActiveTab('auto');\n                  setShowAutomate(false);\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  width: \"16\",\n                  height: \"16\",\n                  viewBox: \"0 0 24 24\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  strokeWidth: \"2\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1646,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1645,\n                  columnNumber: 23\n                }, this), isMobile() ? 'AI' : 'AI Generate']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1638,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `tab-button ${activeTab === 'manual' ? 'active' : ''}`,\n                onClick: () => {\n                  setActiveTab('manual');\n                  setShowAutomate(false);\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  width: \"16\",\n                  height: \"16\",\n                  viewBox: \"0 0 24 24\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  strokeWidth: \"2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1658,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1659,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1657,\n                  columnNumber: 23\n                }, this), isMobile() ? 'Manual' : 'Manual Post']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1650,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `tab-button ${activeTab === 'bulk' ? 'active' : ''}`,\n                onClick: () => {\n                  setActiveTab('bulk');\n                  setShowBulkComposer(true);\n                  setShowAutomate(false);\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  width: \"16\",\n                  height: \"16\",\n                  viewBox: \"0 0 24 24\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  strokeWidth: \"2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M3 3h18v18H3z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1672,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M9 9h6v6H9z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1673,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M15 3v18\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1674,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M9 3v18\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1675,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1671,\n                  columnNumber: 23\n                }, this), isMobile() ? 'Bulk' : 'Bulk Composer']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1663,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `tab-button ${activeTab === 'automate' ? 'active' : ''}`,\n                onClick: () => {\n                  setActiveTab('automate');\n                  setShowAutomate(true);\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  width: \"16\",\n                  height: \"16\",\n                  viewBox: \"0 0 24 24\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  strokeWidth: \"2\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1687,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1686,\n                  columnNumber: 23\n                }, this), isMobile() ? 'Automate' : 'Automate']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1679,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1637,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tab-content\",\n              children: [activeTab === 'automate' && showAutomate && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"automate-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"Automate\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1698,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"automate-toggles\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"automate-toggle\",\n                    style: {\n                      alignItems: 'center',\n                      gap: 8\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"auto-reply-comments-toggle\",\n                      style: {\n                        display: 'flex',\n                        alignItems: 'center',\n                        gap: 4\n                      },\n                      children: [\"Auto-Reply Comments\", /*#__PURE__*/_jsxDEV(\"span\", {\n                        title: \"Auto-reply to comments is always enabled for all posts. Every new post will automatically have AI-powered comment replies.\",\n                        \"aria-label\": \"Info: Auto-reply to comments is always enabled for all posts.\",\n                        style: {\n                          cursor: 'pointer',\n                          display: 'inline-flex',\n                          alignItems: 'center'\n                        },\n                        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                          style: {\n                            marginLeft: 2,\n                            verticalAlign: 'middle'\n                          },\n                          width: \"16\",\n                          height: \"16\",\n                          viewBox: \"0 0 24 24\",\n                          fill: \"none\",\n                          stroke: \"#888\",\n                          strokeWidth: \"2\",\n                          children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                            cx: \"12\",\n                            cy: \"12\",\n                            r: \"10\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1709,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                            x1: \"12\",\n                            y1: \"8\",\n                            x2: \"12\",\n                            y2: \"12\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1710,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                            cx: \"12\",\n                            cy: \"16\",\n                            r: \"1\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1711,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1708,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1703,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1701,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      id: \"auto-reply-comments-toggle\",\n                      type: \"checkbox\",\n                      checked: true,\n                      disabled: true,\n                      style: {\n                        accentColor: '#28a745',\n                        cursor: 'not-allowed'\n                      },\n                      \"aria-label\": \"Auto-Reply Comments Always On\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1715,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"automate-toggle-status enabled\",\n                      style: {\n                        color: '#28a745',\n                        fontWeight: 600\n                      },\n                      children: \"Always On\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1723,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1700,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"automate-toggle-row\",\n                    style: {\n                      marginTop: 16\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"auto-reply-messages-toggle\",\n                      children: \"Auto-Reply Messages\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1726,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      id: \"auto-reply-messages-toggle\",\n                      type: \"checkbox\",\n                      checked: autoReplyMessagesEnabled,\n                      disabled: autoReplyMessagesLoading || !autoReplyMessageRule,\n                      onChange: handleAutoReplyMessagesToggle,\n                      \"aria-label\": \"Toggle Auto-Reply Messages\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1727,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `automate-toggle-status ${autoReplyMessagesEnabled ? 'enabled' : 'disabled'}`,\n                      children: autoReplyMessagesEnabled ? 'On' : 'Off'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1735,\n                      columnNumber: 29\n                    }, this), autoReplyMessagesLoading && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"automate-loading\",\n                      children: \"Loading...\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1736,\n                      columnNumber: 58\n                    }, this), autoReplyMessagesError && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"automate-error\",\n                      children: autoReplyMessagesError\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1737,\n                      columnNumber: 56\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1725,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1699,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"automate-info\",\n                  style: {\n                    background: '#f5f7fa',\n                    borderRadius: 6,\n                    padding: 12,\n                    marginTop: 16,\n                    display: 'flex',\n                    alignItems: 'flex-start',\n                    gap: 8\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                    width: \"18\",\n                    height: \"18\",\n                    viewBox: \"0 0 24 24\",\n                    fill: \"none\",\n                    stroke: \"#1877f2\",\n                    strokeWidth: \"2\",\n                    style: {\n                      verticalAlign: 'middle',\n                      marginTop: 2\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                      cx: \"12\",\n                      cy: \"12\",\n                      r: \"10\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1742,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                      x1: \"12\",\n                      y1: \"8\",\n                      x2: \"12\",\n                      y2: \"12\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1743,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                      cx: \"12\",\n                      cy: \"16\",\n                      r: \"1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1744,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1741,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Auto-reply to comments is always enabled for all posts.\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1747,\n                      columnNumber: 29\n                    }, this), \" Every new post will automatically have AI-powered comment replies.\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1746,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1740,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"automate-message-template\",\n                  style: {\n                    marginTop: 16\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Message Template:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1751,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"automate-message-template-box\",\n                    style: {\n                      background: '#f5f7fa',\n                      borderRadius: 4,\n                      padding: 8,\n                      color: '#888',\n                      fontStyle: 'italic'\n                    },\n                    children: (autoReplyMessageRule === null || autoReplyMessageRule === void 0 ? void 0 : (_autoReplyMessageRule = autoReplyMessageRule.actions) === null || _autoReplyMessageRule === void 0 ? void 0 : _autoReplyMessageRule.message_template) || \"Thank you for your message! We'll get back to you soon.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1752,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      color: '#888',\n                      fontSize: '0.95em',\n                      marginTop: 4\n                    },\n                    children: \"(To change the auto-reply template or logic, contact your admin.)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1755,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1750,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1697,\n                columnNumber: 23\n              }, this), activeTab === 'auto' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"auto-post-form\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    children: \"AI Content Generation\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1765,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"Content Prompt\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1769,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                      name: \"prompt\",\n                      value: autoFormData.prompt,\n                      onChange: handleAutoInputChange,\n                      placeholder: \"Describe what you want to post about...\",\n                      className: \"form-textarea\",\n                      rows: \"3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1770,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1768,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group\",\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: generatePostContent,\n                      disabled: !autoFormData.prompt.trim() || autoFormData.isGenerating,\n                      className: \"btn btn-primary\",\n                      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                        width: \"16\",\n                        height: \"16\",\n                        viewBox: \"0 0 24 24\",\n                        fill: \"none\",\n                        stroke: \"currentColor\",\n                        strokeWidth: \"2\",\n                        children: /*#__PURE__*/_jsxDEV(\"path\", {\n                          d: \"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1788,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1787,\n                        columnNumber: 31\n                      }, this), autoFormData.isGenerating ? 'Generating...' : 'Generate Content']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1782,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1781,\n                    columnNumber: 27\n                  }, this), autoFormData.generatedContent && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"Generated Content\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1797,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                      value: autoFormData.generatedContent,\n                      readOnly: true,\n                      className: \"form-textarea generated-content\",\n                      rows: \"4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1798,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1796,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"Media Options\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1809,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"media-options\",\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"button\",\n                        className: `media-option ${autoFormData.mediaType === 'none' ? 'active' : ''}`,\n                        onClick: () => handleMediaTypeChange('none', 'auto'),\n                        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                          width: \"16\",\n                          height: \"16\",\n                          viewBox: \"0 0 24 24\",\n                          fill: \"none\",\n                          stroke: \"currentColor\",\n                          strokeWidth: \"2\",\n                          children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                            d: \"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1817,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n                            points: \"14,2 14,8 20,8\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1818,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                            x1: \"16\",\n                            y1: \"13\",\n                            x2: \"8\",\n                            y2: \"13\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1819,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                            x1: \"16\",\n                            y1: \"17\",\n                            x2: \"8\",\n                            y2: \"17\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1820,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n                            points: \"10,9 9,9 8,9\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1821,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1816,\n                          columnNumber: 33\n                        }, this), \"Text Only\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1811,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"button\",\n                        className: `media-option ${autoFormData.mediaType === 'ai_image' ? 'active' : ''}`,\n                        onClick: () => handleMediaTypeChange('ai_image', 'auto'),\n                        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                          width: \"16\",\n                          height: \"16\",\n                          viewBox: \"0 0 24 24\",\n                          fill: \"none\",\n                          stroke: \"currentColor\",\n                          strokeWidth: \"2\",\n                          children: /*#__PURE__*/_jsxDEV(\"path\", {\n                            d: \"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1831,\n                            columnNumber: 35\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1830,\n                          columnNumber: 33\n                        }, this), \"AI Image\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1825,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1810,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1808,\n                    columnNumber: 27\n                  }, this), autoFormData.mediaType === 'ai_image' && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ai-image-section\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        children: \"Image Prompt\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1842,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        name: \"imagePrompt\",\n                        value: autoFormData.imagePrompt,\n                        onChange: handleAutoInputChange,\n                        placeholder: \"Describe the image you want to generate...\",\n                        className: \"form-input\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1843,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1841,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group\",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => generateImage('auto'),\n                        disabled: !autoFormData.imagePrompt.trim() || autoFormData.isGeneratingImage,\n                        className: \"btn btn-secondary\",\n                        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                          width: \"16\",\n                          height: \"16\",\n                          viewBox: \"0 0 24 24\",\n                          fill: \"none\",\n                          stroke: \"currentColor\",\n                          strokeWidth: \"2\",\n                          children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n                            x: \"3\",\n                            y: \"3\",\n                            width: \"18\",\n                            height: \"18\",\n                            rx: \"2\",\n                            ry: \"2\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1859,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                            cx: \"8.5\",\n                            cy: \"8.5\",\n                            r: \"1.5\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1860,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n                            points: \"21,15 16,10 5,21\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1861,\n                            columnNumber: 37\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1858,\n                          columnNumber: 35\n                        }, this), autoFormData.isGeneratingImage ? 'Generating...' : 'Generate Image']\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1853,\n                        columnNumber: 33\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1852,\n                      columnNumber: 31\n                    }, this), autoFormData.generatedImageUrl && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        children: \"Generated Image\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1868,\n                        columnNumber: 35\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"image-preview\",\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: autoFormData.generatedImageUrl,\n                          alt: \"Generated\",\n                          className: \"preview-image\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1870,\n                          columnNumber: 37\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1869,\n                        columnNumber: 35\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1867,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1840,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group\",\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: generateImageWithCaption,\n                      disabled: !autoFormData.prompt.trim() || autoFormData.isGenerating || autoFormData.isGeneratingImage,\n                      className: \"btn btn-success\",\n                      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                        width: \"16\",\n                        height: \"16\",\n                        viewBox: \"0 0 24 24\",\n                        fill: \"none\",\n                        stroke: \"currentColor\",\n                        strokeWidth: \"2\",\n                        children: /*#__PURE__*/_jsxDEV(\"path\", {\n                          d: \"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1889,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1888,\n                        columnNumber: 31\n                      }, this), \"Generate Content + Image\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1883,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1882,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group\",\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: publishPost,\n                      disabled: !autoFormData.generatedContent || isPublishing,\n                      className: \"btn btn-primary btn-large\",\n                      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                        width: \"16\",\n                        height: \"16\",\n                        viewBox: \"0 0 24 24\",\n                        fill: \"none\",\n                        stroke: \"currentColor\",\n                        strokeWidth: \"2\",\n                        children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                          d: \"M22 2L11 13\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1903,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"polygon\", {\n                          points: \"22,2 15,22 11,13 2,9\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1904,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1902,\n                        columnNumber: 31\n                      }, this), isPublishing ? 'Publishing...' : 'Publish Post']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1897,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1896,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1764,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"post-history\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"post-history-header\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      children: [\"AI Generated Posts (\", autoPostHistory.length, \")\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1913,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: loadPostHistory,\n                      disabled: isLoadingPosts,\n                      className: \"btn btn-secondary btn-small\",\n                      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                        width: \"14\",\n                        height: \"14\",\n                        viewBox: \"0 0 24 24\",\n                        fill: \"none\",\n                        stroke: \"currentColor\",\n                        strokeWidth: \"2\",\n                        children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                          d: \"M23 4v6h-6\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1920,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                          d: \"M20.49 15a9 9 0 1 1-2.12-9.36L23 10\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1921,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1919,\n                        columnNumber: 31\n                      }, this), \"Refresh\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1914,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1912,\n                    columnNumber: 27\n                  }, this), isLoadingPosts ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"loading-posts\",\n                    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                      width: \"24\",\n                      height: \"24\",\n                      viewBox: \"0 0 24 24\",\n                      fill: \"none\",\n                      stroke: \"currentColor\",\n                      strokeWidth: \"2\",\n                      children: /*#__PURE__*/_jsxDEV(\"path\", {\n                        d: \"M21 12a9 9 0 11-6.219-8.56\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1929,\n                        columnNumber: 33\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1928,\n                      columnNumber: 31\n                    }, this), \"Loading posts...\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1927,\n                    columnNumber: 29\n                  }, this) : autoPostHistory.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"posts-list\",\n                    children: autoPostHistory.map((post, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"post-item\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"post-content\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          children: post.content\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1938,\n                          columnNumber: 37\n                        }, this), post.media_urls && post.media_urls.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"post-media\",\n                          children: /*#__PURE__*/_jsxDEV(\"img\", {\n                            src: post.media_urls[0],\n                            alt: \"Post media\",\n                            className: \"post-image\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1941,\n                            columnNumber: 41\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1940,\n                          columnNumber: 39\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1937,\n                        columnNumber: 35\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"post-meta\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"post-date\",\n                          children: new Date(post.created_at || post.next_execution).toLocaleDateString()\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1946,\n                          columnNumber: 37\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: `post-status ${post.status}`,\n                          children: post.status\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1949,\n                          columnNumber: 37\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1945,\n                        columnNumber: 35\n                      }, this)]\n                    }, index, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1936,\n                      columnNumber: 33\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1934,\n                    columnNumber: 29\n                  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"no-posts\",\n                    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                      width: \"48\",\n                      height: \"48\",\n                      viewBox: \"0 0 24 24\",\n                      fill: \"none\",\n                      stroke: \"currentColor\",\n                      strokeWidth: \"1\",\n                      children: /*#__PURE__*/_jsxDEV(\"path\", {\n                        d: \"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1957,\n                        columnNumber: 33\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1956,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: \"No AI generated posts yet. Create your first post!\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1959,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1955,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1911,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true), activeTab === 'manual' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"manual-post-form\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    children: \"Manual Post\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1969,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"Post Message\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1973,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                      name: \"message\",\n                      value: manualFormData.message,\n                      onChange: handleManualInputChange,\n                      placeholder: \"What's on your mind?\",\n                      className: \"form-textarea\",\n                      rows: \"4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1974,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1972,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"Media Options\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1986,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"media-options\",\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"button\",\n                        className: `media-option ${manualFormData.mediaType === 'none' ? 'active' : ''}`,\n                        onClick: () => handleMediaTypeChange('none', 'manual'),\n                        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                          width: \"16\",\n                          height: \"16\",\n                          viewBox: \"0 0 24 24\",\n                          fill: \"none\",\n                          stroke: \"currentColor\",\n                          strokeWidth: \"2\",\n                          children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                            d: \"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1994,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n                            points: \"14,2 14,8 20,8\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1995,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                            x1: \"16\",\n                            y1: \"13\",\n                            x2: \"8\",\n                            y2: \"13\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1996,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                            x1: \"16\",\n                            y1: \"17\",\n                            x2: \"8\",\n                            y2: \"17\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1997,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n                            points: \"10,9 9,9 8,9\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1998,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1993,\n                          columnNumber: 33\n                        }, this), \"Text Only\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1988,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"button\",\n                        className: `media-option ${manualFormData.mediaType === 'photo' ? 'active' : ''}`,\n                        onClick: () => handleMediaTypeChange('photo', 'manual'),\n                        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                          width: \"16\",\n                          height: \"16\",\n                          viewBox: \"0 0 24 24\",\n                          fill: \"none\",\n                          stroke: \"currentColor\",\n                          strokeWidth: \"2\",\n                          children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n                            x: \"3\",\n                            y: \"3\",\n                            width: \"18\",\n                            height: \"18\",\n                            rx: \"2\",\n                            ry: \"2\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2008,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                            cx: \"8.5\",\n                            cy: \"8.5\",\n                            r: \"1.5\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2009,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n                            points: \"21,15 16,10 5,21\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2010,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2007,\n                          columnNumber: 33\n                        }, this), \"Upload Photo\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2002,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"button\",\n                        className: `media-option ${manualFormData.mediaType === 'video' ? 'active' : ''}`,\n                        onClick: () => handleMediaTypeChange('video', 'manual'),\n                        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                          width: \"16\",\n                          height: \"16\",\n                          viewBox: \"0 0 24 24\",\n                          fill: \"none\",\n                          stroke: \"currentColor\",\n                          strokeWidth: \"2\",\n                          children: [/*#__PURE__*/_jsxDEV(\"polygon\", {\n                            points: \"23,7 16,12 23,17 23,7\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2020,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n                            x: \"1\",\n                            y: \"5\",\n                            width: \"15\",\n                            height: \"14\",\n                            rx: \"2\",\n                            ry: \"2\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2021,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2019,\n                          columnNumber: 33\n                        }, this), \"Upload Video\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2014,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1987,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1985,\n                    columnNumber: 27\n                  }, this), manualFormData.mediaType === 'photo' && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"Upload Photo\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2031,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"file\",\n                      name: \"mediaFile\",\n                      accept: \"image/*\",\n                      onChange: handleManualInputChange,\n                      className: \"form-file-input\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2032,\n                      columnNumber: 31\n                    }, this), manualFormData.mediaFile && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"image-preview\",\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: URL.createObjectURL(manualFormData.mediaFile),\n                        alt: \"Preview\",\n                        className: \"preview-image\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2041,\n                        columnNumber: 35\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2040,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2030,\n                    columnNumber: 29\n                  }, this), manualFormData.mediaType === 'video' && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"Upload Video\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2054,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"file\",\n                      name: \"mediaFile\",\n                      accept: \"video/*\",\n                      onChange: handleManualInputChange,\n                      className: \"form-file-input\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2055,\n                      columnNumber: 31\n                    }, this), manualFormData.mediaFile && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"video-preview\",\n                      children: [/*#__PURE__*/_jsxDEV(\"video\", {\n                        src: URL.createObjectURL(manualFormData.mediaFile),\n                        controls: true,\n                        className: \"preview-video\",\n                        style: {\n                          maxWidth: '100%',\n                          maxHeight: '300px'\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2064,\n                        columnNumber: 35\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"video-info\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          children: [\"File: \", manualFormData.mediaFile.name]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2071,\n                          columnNumber: 37\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          children: [\"Size: \", (manualFormData.mediaFile.size / (1024 * 1024)).toFixed(2), \" MB\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2072,\n                          columnNumber: 37\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2070,\n                        columnNumber: 35\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2063,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2053,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group\",\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: publishPost,\n                      disabled: !manualFormData.message.trim() || isPublishing,\n                      className: \"btn btn-primary btn-large\",\n                      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                        width: \"16\",\n                        height: \"16\",\n                        viewBox: \"0 0 24 24\",\n                        fill: \"none\",\n                        stroke: \"currentColor\",\n                        strokeWidth: \"2\",\n                        children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                          d: \"M22 2L11 13\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2087,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"polygon\", {\n                          points: \"22,2 15,22 11,13 2,9\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2088,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2086,\n                        columnNumber: 31\n                      }, this), isPublishing ? 'Publishing...' : 'Publish Post']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2081,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2080,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1968,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"post-history\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"post-history-header\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      children: [\"Manual Posts (\", manualPostHistory.length, \")\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2097,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: loadPostHistory,\n                      disabled: isLoadingPosts,\n                      className: \"btn btn-secondary btn-small\",\n                      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                        width: \"14\",\n                        height: \"14\",\n                        viewBox: \"0 0 24 24\",\n                        fill: \"none\",\n                        stroke: \"currentColor\",\n                        strokeWidth: \"2\",\n                        children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                          d: \"M23 4v6h-6\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2104,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                          d: \"M20.49 15a9 9 0 1 1-2.12-9.36L23 10\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2105,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2103,\n                        columnNumber: 31\n                      }, this), \"Refresh\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2098,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2096,\n                    columnNumber: 27\n                  }, this), isLoadingPosts ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"loading-posts\",\n                    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                      width: \"24\",\n                      height: \"24\",\n                      viewBox: \"0 0 24 24\",\n                      fill: \"none\",\n                      stroke: \"currentColor\",\n                      strokeWidth: \"2\",\n                      children: /*#__PURE__*/_jsxDEV(\"path\", {\n                        d: \"M21 12a9 9 0 11-6.219-8.56\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2113,\n                        columnNumber: 33\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2112,\n                      columnNumber: 31\n                    }, this), \"Loading posts...\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2111,\n                    columnNumber: 29\n                  }, this) : manualPostHistory.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"posts-list\",\n                    children: manualPostHistory.map((post, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"post-item\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"post-content\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          children: post.content\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2122,\n                          columnNumber: 37\n                        }, this), post.media_urls && post.media_urls.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"post-media\",\n                          children: /*#__PURE__*/_jsxDEV(\"img\", {\n                            src: post.media_urls[0],\n                            alt: \"Post media\",\n                            className: \"post-image\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2125,\n                            columnNumber: 41\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2124,\n                          columnNumber: 39\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2121,\n                        columnNumber: 35\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"post-meta\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"post-date\",\n                          children: new Date(post.created_at || post.next_execution).toLocaleDateString()\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2130,\n                          columnNumber: 37\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: `post-status ${post.status}`,\n                          children: post.status\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2133,\n                          columnNumber: 37\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2129,\n                        columnNumber: 35\n                      }, this)]\n                    }, index, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2120,\n                      columnNumber: 33\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2118,\n                    columnNumber: 29\n                  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"no-posts\",\n                    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                      width: \"48\",\n                      height: \"48\",\n                      viewBox: \"0 0 24 24\",\n                      fill: \"none\",\n                      stroke: \"currentColor\",\n                      strokeWidth: \"1\",\n                      children: /*#__PURE__*/_jsxDEV(\"path\", {\n                        d: \"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2141,\n                        columnNumber: 33\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2140,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: \"No manual posts yet. Create your first post!\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2143,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2139,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2095,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true), activeTab === 'bulk' && showBulkComposer && /*#__PURE__*/_jsxDEV(BulkComposer, {\n                selectedPage: selectedPage,\n                availablePages: availablePages,\n                onPageChange: setSelectedPage,\n                onClose: () => {\n                  setShowBulkComposer(false);\n                  setActiveTab('auto');\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2151,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1694,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1635,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1540,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1513,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1504,\n      columnNumber: 7\n    }, this), showFilePicker && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      onClick: closeFilePicker,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"Select \", filePickerType === 'photo' ? 'Photo' : 'Video']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2174,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: closeFilePicker,\n            className: \"modal-close\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              width: \"20\",\n              height: \"20\",\n              viewBox: \"0 0 24 24\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              strokeWidth: \"2\",\n              children: [/*#__PURE__*/_jsxDEV(\"line\", {\n                x1: \"18\",\n                y1: \"6\",\n                x2: \"6\",\n                y2: \"18\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2177,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                x1: \"6\",\n                y1: \"6\",\n                x2: \"18\",\n                y2: \"18\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2178,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2176,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2175,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2173,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"file-picker-options\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"file-option\",\n              onClick: () => document.getElementById('local-file-input').click(),\n              onTouchStart: e => e.preventDefault(),\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"file-option-icon\",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  width: \"32\",\n                  height: \"32\",\n                  viewBox: \"0 0 24 24\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  strokeWidth: \"2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2191,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n                    points: \"14,2 14,8 20,8\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2192,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                    x1: \"16\",\n                    y1: \"13\",\n                    x2: \"8\",\n                    y2: \"13\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2193,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                    x1: \"16\",\n                    y1: \"17\",\n                    x2: \"8\",\n                    y2: \"17\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2194,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n                    points: \"10,9 9,9 8,9\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2195,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2190,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2189,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"file-option-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"Local System\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2199,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Select a file from your computer\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2200,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2198,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2184,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `file-option ${!googleDriveAvailable ? 'disabled' : ''}`,\n              onClick: handleGoogleDriveSelect,\n              onTouchStart: e => {\n                if (!googleDriveAvailable) {\n                  e.preventDefault();\n                  return;\n                }\n                e.preventDefault();\n                handleGoogleDriveSelect();\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"file-option-icon\",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  width: \"32\",\n                  height: \"32\",\n                  viewBox: \"0 0 24 24\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  strokeWidth: \"2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2218,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n                    points: \"9,22 9,12 15,12 15,22\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2219,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2217,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2216,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"file-option-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"Google Drive\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2223,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: googleDriveAvailable ? 'Select a file from your Google Drive' : 'Google Drive not configured. See setup guide.'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2224,\n                  columnNumber: 21\n                }, this), isLoadingGoogleDrive && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"loading-indicator\",\n                  children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                    width: \"16\",\n                    height: \"16\",\n                    viewBox: \"0 0 24 24\",\n                    fill: \"none\",\n                    stroke: \"currentColor\",\n                    strokeWidth: \"2\",\n                    children: /*#__PURE__*/_jsxDEV(\"path\", {\n                      d: \"M21 12a9 9 0 11-6.219-8.56\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2233,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2232,\n                    columnNumber: 25\n                  }, this), \"Loading...\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2231,\n                  columnNumber: 23\n                }, this), !googleDriveAvailable && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"unavailable-indicator\",\n                  children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                    width: \"16\",\n                    height: \"16\",\n                    viewBox: \"0 0 24 24\",\n                    fill: \"none\",\n                    stroke: \"currentColor\",\n                    strokeWidth: \"2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                      cx: \"12\",\n                      cy: \"12\",\n                      r: \"10\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2241,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                      x1: \"15\",\n                      y1: \"9\",\n                      x2: \"9\",\n                      y2: \"15\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2242,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                      x1: \"9\",\n                      y1: \"9\",\n                      x2: \"15\",\n                      y2: \"15\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2243,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2240,\n                    columnNumber: 25\n                  }, this), \"Not Available\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2239,\n                  columnNumber: 23\n                }, this), googleDriveAvailable && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"drive-actions\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"debug-drive-btn\",\n                    onClick: e => {\n                      e.stopPropagation();\n                      debugGoogleDrive();\n                    },\n                    title: \"Debug Google Drive\",\n                    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                      width: \"14\",\n                      height: \"14\",\n                      viewBox: \"0 0 24 24\",\n                      fill: \"none\",\n                      stroke: \"currentColor\",\n                      strokeWidth: \"2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                        cx: \"12\",\n                        cy: \"12\",\n                        r: \"10\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2259,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                        x1: \"12\",\n                        y1: \"8\",\n                        x2: \"12\",\n                        y2: \"12\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2260,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                        cx: \"12\",\n                        cy: \"16\",\n                        r: \"1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2261,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2258,\n                      columnNumber: 27\n                    }, this), \"Debug\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2250,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"test-images-btn\",\n                    onClick: e => {\n                      e.stopPropagation();\n                      testGoogleDriveImages();\n                    },\n                    title: \"Test Images/Videos\",\n                    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                      width: \"14\",\n                      height: \"14\",\n                      viewBox: \"0 0 24 24\",\n                      fill: \"none\",\n                      stroke: \"currentColor\",\n                      strokeWidth: \"2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n                        x: \"3\",\n                        y: \"3\",\n                        width: \"18\",\n                        height: \"18\",\n                        rx: \"2\",\n                        ry: \"2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2274,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                        cx: \"8.5\",\n                        cy: \"8.5\",\n                        r: \"1.5\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2275,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n                        points: \"21,15 16,10 5,21\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2276,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2273,\n                      columnNumber: 27\n                    }, this), \"Test Images\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2265,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"clear-tokens-btn\",\n                    onClick: e => {\n                      e.stopPropagation();\n                      clearGoogleDriveTokens();\n                    },\n                    title: \"Clear Google Drive Tokens\",\n                    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                      width: \"14\",\n                      height: \"14\",\n                      viewBox: \"0 0 24 24\",\n                      fill: \"none\",\n                      stroke: \"currentColor\",\n                      strokeWidth: \"2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                        d: \"M3 6h18\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2289,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                        d: \"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2290,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                        d: \"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2291,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2288,\n                      columnNumber: 27\n                    }, this), \"Clear\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2280,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"disconnect-drive-btn\",\n                    onClick: e => {\n                      e.stopPropagation();\n                      disconnectGoogleDrive();\n                    },\n                    title: \"Disconnect Google Drive\",\n                    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                      width: \"14\",\n                      height: \"14\",\n                      viewBox: \"0 0 24 24\",\n                      fill: \"none\",\n                      stroke: \"currentColor\",\n                      strokeWidth: \"2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"line\", {\n                        x1: \"18\",\n                        y1: \"6\",\n                        x2: \"6\",\n                        y2: \"18\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2304,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                        x1: \"6\",\n                        y1: \"6\",\n                        x2: \"18\",\n                        y2: \"18\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2305,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2303,\n                      columnNumber: 27\n                    }, this), \"Disconnect\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2295,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2249,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2222,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2204,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2183,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"local-file-input\",\n            type: \"file\",\n            accept: filePickerType === 'photo' ? 'image/*' : 'video/*',\n            onChange: handleLocalFileSelect,\n            style: {\n              display: 'none'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2316,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2182,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2172,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2171,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1433,\n    columnNumber: 5\n  }, this);\n}\n_s(FacebookPage, \"Qh1Joh7kVzH7OG6QjFBlZApKJCw=\", false, function () {\n  return [useNavigate, useAuth];\n});\n_c = FacebookPage;\nexport default FacebookPage;\nvar _c;\n$RefreshReg$(_c, \"FacebookPage\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useNavigate","useAuth","apiClient","fileToBase64","loadFacebookSDK","BulkComposer","jsxDEV","_jsxDEV","Fragment","_Fragment","FacebookPage","_s","_selectedPage$followe","_autoReplyMessageRule","navigate","logout","isConnecting","setIsConnecting","connectionStatus","setConnectionStatus","selectedPage","setSelectedPage","availablePages","setAvailablePages","facebookConnected","setFacebookConnected","activeTab","setActiveTab","isLoggingOut","setIsLoggingOut","isCheckingStatus","setIsCheckingStatus","autoFormData","setAutoFormData","prompt","mediaType","mediaFile","generatedContent","isGenerating","imagePrompt","generatedImageUrl","generatedImageFilename","isGeneratingImage","manualFormData","setManualFormData","message","isPublishing","setIsPublishing","autoPostHistory","setAutoPostHistory","manualPostHistory","setManualPostHistory","isLoadingPosts","setIsLoadingPosts","showBulkComposer","setShowBulkComposer","showAutomate","setShowAutomate","autoReplyMessagesEnabled","setAutoReplyMessagesEnabled","autoReplyMessagesLoading","setAutoReplyMessagesLoading","autoReplyMessagesError","setAutoReplyMessagesError","showFilePicker","setShowFilePicker","filePickerType","setFilePickerType","filePickerFormType","setFilePickerFormType","isLoadingGoogleDrive","setIsLoadingGoogleDrive","googleDriveAvailable","setGoogleDriveAvailable","scheduleData","setScheduleData","time","frequency","customDate","isActive","scheduleId","autoReplyMessageRule","setAutoReplyMessageRule","autoReplySettings","setAutoReplySettings","enabled","template","ruleId","selectedPostIds","FACEBOOK_APP_ID","process","env","REACT_APP_FACEBOOK_APP_ID","isMobile","window","innerWidth","loadAutoReplySettings","console","log","id","name","rules","getAutomationRules","socialAccounts","getSocialAccounts","facebookAccounts","filter","acc","platform","is_connected","matchingAccount","find","platform_user_id","autoReplyRule","rule","social_account_id","_autoReplyRule$action3","_autoReplyRule$action4","prev","_autoReplyRule$action","_autoReplyRule$action2","is_active","actions","response_template","selected_post_ids","error","checkExistingFacebookConnections","response","getFacebookStatus","connected","accountsError","warn","pagesFromBackend","accounts","pages","map","page","platform_id","internalId","category","access_token","profilePicture","profile_picture","canPost","can_post","canComment","can_comment","followerCount","follower_count","length","pages_count","checkGoogleDriveAvailability","handleResize","addEventListener","removeEventListener","authenticated","getGoogleDriveStatus","debugGoogleDrive","debugInfo","total_files_found","testGoogleDriveImages","testInfo","image_count","video_count","testGoogleDriveFiles","mimeType","filesResponse","getGoogleDriveFiles","success","total_files","files","slice","disconnectGoogleDrive","clearGoogleDriveTokens","openDriveAuthPopup","authUrl","Promise","resolve","reject","w","Math","min","h","innerHeight","left","outerWidth","top","outerHeight","popup","open","Error","resolved","messageHandler","event","data","clearInterval","timer","setInterval","closed","e","setTimeout","close","loadPostHistory","getSocialPosts","posts","sort","a","b","Date","created_at","next_execution","topPosts","_","index","handleFacebookLogout","safeScheduleData","confirmDisconnect","confirm","deleteScheduledPost","scheduleError","logoutFacebook","fetchPages","accessToken","mappedPages","userInfo","_permissionsResponse$","permissionsResponse","FB","api","grantedPermissions","p","status","permission","requiredPermissions","missingPermissions","includes","join","fields","pagesResponse","code","_page$picture","_page$picture$data","tasks","picture","url","fan_count","connectToBackend","_response$data","_response$data$data","connectFacebook","token_type","expiresAt","token_expires_at","expiryDate","toLocaleDateString","updatedPages","_error$response","_error$response2","_error$response2$data","_error$response2$data2","detail","_error$response3","_error$response3$data","handleAutoInputChange","value","target","handleManualInputChange","handleMediaTypeChange","type","formType","openFilePicker","closeFilePicker","handleLocalFileSelect","file","setFormData","handleGoogleDriveSelect","authResponse","getGoogleDriveAuthorizeUrl","consent_url","finalStatus","retries","loadGoogleDriveAPI","google","picker","tokenResponse","getGoogleDriveToken","mimeTypes","docsView","DocsView","ViewId","DOCS","setIncludeFolders","setSelectFolderEnabled","setMode","DocsViewMode","LIST","setMimeTypes","PickerBuilder","addView","setOAuthToken","setDeveloperKey","REACT_APP_GOOGLE_DEVELOPER_KEY","setCallback","handleGoogleDriveCallback","setTitle","setOrigin","location","origin","setSize","build","developerKey","setVisible","clearError","script","document","createElement","src","onload","gapi","load","callback","onerror","querySelector","head","appendChild","action","Action","PICKED","docs","size","sizeBytes","fileResponse","downloadGoogleDriveFile","fileName","fileContent","binaryString","atob","bytes","Uint8Array","i","charCodeAt","blob","Blob","fileObj","File","CANCEL","LOADED","fileId","generatePostContent","trim","generateContent","content","generateImage","currentData","generateFacebookImage","image_url","filename","generateImageWithCaption","textResponse","imageResponse","publishPost","isAutoMode","substring","_postOptions$textCont","postResult","postOptions","postType","textContent","contentPrompt","useAIText","imageUrl","imageFilename","useAIImage","imageData","videoData","videoUrl","videoFilename","Object","keys","createFacebookPost","loginWithFacebook","protocol","hostname","getCurrentUser","login","_backendResponse$data","backendResponse","pages_connected","existingAccounts","facebookPages","account_type","backendMappedPages","_page$platform_data","_page$platform_data2","_page$platform_data3","display_name","platform_data","profile_picture_url","backendError","scope","enable_profile_selector","return_scopes","auth_type","display","getStatusCardClass","loadAutoReplyMessageRule","r","err","handleAutoReplyMessagesToggle","updated","updateAutomationRule","className","children","width","height","viewBox","fill","d","_jsxFileName","lineNumber","columnNumber","onClick","disabled","stroke","strokeWidth","points","x1","y1","x2","y2","alt","onChange","cx","cy","toLocaleString","style","alignItems","gap","htmlFor","title","cursor","marginLeft","verticalAlign","checked","accentColor","color","fontWeight","marginTop","background","borderRadius","padding","fontStyle","message_template","fontSize","placeholder","rows","readOnly","x","y","rx","ry","post","media_urls","accept","URL","createObjectURL","controls","maxWidth","maxHeight","toFixed","onPageChange","onClose","stopPropagation","getElementById","click","onTouchStart","preventDefault","_c","$RefreshReg$"],"sources":["C:/Users/THORSIGNIA/Projects/automation-dash/frontend/src/components/FacebookPage.js"],"sourcesContent":["/* eslint-disable no-undef */\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport apiClient from '../services/apiClient';\r\nimport { fileToBase64, loadFacebookSDK } from './FacebookUtils';\r\nimport BulkComposer from './BulkComposer';\r\nimport './FacebookPage.css';\r\n\r\nfunction FacebookPage() {\r\n  const navigate = useNavigate();\r\n  const { logout } = useAuth();\r\n  \r\n  // Core state\r\n  const [isConnecting, setIsConnecting] = useState(false);\r\n  const [connectionStatus, setConnectionStatus] = useState('');\r\n  const [selectedPage, setSelectedPage] = useState(null);\r\n  const [availablePages, setAvailablePages] = useState([]);\r\n  const [facebookConnected, setFacebookConnected] = useState(false);\r\n  const [activeTab, setActiveTab] = useState('auto');\r\n  const [isLoggingOut, setIsLoggingOut] = useState(false);\r\n  const [isCheckingStatus, setIsCheckingStatus] = useState(true);\r\n  \r\n  // Form states\r\n  const [autoFormData, setAutoFormData] = useState({\r\n    prompt: '',\r\n    mediaType: 'none',\r\n    mediaFile: null,\r\n    generatedContent: '',\r\n    isGenerating: false,\r\n    imagePrompt: '',\r\n    generatedImageUrl: null,\r\n    generatedImageFilename: null,\r\n    isGeneratingImage: false\r\n  });\r\n  \r\n  const [manualFormData, setManualFormData] = useState({\r\n    message: '',\r\n    mediaType: 'none',\r\n    mediaFile: null\r\n  });\r\n\r\n  // UI states\r\n  const [isPublishing, setIsPublishing] = useState(false);\r\n  const [autoPostHistory, setAutoPostHistory] = useState([]);\r\n  const [manualPostHistory, setManualPostHistory] = useState([]);\r\n  const [isLoadingPosts, setIsLoadingPosts] = useState(false);\r\n\r\n  const [showBulkComposer, setShowBulkComposer] = useState(false);\r\n  const [showAutomate, setShowAutomate] = useState(false); // <-- Add this line\r\n  const [autoReplyMessagesEnabled, setAutoReplyMessagesEnabled] = useState(true); // Default ON\r\n  const [autoReplyMessagesLoading, setAutoReplyMessagesLoading] = useState(false);\r\n  const [autoReplyMessagesError, setAutoReplyMessagesError] = useState(null);\r\n\r\n  // File picker modal states\r\n  const [showFilePicker, setShowFilePicker] = useState(false);\r\n  const [filePickerType, setFilePickerType] = useState(''); // 'photo' or 'video'\r\n  const [filePickerFormType, setFilePickerFormType] = useState(''); // 'auto' or 'manual'\r\n  const [isLoadingGoogleDrive, setIsLoadingGoogleDrive] = useState(false);\r\n  const [googleDriveAvailable, setGoogleDriveAvailable] = useState(false);\r\n\r\n  // Add this state for scheduleData\r\n  const [scheduleData, setScheduleData] = useState({\r\n    prompt: '',\r\n    time: '',\r\n    frequency: 'daily',\r\n    customDate: '',\r\n    isActive: false,\r\n    scheduleId: null\r\n  });\r\n\r\n  // Add new state for auto-reply message rule\r\n  const [autoReplyMessageRule, setAutoReplyMessageRule] = useState(null);\r\n\r\n  // Add missing autoReplySettings state\r\n  // eslint-disable-next-line no-unused-vars\r\n  const [autoReplySettings, setAutoReplySettings] = useState({\r\n    enabled: false,\r\n    template: 'Thank you for your comment! We appreciate your engagement. 😊',\r\n    ruleId: null,\r\n    selectedPostIds: []\r\n  });\r\n\r\n  const FACEBOOK_APP_ID = process.env.REACT_APP_FACEBOOK_APP_ID || '697225659875731';\r\n\r\n  // Mobile detection utility\r\n  const isMobile = () => window.innerWidth <= 768;\r\n\r\n  const loadAutoReplySettings = useCallback(async () => {\r\n    if (!selectedPage) return;\r\n    \r\n    try {\r\n      console.log('🔄 Loading auto-reply settings for page:', selectedPage.id, selectedPage.name);\r\n      \r\n      // Get automation rules for Facebook auto-reply\r\n      const rules = await apiClient.getAutomationRules('facebook', 'AUTO_REPLY');\r\n      console.log('📋 Found automation rules:', rules);\r\n      \r\n      // Get social accounts to match with the selected page\r\n      const socialAccounts = await apiClient.getSocialAccounts();\r\n      const facebookAccounts = socialAccounts.filter(acc => \r\n        acc.platform === 'facebook' && acc.is_connected\r\n      );\r\n      console.log('👥 Facebook accounts:', facebookAccounts);\r\n      \r\n      // Find the social account that matches the selected page\r\n      const matchingAccount = facebookAccounts.find(acc => \r\n        acc.platform_user_id === selectedPage.id\r\n      );\r\n      console.log('🎯 Matching account:', matchingAccount);\r\n      \r\n      if (matchingAccount) {\r\n        // Find the auto-reply rule for this specific social account\r\n        const autoReplyRule = rules.find(rule => \r\n          rule.social_account_id === matchingAccount.id\r\n        );\r\n        console.log('🤖 Auto-reply rule found:', autoReplyRule);\r\n        \r\n        if (autoReplyRule) {\r\n          setAutoReplySettings(prev => ({\r\n            ...prev,\r\n            enabled: autoReplyRule.is_active,\r\n            template: autoReplyRule.actions?.response_template || prev.template,\r\n            ruleId: autoReplyRule.id,\r\n            selectedPostIds: autoReplyRule.actions?.selected_post_ids || []\r\n          }));\r\n          console.log('✅ Auto-reply settings loaded:', {\r\n            enabled: autoReplyRule.is_active,\r\n            template: autoReplyRule.actions?.response_template,\r\n            ruleId: autoReplyRule.id,\r\n            selectedPostIds: autoReplyRule.actions?.selected_post_ids\r\n          });\r\n        } else {\r\n          // Reset to default state if no rule found\r\n          setAutoReplySettings(prev => ({\r\n            ...prev,\r\n            enabled: false,\r\n            template: 'Thank you for your comment! We appreciate your engagement. 😊',\r\n            ruleId: null,\r\n            selectedPostIds: []\r\n          }));\r\n          console.log('❌ No auto-reply rule found, using defaults');\r\n        }\r\n      } else {\r\n        // No matching account found, reset to default\r\n        setAutoReplySettings(prev => ({\r\n          ...prev,\r\n          enabled: false,\r\n          template: 'Thank you for your comment! We appreciate your engagement. 😊',\r\n          ruleId: null,\r\n          selectedPostIds: []\r\n        }));\r\n        console.log('❌ No matching account found, using defaults');\r\n      }\r\n    } catch (error) {\r\n      console.error('❌ Error loading auto-reply settings:', error);\r\n      // Keep current state on error\r\n    }\r\n  }, [selectedPage]);\r\n\r\n  const checkExistingFacebookConnections = useCallback(async () => {\r\n    try {\r\n      setIsCheckingStatus(true);\r\n      const response = await apiClient.getFacebookStatus();\r\n      \r\n      if (response.connected) {\r\n        setFacebookConnected(true);\r\n        \r\n        let socialAccounts = [];\r\n        let facebookAccounts = [];\r\n        \r\n        try {\r\n          socialAccounts = await apiClient.getSocialAccounts();\r\n          facebookAccounts = socialAccounts.filter(acc => \r\n            acc.platform === 'facebook' && acc.is_connected\r\n          );\r\n        } catch (accountsError) {\r\n          console.warn('Failed to fetch social accounts:', accountsError);\r\n        }\r\n        \r\n        const pagesFromBackend = response.accounts.pages.map(page => {\r\n          const matchingAccount = facebookAccounts.find(acc => \r\n            acc.platform_user_id === page.platform_id\r\n          );\r\n          \r\n          return {\r\n            id: page.platform_id,\r\n            internalId: matchingAccount?.id,\r\n            name: page.name,\r\n            category: page.category,\r\n            access_token: '',\r\n            profilePicture: page.profile_picture || '',\r\n            canPost: page.can_post,\r\n            canComment: page.can_comment,\r\n            followerCount: page.follower_count\r\n          };\r\n        });\r\n        \r\n        setAvailablePages(pagesFromBackend);\r\n        \r\n        if (pagesFromBackend.length === 1) {\r\n          setSelectedPage(pagesFromBackend[0]);\r\n          // Auto-reply settings will be loaded by the useEffect when selectedPage changes\r\n        }\r\n        \r\n        setConnectionStatus(`Connected! ${response.pages_count} Facebook page(s) available.`);\r\n      } else {\r\n        setConnectionStatus('Ready to connect your Facebook account');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error checking Facebook status:', error);\r\n      setConnectionStatus('Unable to check Facebook connection status');\r\n    } finally {\r\n      setIsCheckingStatus(false);\r\n    }\r\n  }, []);\r\n\r\n  // Check for existing Facebook connections on component mount\r\n  useEffect(() => {\r\n    checkExistingFacebookConnections();\r\n    checkGoogleDriveAvailability();\r\n    \r\n    // Add mobile-specific event listeners\r\n    const handleResize = () => {\r\n      // Force re-render on resize for mobile responsiveness\r\n      setConnectionStatus(prev => prev);\r\n    };\r\n    \r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, [checkExistingFacebookConnections]);\r\n\r\n  // Cleanup on component unmount\r\n  useEffect(() => {\r\n    return () => {\r\n      setIsConnecting(false);\r\n      setIsPublishing(false);\r\n      setIsLoggingOut(false);\r\n      setIsCheckingStatus(false);\r\n    };\r\n  }, []);\r\n\r\n  const checkGoogleDriveAvailability = async () => {\r\n    try {\r\n      const { authenticated } = await apiClient.getGoogleDriveStatus();\r\n      setGoogleDriveAvailable(authenticated);\r\n    } catch (error) {\r\n      console.warn('Drive status check failed:', error.message);\r\n      setGoogleDriveAvailable(false);\r\n    }\r\n  };\r\n\r\n  const debugGoogleDrive = async () => {\r\n    try {\r\n      console.log('🔍 Testing Google Drive connectivity...');\r\n      const debugInfo = await apiClient.debugGoogleDrive();\r\n      console.log('🔍 Google Drive Debug Info:', debugInfo);\r\n      setConnectionStatus(`Google Drive Debug: ${debugInfo.message} - Found ${debugInfo.total_files_found} files`);\r\n    } catch (error) {\r\n      console.error('🔍 Google Drive Debug Error:', error);\r\n      setConnectionStatus(`Google Drive Debug Error: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  const testGoogleDriveImages = async () => {\r\n    try {\r\n      console.log('🖼️ Testing Google Drive images/videos...');\r\n      const testInfo = await apiClient.testGoogleDriveImages();\r\n      console.log('🖼️ Google Drive Image/Video Test:', testInfo);\r\n      setConnectionStatus(`Image/Video Test: ${testInfo.image_count} images, ${testInfo.video_count} videos found`);\r\n    } catch (error) {\r\n      console.error('🖼️ Google Drive Image/Video Test Error:', error);\r\n      setConnectionStatus(`Image/Video Test Error: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  const testGoogleDriveFiles = async () => {\r\n    try {\r\n      console.log('📁 Testing Google Drive files listing...');\r\n      const mimeType = filePickerType === 'photo' ? 'image/*' : 'video/*';\r\n      const filesResponse = await apiClient.getGoogleDriveFiles(mimeType);\r\n      console.log('📁 Google Drive Files Response:', filesResponse);\r\n      \r\n      if (filesResponse.success) {\r\n        setConnectionStatus(`Found ${filesResponse.total_files} ${filePickerType}s in Google Drive`);\r\n        console.log('📁 Sample files:', filesResponse.files.slice(0, 5));\r\n      } else {\r\n        setConnectionStatus('Failed to list Google Drive files');\r\n      }\r\n    } catch (error) {\r\n      console.error('📁 Google Drive Files Test Error:', error);\r\n      setConnectionStatus(`Files Test Error: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  const disconnectGoogleDrive = async () => {\r\n    try {\r\n      await apiClient.disconnectGoogleDrive();\r\n      setGoogleDriveAvailable(false);\r\n      setConnectionStatus('Google Drive disconnected successfully!');\r\n    } catch (error) {\r\n      console.error('Error disconnecting Google Drive:', error);\r\n      setConnectionStatus(`Failed to disconnect Google Drive: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  const clearGoogleDriveTokens = async () => {\r\n    try {\r\n      await apiClient.clearGoogleDriveTokens();\r\n      setGoogleDriveAvailable(false);\r\n      setConnectionStatus('Google Drive tokens cleared successfully! Please reconnect.');\r\n    } catch (error) {\r\n      console.error('Error clearing Google Drive tokens:', error);\r\n      setConnectionStatus(`Failed to clear Google Drive tokens: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  const openDriveAuthPopup = (authUrl) => {\r\n    return new Promise((resolve, reject) => {\r\n      // Mobile-friendly popup sizing\r\n      const isMobile = window.innerWidth <= 768;\r\n      const w = isMobile ? Math.min(400, window.innerWidth - 40) : 500;\r\n      const h = isMobile ? Math.min(600, window.innerHeight - 40) : 600;\r\n      const left = (window.outerWidth - w) / 2;\r\n      const top = (window.outerHeight - h) / 2;\r\n\r\n      const popup = window.open(\r\n        authUrl,\r\n        'DriveAuth',\r\n        `width=${w},height=${h},left=${left},top=${top},scrollbars=yes,resizable=yes`\r\n      );\r\n\r\n      if (!popup) {\r\n        reject(new Error('Popup blocked'));\r\n        return;\r\n      }\r\n\r\n      let resolved = false;\r\n      \r\n      // Listen for messages from the popup\r\n      const messageHandler = (event) => {\r\n        // Be more permissive with origins due to Google's OAuth flow\r\n        if (!event.data || resolved) return;\r\n        \r\n        if (event.data.success) {\r\n          resolved = true;\r\n          window.removeEventListener('message', messageHandler);\r\n          clearInterval(timer);\r\n          resolve();\r\n        } else if (event.data.error) {\r\n          resolved = true;\r\n          window.removeEventListener('message', messageHandler);\r\n          clearInterval(timer);\r\n          reject(new Error(event.data.error));\r\n        }\r\n      };\r\n\r\n      window.addEventListener('message', messageHandler);\r\n\r\n      // Poll for popup closure as fallback (with Cross-Origin-Opener-Policy handling)\r\n      const timer = setInterval(() => {\r\n        try {\r\n          if (popup.closed) {\r\n            if (!resolved) {\r\n              resolved = true;\r\n              clearInterval(timer);\r\n              window.removeEventListener('message', messageHandler);\r\n              // Don't assume success immediately - let the main function handle retries\r\n              resolve();\r\n            }\r\n          }\r\n        } catch (e) {\r\n          // Cross-Origin-Opener-Policy may prevent accessing popup.closed\r\n          // In this case, assume the popup process is ongoing\r\n          console.warn('Cannot check popup status due to Cross-Origin-Opener-Policy:', e);\r\n        }\r\n      }, 1000); // Increased interval to 1 second\r\n\r\n      // Timeout after 60 seconds\r\n      setTimeout(() => {\r\n        if (!resolved) {\r\n          resolved = true;\r\n          clearInterval(timer);\r\n          window.removeEventListener('message', messageHandler);\r\n          try {\r\n            popup.close();\r\n          } catch (e) {\r\n            // Ignore errors when closing popup\r\n          }\r\n          reject(new Error('Authentication timeout. Please try again.'));\r\n        }\r\n      }, 60000);\r\n    });\r\n  };\r\n\r\n  const loadPostHistory = useCallback(async () => {\r\n    if (!selectedPage) return;\r\n    try {\r\n      setIsLoadingPosts(true);\r\n      // Pass selectedPage.internalId to filter by page/account\r\n      const response = await apiClient.getSocialPosts('facebook', 50, selectedPage.internalId);\r\n      // Sort posts by created_at or next_execution descending (newest first)\r\n      const posts = response\r\n        .slice(0, 50)\r\n        .sort((a, b) => new Date(b.created_at || b.next_execution) - new Date(a.created_at || a.next_execution));\r\n      const topPosts = posts.slice(0, 10);\r\n      setAutoPostHistory(topPosts.filter((_, index) => index % 2 === 0));\r\n      setManualPostHistory(topPosts.filter((_, index) => index % 2 === 1));\r\n      // Note: schedulePostHistory is now managed by loadScheduledPosts()\r\n    } catch (error) {\r\n      console.error('Error loading post history:', error);\r\n    } finally {\r\n      setIsLoadingPosts(false);\r\n    }\r\n  }, [selectedPage]);\r\n\r\n  // Load posts when page is selected or tab changes\r\n  useEffect(() => {\r\n    if (selectedPage && facebookConnected) {\r\n      loadPostHistory();\r\n      loadAutoReplySettings(); // Load auto-reply settings when page is selected\r\n    }\r\n  }, [selectedPage, facebookConnected, activeTab, loadPostHistory, loadAutoReplySettings]);\r\n\r\n\r\n\r\n  const handleFacebookLogout = async () => {\r\n    try {\r\n      // Ensure scheduleData is always defined\r\n      const safeScheduleData = scheduleData || {};\r\n\r\n      // Check for active schedules before disconnecting\r\n      if (selectedPage && safeScheduleData.isActive) {\r\n        const confirmDisconnect = window.confirm(\r\n          `⚠️ Warning: You have an active schedule for \"${selectedPage.name}\". Disconnecting will deactivate this schedule. Do you want to continue?`\r\n        );\r\n        \r\n        if (!confirmDisconnect) {\r\n          return;\r\n        }\r\n        \r\n        // Deactivate the schedule before disconnecting\r\n        try {\r\n          await apiClient.deleteScheduledPost(safeScheduleData.scheduleId);\r\n          console.log('✅ Schedule deactivated before disconnect');\r\n        } catch (scheduleError) {\r\n          console.warn('Failed to deactivate schedule before disconnect:', scheduleError);\r\n        }\r\n      }\r\n      \r\n      setIsLoggingOut(true);\r\n      setConnectionStatus('Disconnecting from Facebook...');\r\n      \r\n      await apiClient.logoutFacebook();\r\n      \r\n      setFacebookConnected(false);\r\n      setAvailablePages([]);\r\n      setSelectedPage(null);\r\n      setAutoPostHistory([]);\r\n      setManualPostHistory([]);\r\n      \r\n      // Reset schedule data\r\n      setScheduleData({\r\n        prompt: '',\r\n        time: '',\r\n        frequency: 'daily',\r\n        customDate: '',\r\n        isActive: false,\r\n        scheduleId: null\r\n      });\r\n      \r\n      setConnectionStatus('Successfully disconnected from Facebook');\r\n      \r\n      setTimeout(() => {\r\n        setConnectionStatus('Ready to connect your Facebook account');\r\n      }, 3000);\r\n      \r\n    } catch (error) {\r\n      console.error('Error logging out from Facebook:', error);\r\n      setConnectionStatus('Failed to disconnect from Facebook: ' + error.message);\r\n    } finally {\r\n      setIsLoggingOut(false);\r\n    }\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  const fetchPages = async (accessToken) => {\r\n    if (!accessToken) {\r\n      setConnectionStatus('No Facebook access token found. Please try reconnecting.');\r\n      setIsConnecting(false);\r\n      setFacebookConnected(false);\r\n      return { mappedPages: [], userInfo: null };\r\n    }\r\n    \r\n    try {\r\n      const permissionsResponse = await new Promise((resolve, reject) => {\r\n        window.FB.api('/me/permissions', { access_token: accessToken }, (response) => {\r\n          if (response.error) reject(new Error(response.error.message));\r\n          else resolve(response);\r\n        });\r\n      });\r\n      \r\n      const grantedPermissions = permissionsResponse.data?.filter(p => p.status === 'granted').map(p => p.permission) || [];\r\n      const requiredPermissions = ['pages_show_list', 'pages_manage_posts'];\r\n      const missingPermissions = requiredPermissions.filter(p => !grantedPermissions.includes(p));\r\n      \r\n      if (missingPermissions.length > 0) {\r\n        setConnectionStatus(`Missing permissions: ${missingPermissions.join(', ')}. Your app needs \"Pages API\" permissions.`);\r\n      }\r\n      \r\n      const userInfo = await new Promise((resolve, reject) => {\r\n        window.FB.api('/me', { access_token: accessToken, fields: 'id,name,email' }, (response) => {\r\n          if (response.error) reject(new Error(response.error.message));\r\n          else resolve(response);\r\n        });\r\n      });\r\n      \r\n      const pagesResponse = await new Promise((resolve, reject) => {\r\n        window.FB.api('/me/accounts', {\r\n          access_token: accessToken,\r\n          fields: 'id,name,category,access_token,picture,fan_count,tasks'\r\n        }, (response) => {\r\n          if (response.error) {\r\n            reject(new Error(`${response.error.message} (Code: ${response.error.code})`));\r\n          } else {\r\n            resolve(response);\r\n          }\r\n        });\r\n      });\r\n\r\n      const pages = pagesResponse.data || [];\r\n      const mappedPages = pages.map(page => {\r\n        const tasks = page.tasks || [];\r\n        const canPost = tasks.includes('CREATE_CONTENT') || tasks.includes('MANAGE');\r\n        const canComment = tasks.includes('MODERATE') || tasks.includes('MANAGE');\r\n        \r\n        return {\r\n          id: page.id,\r\n          internalId: null,\r\n          name: page.name,\r\n          category: page.category || 'Page',\r\n          access_token: page.access_token,\r\n          profilePicture: page.picture?.data?.url || '',\r\n          canPost: canPost,\r\n          canComment: canComment,\r\n          followerCount: page.fan_count || 0\r\n        };\r\n      });\r\n\r\n      setAvailablePages(mappedPages);\r\n      \r\n      if (mappedPages.length === 1) {\r\n        setSelectedPage(mappedPages[0]);\r\n        setConnectionStatus(`Connected successfully! 1 page found.`);\r\n        // Load auto-reply settings for the single page\r\n        setTimeout(() => loadAutoReplySettings(), 500);\r\n      } else if (mappedPages.length > 1) {\r\n        setSelectedPage(null);\r\n        setConnectionStatus(`Connected successfully! ${mappedPages.length} pages found. Please select a page below.`);\r\n      } else {\r\n        setSelectedPage({\r\n          id: userInfo.id,\r\n          internalId: null,\r\n          name: userInfo.name,\r\n          access_token: accessToken,\r\n          category: 'Personal Profile',\r\n          profilePicture: '',\r\n          canPost: true,\r\n          canComment: true,\r\n          followerCount: 0\r\n        });\r\n        setConnectionStatus('Connected as personal profile (no pages found).');\r\n        // Load auto-reply settings for personal profile\r\n        setTimeout(() => loadAutoReplySettings(), 500);\r\n      }\r\n      setFacebookConnected(true);\r\n      setIsConnecting(false);\r\n      return { mappedPages, userInfo };\r\n    } catch (error) {\r\n      console.error('Facebook API error:', error);\r\n      setConnectionStatus('Failed to get Facebook data: ' + (error.message || 'Unknown error'));\r\n      setIsConnecting(false);\r\n      setFacebookConnected(false);\r\n      return { mappedPages: [], userInfo: null };\r\n    }\r\n  };\r\n\r\n  const connectToBackend = async (accessToken, userInfo, pages) => {\r\n    try {\r\n      const response = await apiClient.connectFacebook(accessToken, userInfo.id, pages);\r\n      \r\n      if (response.data?.data?.token_type === 'long_lived_user_token') {\r\n        const expiresAt = response.data.data.token_expires_at;\r\n        if (expiresAt) {\r\n          const expiryDate = new Date(expiresAt);\r\n          setConnectionStatus(`Connected with long-lived token (expires: ${expiryDate.toLocaleDateString()})`);\r\n        } else {\r\n          setConnectionStatus('Connected with long-lived token');\r\n        }\r\n      }\r\n      \r\n      setTimeout(async () => {\r\n        try {\r\n          const socialAccounts = await apiClient.getSocialAccounts();\r\n          const facebookAccounts = socialAccounts.filter(acc => \r\n            acc.platform === 'facebook' && acc.is_connected\r\n          );\r\n          \r\n          const updatedPages = availablePages.map(page => {\r\n            const matchingAccount = facebookAccounts.find(acc => \r\n              acc.platform_user_id === page.id\r\n            );\r\n            return {\r\n              ...page,\r\n              internalId: matchingAccount?.id\r\n            };\r\n          });\r\n          \r\n          setAvailablePages(updatedPages);\r\n          \r\n          if (selectedPage) {\r\n            const matchingAccount = facebookAccounts.find(acc => \r\n              acc.platform_user_id === selectedPage.id\r\n            );\r\n            if (matchingAccount) {\r\n              setSelectedPage(prev => ({\r\n                ...prev,\r\n                internalId: matchingAccount.id\r\n              }));\r\n            }\r\n          }\r\n        } catch (error) {\r\n          console.error('Error updating page data with internal IDs:', error);\r\n          setConnectionStatus('Warning: Unable to get account details. You may need to reconnect Facebook for scheduling to work.');\r\n        }\r\n      }, 2000);\r\n      \r\n      return response;\r\n    } catch (error) {\r\n      console.error('Backend connection error:', error);\r\n      \r\n      if (error.response?.status === 401) {\r\n        setConnectionStatus('Your session has expired. Please log out and log back in to connect Facebook.');\r\n        setTimeout(() => {\r\n          logout();\r\n          navigate('/');\r\n        }, 3000);\r\n      } else if (error.response?.data?.detail?.includes('long-lived token')) {\r\n        setConnectionStatus('Failed to get long-lived Facebook token. Please try reconnecting.');\r\n      } else {\r\n        setConnectionStatus('Failed to connect to backend: ' + (error.response?.data?.detail || error.message));\r\n      }\r\n      \r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const handleAutoInputChange = (e) => {\r\n    const { name, value, files } = e.target;\r\n    setAutoFormData(prev => ({\r\n      ...prev,\r\n      [name]: files ? files[0] : value\r\n    }));\r\n  };\r\n\r\n  const handleManualInputChange = (e) => {\r\n    const { name, value, files } = e.target;\r\n    setManualFormData(prev => ({\r\n      ...prev,\r\n      [name]: files ? files[0] : value\r\n    }));\r\n  };\r\n\r\n  const handleMediaTypeChange = (type, formType) => {\r\n    // If it's a file upload type, open the file picker\r\n    if (type === 'photo' || type === 'video') {\r\n      openFilePicker(type, formType);\r\n      return;\r\n    }\r\n    \r\n    // For other types (none, ai_image), set directly\r\n    if (formType === 'auto') {\r\n      setAutoFormData(prev => ({\r\n        ...prev,\r\n        mediaType: type,\r\n        mediaFile: null,\r\n        generatedImageUrl: type === 'ai_image' ? prev.generatedImageUrl : null,\r\n        generatedImageFilename: type === 'ai_image' ? prev.generatedImageFilename : null,\r\n        imagePrompt: type === 'ai_image' ? prev.imagePrompt : ''\r\n      }));\r\n    } else {\r\n      setManualFormData(prev => ({\r\n        ...prev,\r\n        mediaType: type,\r\n        mediaFile: null,\r\n        generatedImageUrl: type === 'ai_image' ? prev.generatedImageUrl : null,\r\n        generatedImageFilename: type === 'ai_image' ? prev.generatedImageFilename : null,\r\n        imagePrompt: type === 'ai_image' ? prev.imagePrompt : ''\r\n      }));\r\n    }\r\n  };\r\n\r\n  // File picker functions\r\n  const openFilePicker = (type, formType) => {\r\n    setFilePickerType(type);\r\n    setFilePickerFormType(formType);\r\n    setShowFilePicker(true);\r\n  };\r\n\r\n  const closeFilePicker = () => {\r\n    setShowFilePicker(false);\r\n    setFilePickerType('');\r\n    setFilePickerFormType('');\r\n    setIsLoadingGoogleDrive(false);\r\n  };\r\n\r\n  const handleLocalFileSelect = (event) => {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      const setFormData = filePickerFormType === 'auto' ? setAutoFormData : setManualFormData;\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        mediaFile: file,\r\n        mediaType: filePickerType // Set the media type based on what was selected\r\n      }));\r\n      closeFilePicker();\r\n    }\r\n  };\r\n\r\n  const handleGoogleDriveSelect = async () => {\r\n    setIsLoadingGoogleDrive(true);\r\n    try {\r\n      // 1️⃣ Check if already authenticated\r\n      const status = await apiClient.getGoogleDriveStatus();\r\n      if (!status.authenticated) {\r\n        // 2️⃣ Get consent URL for popup\r\n        const authResponse = await apiClient.getGoogleDriveAuthorizeUrl();\r\n        if (authResponse.consent_url) {\r\n          // 3️⃣ Open popup and wait for completion\r\n          await openDriveAuthPopup(authResponse.consent_url);\r\n          \r\n          // 4️⃣ Wait a bit for the OAuth callback to complete\r\n          await new Promise(resolve => setTimeout(resolve, 2000));\r\n        }\r\n      }\r\n\r\n      // 5️⃣ After popup closes, re-check authentication status with retries\r\n      let finalStatus = null;\r\n      let retries = 3;\r\n      \r\n      while (retries > 0) {\r\n        finalStatus = await apiClient.getGoogleDriveStatus();\r\n        if (finalStatus.authenticated) {\r\n          break;\r\n        }\r\n        \r\n        retries--;\r\n        if (retries > 0) {\r\n          // Wait before retrying\r\n          await new Promise(resolve => setTimeout(resolve, 1000));\r\n        }\r\n      }\r\n      \r\n      if (!finalStatus.authenticated) {\r\n        throw new Error('Authentication was not completed successfully. Please try again.');\r\n      }\r\n\r\n      // 6️⃣ Update state and proceed with Google Drive picker\r\n      setGoogleDriveAvailable(true);\r\n\r\n      // Initialize Google Drive API\r\n      await loadGoogleDriveAPI();\r\n      \r\n      // Check if google object is available\r\n      if (typeof window.google === 'undefined' || !window.google.picker) {\r\n        throw new Error('Google Picker API failed to load');\r\n      }\r\n      \r\n      // Get fresh token for picker\r\n      const tokenResponse = await apiClient.getGoogleDriveToken();\r\n      if (!tokenResponse.access_token) {\r\n        throw new Error('Failed to get Google Drive access token');\r\n      }\r\n      \r\n      // Configure MIME types based on file picker type\r\n      const mimeTypes = filePickerType === 'photo' \r\n        ? ['image/jpeg', 'image/png', 'image/gif', 'image/webp', 'image/bmp']\r\n        : ['video/mp4', 'video/avi', 'video/mov', 'video/wmv', 'video/flv', 'video/webm'];\r\n      \r\n      // Create the main view for Drive files\r\n      const docsView = new window.google.picker.DocsView(window.google.picker.ViewId.DOCS)\r\n        .setIncludeFolders(false)\r\n        .setSelectFolderEnabled(false)\r\n        .setMode(window.google.picker.DocsViewMode.LIST);\r\n      \r\n      // Set MIME types for filtering\r\n      if (filePickerType === 'photo') {\r\n        docsView.setMimeTypes('image/jpeg,image/png,image/gif,image/webp,image/bmp');\r\n      } else {\r\n        docsView.setMimeTypes('video/mp4,video/avi,video/mov,video/wmv,video/flv,video/webm');\r\n      }\r\n      \r\n      // Create picker with proper configuration\r\n      const picker = new window.google.picker.PickerBuilder()\r\n        .addView(docsView)\r\n        .setOAuthToken(tokenResponse.access_token)\r\n        .setDeveloperKey(process.env.REACT_APP_GOOGLE_DEVELOPER_KEY || '')\r\n        .setCallback(handleGoogleDriveCallback)\r\n        .setTitle(`Select a ${filePickerType === 'photo' ? 'photo' : 'video'} from Google Drive`)\r\n        .setOrigin(window.location.origin)\r\n        .setSize(1051, 650)  // Set a reasonable size\r\n        .build();\r\n      \r\n      console.log('🔍 Google Picker configuration:', {\r\n        mimeTypes: filePickerType === 'photo' ? 'image/*' : 'video/*',\r\n        accessToken: tokenResponse.access_token ? 'Present' : 'Missing',\r\n        developerKey: process.env.REACT_APP_GOOGLE_DEVELOPER_KEY ? 'Present' : 'Missing'\r\n      });\r\n      \r\n      picker.setVisible(true);\r\n      \r\n    } catch (error) {\r\n      console.error('Error with Google Drive selection:', error);\r\n      \r\n      // Handle scope conflicts specifically\r\n      if (error.message && error.message.includes('Scope has changed')) {\r\n        setConnectionStatus('Google Drive scope conflict detected. Clearing tokens and retrying...');\r\n        try {\r\n          await apiClient.clearGoogleDriveTokens();\r\n          setGoogleDriveAvailable(false);\r\n          setConnectionStatus('Google Drive tokens cleared. Please try connecting again.');\r\n        } catch (clearError) {\r\n          console.error('Error clearing tokens:', clearError);\r\n          setConnectionStatus('Failed to clear Google Drive tokens. Please disconnect and reconnect.');\r\n        }\r\n      } else {\r\n        setConnectionStatus(`Google Drive error: ${error.message}`);\r\n      }\r\n    } finally {\r\n      setIsLoadingGoogleDrive(false);\r\n    }\r\n  };\r\n\r\n  const loadGoogleDriveAPI = () => {\r\n    return new Promise((resolve, reject) => {\r\n      // Check if Google Picker is already loaded\r\n      if (window.google && window.google.picker && window.google.picker.PickerBuilder) {\r\n        console.log('Google Picker API already loaded');\r\n        resolve();\r\n        return;\r\n      }\r\n\r\n      console.log('Loading Google Picker API...');\r\n      \r\n      // Load the Google API script\r\n      const script = document.createElement('script');\r\n      script.src = 'https://apis.google.com/js/api.js';\r\n      script.onload = () => {\r\n        if (window.gapi) {\r\n          console.log('Google API loaded, loading picker...');\r\n          window.gapi.load('picker', {\r\n            callback: () => {\r\n              if (window.google && window.google.picker) {\r\n                console.log('Google Picker loaded successfully');\r\n                resolve();\r\n              } else {\r\n                reject(new Error('Google Picker failed to initialize'));\r\n              }\r\n            },\r\n            onerror: () => {\r\n              reject(new Error('Failed to load Google Picker'));\r\n            }\r\n          });\r\n        } else {\r\n          reject(new Error('Google API (gapi) failed to load'));\r\n        }\r\n      };\r\n      script.onerror = () => {\r\n        reject(new Error('Failed to load Google API script'));\r\n      };\r\n      \r\n      // Only add script if it doesn't already exist\r\n      if (!document.querySelector('script[src=\"https://apis.google.com/js/api.js\"]')) {\r\n        document.head.appendChild(script);\r\n      } else {\r\n        // Script exists but API might not be loaded yet\r\n        setTimeout(() => {\r\n          if (window.gapi) {\r\n            window.gapi.load('picker', {\r\n              callback: resolve,\r\n              onerror: () => reject(new Error('Failed to load Google Picker'))\r\n            });\r\n          } else {\r\n            reject(new Error('Google API script loaded but gapi not available'));\r\n          }\r\n        }, 100);\r\n      }\r\n    });\r\n  };\r\n\r\n\r\n\r\n  const handleGoogleDriveCallback = async (data) => {\r\n    console.log('🔍 Google Drive Picker Callback:', data);\r\n    \r\n    if (data.action === window.google.picker.Action.PICKED) {\r\n      const file = data.docs[0];\r\n      console.log('📁 Selected file:', {\r\n        id: file.id,\r\n        name: file.name,\r\n        mimeType: file.mimeType,\r\n        size: file.sizeBytes,\r\n        url: file.url\r\n      });\r\n      \r\n      try {\r\n        setConnectionStatus('Downloading file from Google Drive...');\r\n        \r\n        // Download the file from Google Drive\r\n        const fileResponse = await downloadGoogleDriveFile(file.id);\r\n        console.log('📥 File download response:', {\r\n          success: fileResponse.success,\r\n          fileName: fileResponse.fileName,\r\n          mimeType: fileResponse.mimeType,\r\n          size: fileResponse.size\r\n        });\r\n        \r\n        if (!fileResponse.success || !fileResponse.fileContent) {\r\n          throw new Error('Invalid file response from server');\r\n        }\r\n        \r\n        // Decode base64 content\r\n        const binaryString = atob(fileResponse.fileContent);\r\n        const bytes = new Uint8Array(binaryString.length);\r\n        for (let i = 0; i < binaryString.length; i++) {\r\n          bytes[i] = binaryString.charCodeAt(i);\r\n        }\r\n        \r\n        // Create a File object from the downloaded content\r\n        const blob = new Blob([bytes], { \r\n          type: fileResponse.mimeType || file.mimeType \r\n        });\r\n        const fileObj = new File([blob], fileResponse.fileName || file.name, { \r\n          type: fileResponse.mimeType || file.mimeType \r\n        });\r\n        \r\n        console.log('📄 Created file object:', {\r\n          name: fileObj.name,\r\n          type: fileObj.type,\r\n          size: fileObj.size\r\n        });\r\n        \r\n        // Update the form data\r\n        const setFormData = filePickerFormType === 'auto' ? setAutoFormData : setManualFormData;\r\n        setFormData(prev => ({\r\n          ...prev,\r\n          mediaFile: fileObj,\r\n          mediaType: filePickerType // Set the media type based on what was selected\r\n        }));\r\n        \r\n        closeFilePicker();\r\n        setConnectionStatus(`File \"${fileObj.name}\" selected from Google Drive successfully!`);\r\n      } catch (error) {\r\n        console.error('❌ Error downloading file from Google Drive:', error);\r\n        setConnectionStatus('Failed to download file from Google Drive: ' + error.message);\r\n      }\r\n    } else if (data.action === window.google.picker.Action.CANCEL) {\r\n      console.log('❌ Google Drive Picker cancelled');\r\n      closeFilePicker();\r\n    } else if (data.action === window.google.picker.Action.LOADED) {\r\n      console.log('✅ Google Drive Picker loaded');\r\n    } else {\r\n      console.log('🔍 Google Drive Picker action:', data.action);\r\n    }\r\n  };\r\n\r\n  const downloadGoogleDriveFile = async (fileId) => {\r\n    // This would typically be handled by your backend\r\n    // For now, we'll use a placeholder implementation\r\n    try {\r\n      const response = await apiClient.downloadGoogleDriveFile(fileId);\r\n      return response.fileContent;\r\n    } catch (error) {\r\n      throw new Error('Failed to download file from Google Drive');\r\n    }\r\n  };\r\n\r\n  const generatePostContent = async () => {\r\n    if (!autoFormData.prompt.trim()) {\r\n      setConnectionStatus('Please enter a prompt for AI generation');\r\n      return;\r\n    }\r\n\r\n    setAutoFormData(prev => ({ ...prev, isGenerating: true }));\r\n    setConnectionStatus('Generating content with AI...');\r\n\r\n    try {\r\n      const response = await apiClient.generateContent(autoFormData.prompt);\r\n      setAutoFormData(prev => ({\r\n        ...prev,\r\n        generatedContent: response.content,\r\n        isGenerating: false\r\n      }));\r\n      setConnectionStatus('Content generated successfully!');\r\n    } catch (error) {\r\n      console.error('Content generation error:', error);\r\n      setConnectionStatus('Failed to generate content: ' + (error.message || 'Unknown error'));\r\n      setAutoFormData(prev => ({ ...prev, isGenerating: false }));\r\n    }\r\n  };\r\n\r\n  const generateImage = async (formType) => {\r\n    const currentData = formType === 'auto' ? autoFormData : manualFormData;\r\n    const setFormData = formType === 'auto' ? setAutoFormData : setManualFormData;\r\n    \r\n    const imagePrompt = currentData.imagePrompt || currentData.prompt || (formType === 'manual' ? currentData.message : '');\r\n    \r\n    if (!imagePrompt.trim()) {\r\n      setConnectionStatus('Please enter an image prompt or description');\r\n      return;\r\n    }\r\n\r\n    setFormData(prev => ({ ...prev, isGeneratingImage: true }));\r\n    setConnectionStatus('Generating image with AI...');\r\n\r\n    try {\r\n      const response = await apiClient.generateFacebookImage(imagePrompt, 'feed');\r\n      \r\n      if (response.success) {\r\n        setFormData(prev => ({\r\n          ...prev,\r\n          generatedImageUrl: response.data.image_url,\r\n          generatedImageFilename: response.data.filename,\r\n          isGeneratingImage: false\r\n        }));\r\n        setConnectionStatus('Image generated successfully!');\r\n      } else {\r\n        throw new Error(response.error || 'Image generation failed');\r\n      }\r\n    } catch (error) {\r\n      console.error('Image generation error:', error);\r\n      setConnectionStatus('Failed to generate image: ' + (error.message || 'Unknown error'));\r\n      setFormData(prev => ({ ...prev, isGeneratingImage: false }));\r\n    }\r\n  };\r\n\r\n  const generateImageWithCaption = async () => {\r\n    if (!autoFormData.prompt.trim()) {\r\n      setConnectionStatus('Please enter a prompt for generation');\r\n      return;\r\n    }\r\n\r\n    setAutoFormData(prev => ({ ...prev, isGenerating: true, isGeneratingImage: true }));\r\n    setConnectionStatus('Generating image and caption with AI...');\r\n\r\n    try {\r\n      const textResponse = await apiClient.generateContent(autoFormData.prompt);\r\n      \r\n      if (!textResponse.content) {\r\n        throw new Error('Failed to generate text content');\r\n      }\r\n\r\n      const imagePrompt = autoFormData.imagePrompt || autoFormData.prompt;\r\n      const imageResponse = await apiClient.generateFacebookImage(imagePrompt, 'feed');\r\n      \r\n      if (!imageResponse.success) {\r\n        throw new Error(imageResponse.error || 'Image generation failed');\r\n      }\r\n\r\n      setAutoFormData(prev => ({\r\n        ...prev,\r\n        generatedContent: textResponse.content,\r\n        generatedImageUrl: imageResponse.data.image_url,\r\n        generatedImageFilename: imageResponse.data.filename,\r\n        isGenerating: false,\r\n        isGeneratingImage: false\r\n      }));\r\n      \r\n      setConnectionStatus('Image and caption generated successfully!');\r\n    } catch (error) {\r\n      console.error('Image with caption generation error:', error);\r\n      setConnectionStatus('Failed to generate image and caption: ' + (error.message || 'Unknown error'));\r\n      setAutoFormData(prev => ({ ...prev, isGenerating: false, isGeneratingImage: false }));\r\n    }\r\n  };\r\n\r\n  const publishPost = async () => {\r\n    if (!selectedPage) {\r\n      setConnectionStatus('Please select a page first');\r\n      return;\r\n    }\r\n\r\n    const isAutoMode = activeTab === 'auto';\r\n    const content = isAutoMode ? autoFormData.generatedContent : manualFormData.message;\r\n    const mediaType = isAutoMode ? autoFormData.mediaType : manualFormData.mediaType;\r\n    const mediaFile = isAutoMode ? autoFormData.mediaFile : manualFormData.mediaFile;\r\n    const generatedImageUrl = isAutoMode ? autoFormData.generatedImageUrl : manualFormData.generatedImageUrl;\r\n    const generatedImageFilename = isAutoMode ? autoFormData.generatedImageFilename : manualFormData.generatedImageFilename;\r\n\r\n          // Debug: Log key info\r\n      console.log('Publish attempt - Tab:', activeTab, 'Content:', content?.substring(0, 50) + '...');\r\n      console.log('Media type:', mediaType);\r\n      console.log('Media file:', mediaFile);\r\n      console.log('Selected page:', selectedPage);\r\n\r\n    // Allow video-only posts (no text required for video posts)\r\n    if (!content || content.trim() === '') {\r\n      if (mediaType !== 'video') {\r\n        setConnectionStatus('Please enter some content for your post');\r\n        return;\r\n      }\r\n    }\r\n\r\n    if (mediaType === 'photo' && !mediaFile) {\r\n      setConnectionStatus('Please select a media file to upload');\r\n      return;\r\n    }\r\n\r\n    if (mediaType === 'video' && !mediaFile) {\r\n      setConnectionStatus('Please select a video file to upload');\r\n      return;\r\n    }\r\n\r\n    if (mediaType === 'ai_image' && (!generatedImageUrl || !generatedImageFilename)) {\r\n      setConnectionStatus('Please generate an image first');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setIsPublishing(true);\r\n      setConnectionStatus('Publishing post to Facebook...');\r\n      \r\n      let postResult;\r\n      \r\n      // Use the unified Facebook post creation endpoint\r\n      const postOptions = {\r\n        postType: 'feed'\r\n      };\r\n\r\n      // Handle content based on mode\r\n      if (isAutoMode) {\r\n        // In auto mode, we might want to use AI generation\r\n        if (autoFormData.generatedContent) {\r\n          // Use pre-generated content\r\n          postOptions.textContent = autoFormData.generatedContent;\r\n        } else if (autoFormData.prompt) {\r\n          // Use prompt for AI generation\r\n          postOptions.contentPrompt = autoFormData.prompt;\r\n          postOptions.useAIText = true;\r\n        } else {\r\n          // Fallback to any content we have\r\n          postOptions.textContent = content;\r\n        }\r\n      } else {\r\n        // In manual mode, use the provided text content if available\r\n        if (content && content.trim()) {\r\n          postOptions.textContent = content;\r\n        }\r\n      }\r\n\r\n      // Debug: Log what we're sending\r\n      console.log('Post options:', { ...postOptions, textContent: postOptions.textContent?.substring(0, 50) + '...' });\r\n\r\n      if (mediaType === 'ai_image' && generatedImageUrl && generatedImageFilename) {\r\n        // Post with pre-generated image\r\n        postOptions.imageUrl = generatedImageUrl;\r\n        postOptions.imageFilename = generatedImageFilename;\r\n      } else if (mediaType === 'ai_image' && (autoFormData.imagePrompt || manualFormData.imagePrompt)) {\r\n        // Generate image using AI\r\n        const imagePrompt = isAutoMode ? autoFormData.imagePrompt : manualFormData.imagePrompt;\r\n        postOptions.imagePrompt = imagePrompt;\r\n        postOptions.useAIImage = true;\r\n      } else if (mediaType === 'photo' && mediaFile) {\r\n        // Post with uploaded image (convert to base64)\r\n        const imageData = await fileToBase64(mediaFile);\r\n        postOptions.imageUrl = imageData;\r\n      } else if (mediaType === 'video' && mediaFile) {\r\n        // Post with uploaded video (convert to base64)\r\n        try {\r\n          console.log('Converting video to base64...');\r\n          const videoData = await fileToBase64(mediaFile);\r\n          console.log('Video converted successfully, length:', videoData.length);\r\n          postOptions.videoUrl = videoData;\r\n          postOptions.videoFilename = mediaFile.name;\r\n        } catch (error) {\r\n          console.error('Error converting video to base64:', error);\r\n          throw new Error('Failed to process video file: ' + error.message);\r\n        }\r\n      }\r\n\r\n      // Validate that we have at least one required field\r\n      if (!postOptions.textContent && !postOptions.contentPrompt && !postOptions.imageUrl && !postOptions.imagePrompt && !postOptions.videoUrl) {\r\n        throw new Error('No content provided. Please add text content, generate content, or add media.');\r\n      }\r\n\r\n      // Debug: Log final options being sent to API\r\n      console.log('Final post options being sent to API:', postOptions);\r\n      console.log('Selected page ID:', selectedPage.id);\r\n      console.log('Post options keys:', Object.keys(postOptions));\r\n      console.log('Has video URL:', !!postOptions.videoUrl);\r\n      console.log('Has image URL:', !!postOptions.imageUrl);\r\n      console.log('Has text content:', !!postOptions.textContent);\r\n\r\n      console.log('Calling API with page ID:', selectedPage.id);\r\n      postResult = await apiClient.createFacebookPost(selectedPage.id, postOptions);\r\n      console.log('API response:', postResult);\r\n      \r\n      if (!postResult.success) {\r\n        throw new Error(postResult.error || 'Failed to create post via backend');\r\n      }\r\n\r\n      setConnectionStatus('Post published successfully!');\r\n      \r\n      setTimeout(() => {\r\n        loadPostHistory();\r\n      }, 1000);\r\n      \r\n      if (isAutoMode) {\r\n        setAutoFormData(prev => ({\r\n          ...prev,\r\n          prompt: '',\r\n          generatedContent: '',\r\n          mediaFile: null,\r\n          mediaType: 'none',\r\n          imagePrompt: '',\r\n          generatedImageUrl: null,\r\n          generatedImageFilename: null\r\n        }));\r\n      } else {\r\n        setManualFormData(prev => ({\r\n          ...prev,\r\n          message: '',\r\n          mediaFile: null,\r\n          mediaType: 'none',\r\n          imagePrompt: '',\r\n          generatedImageUrl: null,\r\n          generatedImageFilename: null\r\n        }));\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('Post publishing error:', error);\r\n      setConnectionStatus('Failed to publish post: ' + (error.message || 'Unknown error'));\r\n    } finally {\r\n      setIsPublishing(false);\r\n    }\r\n  };\r\n\r\n  const loginWithFacebook = async () => {\r\n    if (window.location.protocol !== 'https:' && window.location.hostname !== 'localhost') {\r\n      setConnectionStatus('Facebook login requires HTTPS. Please use https://localhost:3001 or deploy with HTTPS');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await apiClient.getCurrentUser();\r\n    } catch (error) {\r\n      setConnectionStatus('Your session has expired. Please log out and log back in to connect Facebook.');\r\n      setTimeout(() => {\r\n        logout();\r\n        navigate('/');\r\n      }, 3000);\r\n      return;\r\n    }\r\n\r\n    setIsConnecting(true);\r\n    setConnectionStatus('Loading Facebook SDK...');\r\n\r\n    try {\r\n      await loadFacebookSDK(FACEBOOK_APP_ID);\r\n\r\n      if (!window.FB || typeof window.FB.login !== 'function') {\r\n        setConnectionStatus('Facebook SDK failed to load. Please refresh the page and try again.');\r\n        setIsConnecting(false);\r\n        return;\r\n      }\r\n\r\n      setConnectionStatus('Connecting to Facebook...');\r\n      \r\n      window.FB.login((response) => {\r\n        if (response.authResponse && response.authResponse.accessToken) {\r\n          setConnectionStatus('Facebook login successful! Fetching pages...');\r\n          \r\n          (async () => {\r\n            try {\r\n              const { mappedPages, userInfo } = await fetchPages(response.authResponse.accessToken);\r\n              \r\n              if (mappedPages.length > 0) {\r\n                setConnectionStatus('Connecting to backend...');\r\n                const backendResponse = await connectToBackend(response.authResponse.accessToken, userInfo, mappedPages);\r\n                \r\n                if (backendResponse?.data?.pages) {\r\n                  setAvailablePages(mappedPages);\r\n                  setConnectionStatus(`Connected successfully! ${backendResponse.data.pages_connected} pages synchronized with backend.`);\r\n                }\r\n              } else {\r\n                setConnectionStatus('No pages found in Facebook API. Connecting to backend to check for existing connections...');\r\n                \r\n                try {\r\n                  await connectToBackend(response.authResponse.accessToken, userInfo, []);\r\n                  \r\n                  const existingAccounts = await apiClient.getSocialAccounts();\r\n                  const facebookPages = existingAccounts.filter(acc => \r\n                    acc.platform === 'facebook' && acc.account_type === 'page' && acc.is_connected\r\n                  );\r\n                  \r\n                  if (facebookPages.length > 0) {\r\n                    const backendMappedPages = facebookPages.map(page => ({\r\n                      id: page.platform_user_id,\r\n                      internalId: page.id,\r\n                      name: page.display_name,\r\n                      category: page.platform_data?.category || 'Page',\r\n                      access_token: page.access_token || response.authResponse.accessToken,\r\n                      profilePicture: page.profile_picture_url || '',\r\n                      canPost: page.platform_data?.can_post !== false,\r\n                      canComment: page.platform_data?.can_comment !== false,\r\n                      followerCount: page.follower_count || 0\r\n                    }));\r\n                    \r\n                    setAvailablePages(backendMappedPages);\r\n                    setConnectionStatus(`Found ${facebookPages.length} existing page(s) from previous connections!`);\r\n                  } else {\r\n                    setConnectionStatus('No pages found. You may need to grant page permissions or create a Facebook page first.');\r\n                  }\r\n                } catch (backendError) {\r\n                  console.error('[FB.login] Backend check failed:', backendError);\r\n                  setConnectionStatus('No pages found. You may need to grant page permissions or create a Facebook page first.');\r\n                }\r\n              }\r\n            } catch (error) {\r\n              console.error('[FB.login] Error in page fetching or backend connection:', error);\r\n              setConnectionStatus('Error during setup: ' + (error.message || 'Unknown error'));\r\n              setIsConnecting(false);\r\n              setFacebookConnected(false);\r\n            }\r\n          })();\r\n        } else {\r\n          if (response.status === 'not_authorized') {\r\n            setConnectionStatus('Please authorize the app to continue and select at least one page.');\r\n          } else {\r\n            setConnectionStatus('Facebook login cancelled or failed');\r\n          }\r\n          setIsConnecting(false);\r\n        }\r\n      }, {\r\n        scope: [\r\n          'public_profile',\r\n          'pages_show_list',\r\n          'pages_read_engagement', \r\n          'pages_manage_posts',\r\n          'pages_manage_engagement',\r\n          'pages_read_user_content',\r\n          'pages_manage_metadata'\r\n        ].join(','),\r\n        enable_profile_selector: true,\r\n        return_scopes: true,\r\n        auth_type: 'rerequest',\r\n        display: 'popup'\r\n      });\r\n    } catch (error) {\r\n      console.error('Facebook login error:', error);\r\n      setConnectionStatus('Facebook login failed: ' + error.message);\r\n    }\r\n  };\r\n\r\n\r\n\r\n  const getStatusCardClass = () => {\r\n    if (connectionStatus.includes('Failed') || connectionStatus.includes('error') || connectionStatus.includes('Error')) {\r\n      return 'status-card error';\r\n    } else if (connectionStatus.includes('successful') || connectionStatus.includes('Connected') || connectionStatus.includes('completed')) {\r\n      return 'status-card success';\r\n    } else {\r\n      return 'status-card info';\r\n    }\r\n  };\r\n\r\n  // Fetch AUTO_REPLY_MESSAGE rule for selected page\r\n  const loadAutoReplyMessageRule = useCallback(async () => {\r\n    if (!selectedPage) return;\r\n    setAutoReplyMessagesLoading(true);\r\n    setAutoReplyMessagesError(null);\r\n    try {\r\n      const rules = await apiClient.getAutomationRules('facebook', 'AUTO_REPLY_MESSAGE');\r\n      // Find the rule for this page\r\n      const socialAccounts = await apiClient.getSocialAccounts();\r\n      const matchingAccount = socialAccounts.find(acc => acc.platform === 'facebook' && acc.platform_user_id === selectedPage.id);\r\n      const rule = rules.find(r => r.social_account_id === matchingAccount?.id);\r\n      if (rule) {\r\n        setAutoReplyMessageRule(rule);\r\n        setAutoReplyMessagesEnabled(rule.is_active !== false); // Default ON if undefined\r\n      } else {\r\n        setAutoReplyMessageRule(null);\r\n        setAutoReplyMessagesEnabled(true); // Default ON if no rule\r\n      }\r\n    } catch (err) {\r\n      setAutoReplyMessagesError('Failed to load auto-reply message rule.');\r\n    } finally {\r\n      setAutoReplyMessagesLoading(false);\r\n    }\r\n  }, [selectedPage]);\r\n\r\n  // Call on page load and when selectedPage changes\r\n  useEffect(() => {\r\n    loadAutoReplyMessageRule();\r\n  }, [selectedPage, loadAutoReplyMessageRule]);\r\n\r\n  // Handler for toggling auto-reply messages\r\n  const handleAutoReplyMessagesToggle = async () => {\r\n    if (!autoReplyMessageRule) return;\r\n    setAutoReplyMessagesLoading(true);\r\n    setAutoReplyMessagesError(null);\r\n    try {\r\n      const updated = await apiClient.updateAutomationRule(autoReplyMessageRule.id, {\r\n        is_active: !autoReplyMessagesEnabled\r\n      });\r\n      setAutoReplyMessagesEnabled(updated.is_active);\r\n      setAutoReplyMessageRule(updated);\r\n    } catch (err) {\r\n      setAutoReplyMessagesError('Failed to update auto-reply message rule.');\r\n    } finally {\r\n      setAutoReplyMessagesLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"facebook-page-container\">\r\n      {/* Navigation Header */}\r\n      <div className=\"facebook-header\">\r\n        <div className=\"facebook-header-left\">\r\n          <div className={`facebook-icon-container ${facebookConnected ? 'connected' : ''}`}>\r\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"#1877f2\">\r\n              <path d=\"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\"/>\r\n            </svg>\r\n          </div>\r\n          <div>\r\n            <h1 className=\"facebook-title\">\r\n              {facebookConnected ? \r\n                (selectedPage ? `${selectedPage.name}` : 'Facebook Manager') : \r\n                'Facebook Manager'\r\n              }\r\n            </h1>\r\n            <div className=\"facebook-subtitle\">\r\n              {facebookConnected ? (\r\n                selectedPage ? (\r\n                  <>\r\n                    <div className=\"status-indicator connected\" />\r\n                    <span>\r\n                      {selectedPage.category} • {selectedPage.followerCount || 0} followers\r\n                    </span>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <div className=\"status-indicator connecting\" />\r\n                    <span>Connected • Select a page to continue</span>\r\n                  </>\r\n                )\r\n              ) : (\r\n                <>\r\n                  <div className=\"status-indicator disconnected\" />\r\n                  <span>Not connected • Ready to link your account</span>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"facebook-header-right\">\r\n          {facebookConnected && (\r\n            <button \r\n              onClick={handleFacebookLogout}\r\n              disabled={isLoggingOut}\r\n              className=\"btn btn-danger\"\r\n            >\r\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                <path d=\"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\"/>\r\n                <polyline points=\"16,17 21,12 16,7\"/>\r\n                <line x1=\"21\" y1=\"12\" x2=\"9\" y2=\"12\"/>\r\n              </svg>\r\n              {isLoggingOut ? 'Disconnecting...' : 'Disconnect'}\r\n            </button>\r\n          )}\r\n          \r\n          <button\r\n            onClick={() => navigate('/')}\r\n            className=\"btn btn-primary\"\r\n          >\r\n            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n              <path d=\"m12 19-7-7 7-7\"/>\r\n              <path d=\"M19 12H5\"/>\r\n            </svg>\r\n            Dashboard\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Content Container */}\r\n      <div className={`facebook-main-content ${!facebookConnected ? 'centered' : ''}`}>\r\n        {/* Status Card */}\r\n        {connectionStatus && (\r\n          <div className={getStatusCardClass()}>\r\n            {connectionStatus}\r\n          </div>\r\n        )}\r\n\r\n        {/* Main Card */}\r\n        <div className={`facebook-main-card ${!facebookConnected ? 'connect-mode' : ''}`}>\r\n          {!facebookConnected ? (\r\n            /* Connect Card */\r\n            <div className=\"connect-card\">\r\n              <div className=\"connect-icon\">\r\n                <svg width=\"64\" height=\"64\" viewBox=\"0 0 24 24\" fill=\"#1877f2\">\r\n                  <path d=\"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\"/>\r\n                </svg>\r\n              </div>\r\n              \r\n              <h3 className=\"connect-title\">\r\n                Connect Your Facebook\r\n              </h3>\r\n              \r\n              <button \r\n                onClick={loginWithFacebook} \r\n                disabled={isConnecting || isCheckingStatus}\r\n                className=\"connect-button\"\r\n              >\r\n                <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"white\">\r\n                  <path d=\"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\"/>\r\n                </svg>\r\n                {isCheckingStatus ? 'Checking Connection...' : (isConnecting ? 'Connecting...' : 'Connect Facebook')}\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            /* Connected Content */\r\n            <div className=\"facebook-connected-content\">\r\n              {/* Page Selection */}\r\n              {availablePages.length > 1 && (\r\n                <div className=\"page-selector-enhanced\">\r\n                  <div className=\"page-selector-header\">\r\n                    <div className=\"page-avatar\">\r\n                      {selectedPage && selectedPage.profilePicture ? (\r\n                        <img \r\n                          src={selectedPage.profilePicture} \r\n                          alt={selectedPage.name} \r\n                          className=\"page-avatar-image\"\r\n                        />\r\n                      ) : (\r\n                        <div className=\"page-avatar-placeholder\">\r\n                          <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                            <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"/>\r\n                          </svg>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"page-selector-content\">\r\n                      <h3 className=\"page-selector-title\">Select a Page</h3>\r\n                      <p className=\"page-selector-subtitle\">Choose which Facebook page to manage</p>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"page-selector-dropdown-container\">\r\n                    <select\r\n                      id=\"page-dropdown\"\r\n                      className=\"page-dropdown-enhanced\"\r\n                      value={selectedPage?.id || ''}\r\n                      onChange={e => {\r\n                        const page = availablePages.find(p => p.id === e.target.value);\r\n                        if (page && selectedPage?.id !== page.id) {\r\n                          setSelectedPage(page);\r\n                          setAutoPostHistory([]);\r\n                          setManualPostHistory([]);\r\n                          setShowBulkComposer(false);\r\n                          setActiveTab('auto');\r\n                          setConnectionStatus('');\r\n                          setScheduleData({\r\n                            prompt: '',\r\n                            time: '',\r\n                            frequency: 'daily',\r\n                            customDate: '',\r\n                            isActive: false,\r\n                            scheduleId: null\r\n                          });\r\n                          setAutoReplyMessagesEnabled(true);\r\n                          setAutoReplyMessagesLoading(false);\r\n                          setAutoReplyMessagesError(null);\r\n                          setTimeout(() => {\r\n                            loadAutoReplySettings();\r\n                            loadPostHistory();\r\n                          }, 100);\r\n                        }\r\n                      }}\r\n                    >\r\n                      <option value=\"\" disabled>Choose a page...</option>\r\n                      {availablePages.map(page => (\r\n                        <option key={page.id} value={page.id}>\r\n                          {page.name} ({page.category})\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                    \r\n                    <div className=\"page-selector-icon\">\r\n                      <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                        <polyline points=\"6,9 12,15 18,9\"/>\r\n                      </svg>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  {selectedPage && (\r\n                    <div className=\"page-selector-info\">\r\n                      <div className=\"page-info-item\">\r\n                        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                          <path d=\"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2\"/>\r\n                          <circle cx=\"9\" cy=\"7\" r=\"4\"/>\r\n                          <path d=\"M23 21v-2a4 4 0 0 0-3-3.87\"/>\r\n                          <path d=\"M16 3.13a4 4 0 0 1 0 7.75\"/>\r\n                        </svg>\r\n                        <span>{selectedPage.followerCount?.toLocaleString() || 0} followers</span>\r\n                      </div>\r\n                      <div className=\"page-info-item\">\r\n                        <div className=\"status-dot connected\"></div>\r\n                        <span>Connected & Ready</span>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n\r\n              {/* Main Content Area */}\r\n              {selectedPage && (\r\n                <div className=\"facebook-content-area\">\r\n\r\n                  <div className=\"tab-navigation\">\r\n                    <button\r\n                      className={`tab-button ${activeTab === 'auto' ? 'active' : ''}`}\r\n                      onClick={() => {\r\n                        setActiveTab('auto');\r\n                        setShowAutomate(false);\r\n                      }}\r\n                    >\r\n                      <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                        <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"/>\r\n                      </svg>\r\n                      {isMobile() ? 'AI' : 'AI Generate'}\r\n                    </button>\r\n                    <button\r\n                      className={`tab-button ${activeTab === 'manual' ? 'active' : ''}`}\r\n                      onClick={() => {\r\n                        setActiveTab('manual');\r\n                        setShowAutomate(false);\r\n                      }}\r\n                    >\r\n                      <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                        <path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"/>\r\n                        <path d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"/>\r\n                      </svg>\r\n                      {isMobile() ? 'Manual' : 'Manual Post'}\r\n                    </button>\r\n                    <button\r\n                      className={`tab-button ${activeTab === 'bulk' ? 'active' : ''}`}\r\n                      onClick={() => {\r\n                        setActiveTab('bulk');\r\n                        setShowBulkComposer(true);\r\n                        setShowAutomate(false);\r\n                      }}\r\n                    >\r\n                      <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                        <path d=\"M3 3h18v18H3z\"/>\r\n                        <path d=\"M9 9h6v6H9z\"/>\r\n                        <path d=\"M15 3v18\"/>\r\n                        <path d=\"M9 3v18\"/>\r\n                      </svg>\r\n                      {isMobile() ? 'Bulk' : 'Bulk Composer'}\r\n                    </button>\r\n                    <button\r\n                      className={`tab-button ${activeTab === 'automate' ? 'active' : ''}`}\r\n                      onClick={() => {\r\n                        setActiveTab('automate');\r\n                        setShowAutomate(true);\r\n                      }}\r\n                    >\r\n                      <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                        <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"/>\r\n                      </svg>\r\n                      {isMobile() ? 'Automate' : 'Automate'}\r\n                    </button>\r\n                  </div>\r\n\r\n                  {/* Tab Content */}\r\n                  <div className=\"tab-content\">\r\n                    {/* Automate Tab */}\r\n                    {activeTab === 'automate' && showAutomate && (\r\n                      <div className=\"automate-section\">\r\n                        <h3>Automate</h3>\r\n                        <div className=\"automate-toggles\">\r\n                          <div className=\"automate-toggle\" style={{ alignItems: 'center', gap: 8 }}>\r\n                            <label htmlFor=\"auto-reply-comments-toggle\" style={{ display: 'flex', alignItems: 'center', gap: 4 }}>\r\n                              Auto-Reply Comments\r\n                              <span\r\n                                title=\"Auto-reply to comments is always enabled for all posts. Every new post will automatically have AI-powered comment replies.\"\r\n                                aria-label=\"Info: Auto-reply to comments is always enabled for all posts.\"\r\n                                style={{ cursor: 'pointer', display: 'inline-flex', alignItems: 'center' }}\r\n                              >\r\n                                <svg style={{ marginLeft: 2, verticalAlign: 'middle' }} width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"#888\" strokeWidth=\"2\">\r\n                                  <circle cx=\"12\" cy=\"12\" r=\"10\"/>\r\n                                  <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"12\"/>\r\n                                  <circle cx=\"12\" cy=\"16\" r=\"1\"/>\r\n                                </svg>\r\n                              </span>\r\n                            </label>\r\n                            <input\r\n                              id=\"auto-reply-comments-toggle\"\r\n                              type=\"checkbox\"\r\n                              checked={true}\r\n                              disabled\r\n                              style={{ accentColor: '#28a745', cursor: 'not-allowed' }}\r\n                              aria-label=\"Auto-Reply Comments Always On\"\r\n                            />\r\n                            <span className=\"automate-toggle-status enabled\" style={{ color: '#28a745', fontWeight: 600 }}>Always On</span>\r\n                          </div>\r\n                          <div className=\"automate-toggle-row\" style={{ marginTop: 16 }}>\r\n                            <label htmlFor=\"auto-reply-messages-toggle\">Auto-Reply Messages</label>\r\n                            <input\r\n                              id=\"auto-reply-messages-toggle\"\r\n                              type=\"checkbox\"\r\n                              checked={autoReplyMessagesEnabled}\r\n                              disabled={autoReplyMessagesLoading || !autoReplyMessageRule}\r\n                              onChange={handleAutoReplyMessagesToggle}\r\n                              aria-label=\"Toggle Auto-Reply Messages\"\r\n                            />\r\n                            <span className={`automate-toggle-status ${autoReplyMessagesEnabled ? 'enabled' : 'disabled'}`}>{autoReplyMessagesEnabled ? 'On' : 'Off'}</span>\r\n                            {autoReplyMessagesLoading && <span className=\"automate-loading\">Loading...</span>}\r\n                            {autoReplyMessagesError && <span className=\"automate-error\">{autoReplyMessagesError}</span>}\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"automate-info\" style={{ background: '#f5f7fa', borderRadius: 6, padding: 12, marginTop: 16, display: 'flex', alignItems: 'flex-start', gap: 8 }}>\r\n                          <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"#1877f2\" strokeWidth=\"2\" style={{ verticalAlign: 'middle', marginTop: 2 }}>\r\n                            <circle cx=\"12\" cy=\"12\" r=\"10\"/>\r\n                            <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"12\"/>\r\n                            <circle cx=\"12\" cy=\"16\" r=\"1\"/>\r\n                          </svg>\r\n                          <span>\r\n                            <strong>Auto-reply to comments is always enabled for all posts.</strong> Every new post will automatically have AI-powered comment replies.\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"automate-message-template\" style={{ marginTop: 16 }}>\r\n                          <label>Message Template:</label>\r\n                          <div className=\"automate-message-template-box\" style={{ background: '#f5f7fa', borderRadius: 4, padding: 8, color: '#888', fontStyle: 'italic' }}>\r\n                            {autoReplyMessageRule?.actions?.message_template || \"Thank you for your message! We'll get back to you soon.\"}\r\n                          </div>\r\n                          <div style={{ color: '#888', fontSize: '0.95em', marginTop: 4 }}>\r\n                            (To change the auto-reply template or logic, contact your admin.)\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                    {/* AI Generate Tab */}\r\n                    {activeTab === 'auto' && (\r\n                      <>\r\n                        <div className=\"auto-post-form\">\r\n                          <h3>AI Content Generation</h3>\r\n                          \r\n                          {/* AI Prompt Input */}\r\n                          <div className=\"form-group\">\r\n                            <label>Content Prompt</label>\r\n                            <textarea\r\n                              name=\"prompt\"\r\n                              value={autoFormData.prompt}\r\n                              onChange={handleAutoInputChange}\r\n                              placeholder=\"Describe what you want to post about...\"\r\n                              className=\"form-textarea\"\r\n                              rows=\"3\"\r\n                            />\r\n                          </div>\r\n\r\n                          {/* Generate Content Button */}\r\n                          <div className=\"form-group\">\r\n                            <button\r\n                              onClick={generatePostContent}\r\n                              disabled={!autoFormData.prompt.trim() || autoFormData.isGenerating}\r\n                              className=\"btn btn-primary\"\r\n                            >\r\n                              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"/>\r\n                              </svg>\r\n                              {autoFormData.isGenerating ? 'Generating...' : 'Generate Content'}\r\n                            </button>\r\n                          </div>\r\n\r\n                          {/* Generated Content Display */}\r\n                          {autoFormData.generatedContent && (\r\n                            <div className=\"form-group\">\r\n                              <label>Generated Content</label>\r\n                              <textarea\r\n                                value={autoFormData.generatedContent}\r\n                                readOnly\r\n                                className=\"form-textarea generated-content\"\r\n                                rows=\"4\"\r\n                              />\r\n                            </div>\r\n                          )}\r\n\r\n                          {/* Media Options */}\r\n                          <div className=\"form-group\">\r\n                            <label>Media Options</label>\r\n                            <div className=\"media-options\">\r\n                              <button\r\n                                type=\"button\"\r\n                                className={`media-option ${autoFormData.mediaType === 'none' ? 'active' : ''}`}\r\n                                onClick={() => handleMediaTypeChange('none', 'auto')}\r\n                              >\r\n                                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                  <path d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"/>\r\n                                  <polyline points=\"14,2 14,8 20,8\"/>\r\n                                  <line x1=\"16\" y1=\"13\" x2=\"8\" y2=\"13\"/>\r\n                                  <line x1=\"16\" y1=\"17\" x2=\"8\" y2=\"17\"/>\r\n                                  <polyline points=\"10,9 9,9 8,9\"/>\r\n                                </svg>\r\n                                Text Only\r\n                              </button>\r\n                              <button\r\n                                type=\"button\"\r\n                                className={`media-option ${autoFormData.mediaType === 'ai_image' ? 'active' : ''}`}\r\n                                onClick={() => handleMediaTypeChange('ai_image', 'auto')}\r\n                              >\r\n                                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                  <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"/>\r\n                                </svg>\r\n                                AI Image\r\n                              </button>\r\n                            </div>\r\n                          </div>\r\n\r\n                          {/* AI Image Generation */}\r\n                          {autoFormData.mediaType === 'ai_image' && (\r\n                            <div className=\"ai-image-section\">\r\n                              <div className=\"form-group\">\r\n                                <label>Image Prompt</label>\r\n                                <input\r\n                                  type=\"text\"\r\n                                  name=\"imagePrompt\"\r\n                                  value={autoFormData.imagePrompt}\r\n                                  onChange={handleAutoInputChange}\r\n                                  placeholder=\"Describe the image you want to generate...\"\r\n                                  className=\"form-input\"\r\n                                />\r\n                              </div>\r\n                              <div className=\"form-group\">\r\n                                <button\r\n                                  onClick={() => generateImage('auto')}\r\n                                  disabled={!autoFormData.imagePrompt.trim() || autoFormData.isGeneratingImage}\r\n                                  className=\"btn btn-secondary\"\r\n                                >\r\n                                  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                    <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"/>\r\n                                    <circle cx=\"8.5\" cy=\"8.5\" r=\"1.5\"/>\r\n                                    <polyline points=\"21,15 16,10 5,21\"/>\r\n                                  </svg>\r\n                                  {autoFormData.isGeneratingImage ? 'Generating...' : 'Generate Image'}\r\n                                </button>\r\n                              </div>\r\n                              {autoFormData.generatedImageUrl && (\r\n                                <div className=\"form-group\">\r\n                                  <label>Generated Image</label>\r\n                                  <div className=\"image-preview\">\r\n                                    <img \r\n                                      src={autoFormData.generatedImageUrl} \r\n                                      alt=\"Generated\" \r\n                                      className=\"preview-image\"\r\n                                    />\r\n                                  </div>\r\n                                </div>\r\n                              )}\r\n                            </div>\r\n                          )}\r\n\r\n                          {/* Generate Both Button */}\r\n                          <div className=\"form-group\">\r\n                            <button\r\n                              onClick={generateImageWithCaption}\r\n                              disabled={!autoFormData.prompt.trim() || autoFormData.isGenerating || autoFormData.isGeneratingImage}\r\n                              className=\"btn btn-success\"\r\n                            >\r\n                              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"/>\r\n                              </svg>\r\n                              Generate Content + Image\r\n                            </button>\r\n                          </div>\r\n\r\n                          {/* Publish Button */}\r\n                          <div className=\"form-group\">\r\n                            <button\r\n                              onClick={publishPost}\r\n                              disabled={!autoFormData.generatedContent || isPublishing}\r\n                              className=\"btn btn-primary btn-large\"\r\n                            >\r\n                              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                <path d=\"M22 2L11 13\"/>\r\n                                <polygon points=\"22,2 15,22 11,13 2,9\"/>\r\n                              </svg>\r\n                              {isPublishing ? 'Publishing...' : 'Publish Post'}\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                        {/* AI Generate Post History */}\r\n                        <div className=\"post-history\">\r\n                          <div className=\"post-history-header\">\r\n                            <h3>AI Generated Posts ({autoPostHistory.length})</h3>\r\n                            <button\r\n                              onClick={loadPostHistory}\r\n                              disabled={isLoadingPosts}\r\n                              className=\"btn btn-secondary btn-small\"\r\n                            >\r\n                              <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                <path d=\"M23 4v6h-6\"/>\r\n                                <path d=\"M20.49 15a9 9 0 1 1-2.12-9.36L23 10\"/>\r\n                              </svg>\r\n                              Refresh\r\n                            </button>\r\n                          </div>\r\n                          {isLoadingPosts ? (\r\n                            <div className=\"loading-posts\">\r\n                              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                <path d=\"M21 12a9 9 0 11-6.219-8.56\"/>\r\n                              </svg>\r\n                              Loading posts...\r\n                            </div>\r\n                          ) : autoPostHistory.length > 0 ? (\r\n                            <div className=\"posts-list\">\r\n                              {autoPostHistory.map((post, index) => (\r\n                                <div key={index} className=\"post-item\">\r\n                                  <div className=\"post-content\">\r\n                                    <p>{post.content}</p>\r\n                                    {post.media_urls && post.media_urls.length > 0 && (\r\n                                      <div className=\"post-media\">\r\n                                        <img src={post.media_urls[0]} alt=\"Post media\" className=\"post-image\" />\r\n                                      </div>\r\n                                    )}\r\n                                  </div>\r\n                                  <div className=\"post-meta\">\r\n                                    <span className=\"post-date\">\r\n                                      {new Date(post.created_at || post.next_execution).toLocaleDateString()}\r\n                                    </span>\r\n                                    <span className={`post-status ${post.status}`}>{post.status}</span>\r\n                                  </div>\r\n                                </div>\r\n                              ))}\r\n                            </div>\r\n                          ) : (\r\n                            <div className=\"no-posts\">\r\n                              <svg width=\"48\" height=\"48\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1\">\r\n                                <path d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"/>\r\n                              </svg>\r\n                              <p>No AI generated posts yet. Create your first post!</p>\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </>\r\n                    )}\r\n                    {/* Manual Post Tab */}\r\n                    {activeTab === 'manual' && (\r\n                      <>\r\n                        <div className=\"manual-post-form\">\r\n                          <h3>Manual Post</h3>\r\n                          \r\n                          {/* Message Input */}\r\n                          <div className=\"form-group\">\r\n                            <label>Post Message</label>\r\n                            <textarea\r\n                              name=\"message\"\r\n                              value={manualFormData.message}\r\n                              onChange={handleManualInputChange}\r\n                              placeholder=\"What's on your mind?\"\r\n                              className=\"form-textarea\"\r\n                              rows=\"4\"\r\n                            />\r\n                          </div>\r\n\r\n                          {/* Media Options */}\r\n                          <div className=\"form-group\">\r\n                            <label>Media Options</label>\r\n                            <div className=\"media-options\">\r\n                              <button\r\n                                type=\"button\"\r\n                                className={`media-option ${manualFormData.mediaType === 'none' ? 'active' : ''}`}\r\n                                onClick={() => handleMediaTypeChange('none', 'manual')}\r\n                              >\r\n                                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                  <path d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"/>\r\n                                  <polyline points=\"14,2 14,8 20,8\"/>\r\n                                  <line x1=\"16\" y1=\"13\" x2=\"8\" y2=\"13\"/>\r\n                                  <line x1=\"16\" y1=\"17\" x2=\"8\" y2=\"17\"/>\r\n                                  <polyline points=\"10,9 9,9 8,9\"/>\r\n                                </svg>\r\n                                Text Only\r\n                              </button>\r\n                              <button\r\n                                type=\"button\"\r\n                                className={`media-option ${manualFormData.mediaType === 'photo' ? 'active' : ''}`}\r\n                                onClick={() => handleMediaTypeChange('photo', 'manual')}\r\n                              >\r\n                                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                  <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"/>\r\n                                  <circle cx=\"8.5\" cy=\"8.5\" r=\"1.5\"/>\r\n                                  <polyline points=\"21,15 16,10 5,21\"/>\r\n                                </svg>\r\n                                Upload Photo\r\n                              </button>\r\n                              <button\r\n                                type=\"button\"\r\n                                className={`media-option ${manualFormData.mediaType === 'video' ? 'active' : ''}`}\r\n                                onClick={() => handleMediaTypeChange('video', 'manual')}\r\n                              >\r\n                                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                  <polygon points=\"23,7 16,12 23,17 23,7\"/>\r\n                                  <rect x=\"1\" y=\"5\" width=\"15\" height=\"14\" rx=\"2\" ry=\"2\"/>\r\n                                </svg>\r\n                                Upload Video\r\n                              </button>\r\n                            </div>\r\n                          </div>\r\n\r\n                          {/* Photo Upload */}\r\n                          {manualFormData.mediaType === 'photo' && (\r\n                            <div className=\"form-group\">\r\n                              <label>Upload Photo</label>\r\n                              <input\r\n                                type=\"file\"\r\n                                name=\"mediaFile\"\r\n                                accept=\"image/*\"\r\n                                onChange={handleManualInputChange}\r\n                                className=\"form-file-input\"\r\n                              />\r\n                              {manualFormData.mediaFile && (\r\n                                <div className=\"image-preview\">\r\n                                  <img \r\n                                    src={URL.createObjectURL(manualFormData.mediaFile)} \r\n                                    alt=\"Preview\" \r\n                                    className=\"preview-image\"\r\n                                  />\r\n                                </div>\r\n                              )}\r\n                            </div>\r\n                          )}\r\n\r\n                          {/* Video Upload */}\r\n                          {manualFormData.mediaType === 'video' && (\r\n                            <div className=\"form-group\">\r\n                              <label>Upload Video</label>\r\n                              <input\r\n                                type=\"file\"\r\n                                name=\"mediaFile\"\r\n                                accept=\"video/*\"\r\n                                onChange={handleManualInputChange}\r\n                                className=\"form-file-input\"\r\n                              />\r\n                              {manualFormData.mediaFile && (\r\n                                <div className=\"video-preview\">\r\n                                  <video \r\n                                    src={URL.createObjectURL(manualFormData.mediaFile)} \r\n                                    controls\r\n                                    className=\"preview-video\"\r\n                                    style={{ maxWidth: '100%', maxHeight: '300px' }}\r\n                                  />\r\n                                  <div className=\"video-info\">\r\n                                    <p>File: {manualFormData.mediaFile.name}</p>\r\n                                    <p>Size: {(manualFormData.mediaFile.size / (1024 * 1024)).toFixed(2)} MB</p>\r\n                                  </div>\r\n                                </div>\r\n                              )}\r\n                            </div>\r\n                          )}\r\n\r\n                          {/* Publish Button */}\r\n                          <div className=\"form-group\">\r\n                            <button\r\n                              onClick={publishPost}\r\n                              disabled={!manualFormData.message.trim() || isPublishing}\r\n                              className=\"btn btn-primary btn-large\"\r\n                            >\r\n                              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                <path d=\"M22 2L11 13\"/>\r\n                                <polygon points=\"22,2 15,22 11,13 2,9\"/>\r\n                              </svg>\r\n                              {isPublishing ? 'Publishing...' : 'Publish Post'}\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                        {/* Manual Post History */}\r\n                        <div className=\"post-history\">\r\n                          <div className=\"post-history-header\">\r\n                            <h3>Manual Posts ({manualPostHistory.length})</h3>\r\n                            <button\r\n                              onClick={loadPostHistory}\r\n                              disabled={isLoadingPosts}\r\n                              className=\"btn btn-secondary btn-small\"\r\n                            >\r\n                              <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                <path d=\"M23 4v6h-6\"/>\r\n                                <path d=\"M20.49 15a9 9 0 1 1-2.12-9.36L23 10\"/>\r\n                              </svg>\r\n                              Refresh\r\n                            </button>\r\n                          </div>\r\n                          {isLoadingPosts ? (\r\n                            <div className=\"loading-posts\">\r\n                              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                <path d=\"M21 12a9 9 0 11-6.219-8.56\"/>\r\n                              </svg>\r\n                              Loading posts...\r\n                            </div>\r\n                          ) : manualPostHistory.length > 0 ? (\r\n                            <div className=\"posts-list\">\r\n                              {manualPostHistory.map((post, index) => (\r\n                                <div key={index} className=\"post-item\">\r\n                                  <div className=\"post-content\">\r\n                                    <p>{post.content}</p>\r\n                                    {post.media_urls && post.media_urls.length > 0 && (\r\n                                      <div className=\"post-media\">\r\n                                        <img src={post.media_urls[0]} alt=\"Post media\" className=\"post-image\" />\r\n                                      </div>\r\n                                    )}\r\n                                  </div>\r\n                                  <div className=\"post-meta\">\r\n                                    <span className=\"post-date\">\r\n                                      {new Date(post.created_at || post.next_execution).toLocaleDateString()}\r\n                                    </span>\r\n                                    <span className={`post-status ${post.status}`}>{post.status}</span>\r\n                                  </div>\r\n                                </div>\r\n                              ))}\r\n                            </div>\r\n                          ) : (\r\n                            <div className=\"no-posts\">\r\n                              <svg width=\"48\" height=\"48\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1\">\r\n                                <path d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"/>\r\n                              </svg>\r\n                              <p>No manual posts yet. Create your first post!</p>\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </>\r\n                    )}\r\n                    {/* Bulk Composer Tab */}\r\n                    {activeTab === 'bulk' && showBulkComposer && (\r\n                      <BulkComposer \r\n                        selectedPage={selectedPage}\r\n                        availablePages={availablePages}\r\n                        onPageChange={setSelectedPage}\r\n                        onClose={() => {\r\n                          setShowBulkComposer(false);\r\n                          setActiveTab('auto');\r\n                        }}\r\n                      />\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* File Picker Modal */}\r\n      {showFilePicker && (\r\n        <div className=\"modal-overlay\" onClick={closeFilePicker}>\r\n          <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"modal-header\">\r\n              <h3>Select {filePickerType === 'photo' ? 'Photo' : 'Video'}</h3>\r\n              <button onClick={closeFilePicker} className=\"modal-close\">\r\n                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                  <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"/>\r\n                  <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"/>\r\n                </svg>\r\n              </button>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              <div className=\"file-picker-options\">\r\n                <div \r\n                  className=\"file-option\" \r\n                  onClick={() => document.getElementById('local-file-input').click()}\r\n                  onTouchStart={(e) => e.preventDefault()}\r\n                >\r\n                  <div className=\"file-option-icon\">\r\n                    <svg width=\"32\" height=\"32\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                      <path d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"/>\r\n                      <polyline points=\"14,2 14,8 20,8\"/>\r\n                      <line x1=\"16\" y1=\"13\" x2=\"8\" y2=\"13\"/>\r\n                      <line x1=\"16\" y1=\"17\" x2=\"8\" y2=\"17\"/>\r\n                      <polyline points=\"10,9 9,9 8,9\"/>\r\n                    </svg>\r\n                  </div>\r\n                  <div className=\"file-option-content\">\r\n                    <h4>Local System</h4>\r\n                    <p>Select a file from your computer</p>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div \r\n                  className={`file-option ${!googleDriveAvailable ? 'disabled' : ''}`} \r\n                  onClick={handleGoogleDriveSelect}\r\n                  onTouchStart={(e) => {\r\n                    if (!googleDriveAvailable) {\r\n                      e.preventDefault();\r\n                      return;\r\n                    }\r\n                    e.preventDefault();\r\n                    handleGoogleDriveSelect();\r\n                  }}\r\n                >\r\n                  <div className=\"file-option-icon\">\r\n                    <svg width=\"32\" height=\"32\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                      <path d=\"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\"/>\r\n                      <polyline points=\"9,22 9,12 15,12 15,22\"/>\r\n                    </svg>\r\n                  </div>\r\n                  <div className=\"file-option-content\">\r\n                    <h4>Google Drive</h4>\r\n                    <p>\r\n                      {googleDriveAvailable \r\n                        ? 'Select a file from your Google Drive' \r\n                        : 'Google Drive not configured. See setup guide.'\r\n                      }\r\n                    </p>\r\n                    {isLoadingGoogleDrive && (\r\n                      <div className=\"loading-indicator\">\r\n                        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                          <path d=\"M21 12a9 9 0 11-6.219-8.56\"/>\r\n                        </svg>\r\n                        Loading...\r\n                      </div>\r\n                    )}\r\n                    {!googleDriveAvailable && (\r\n                      <div className=\"unavailable-indicator\">\r\n                        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                          <circle cx=\"12\" cy=\"12\" r=\"10\"/>\r\n                          <line x1=\"15\" y1=\"9\" x2=\"9\" y2=\"15\"/>\r\n                          <line x1=\"9\" y1=\"9\" x2=\"15\" y2=\"15\"/>\r\n                        </svg>\r\n                        Not Available\r\n                      </div>\r\n                    )}\r\n                    {googleDriveAvailable && (\r\n                      <div className=\"drive-actions\">\r\n                        <button \r\n                          className=\"debug-drive-btn\"\r\n                          onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            debugGoogleDrive();\r\n                          }}\r\n                          title=\"Debug Google Drive\"\r\n                        >\r\n                          <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                            <circle cx=\"12\" cy=\"12\" r=\"10\"/>\r\n                            <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"12\"/>\r\n                            <circle cx=\"12\" cy=\"16\" r=\"1\"/>\r\n                          </svg>\r\n                          Debug\r\n                        </button>\r\n                        <button \r\n                          className=\"test-images-btn\"\r\n                          onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            testGoogleDriveImages();\r\n                          }}\r\n                          title=\"Test Images/Videos\"\r\n                        >\r\n                          <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                            <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"/>\r\n                            <circle cx=\"8.5\" cy=\"8.5\" r=\"1.5\"/>\r\n                            <polyline points=\"21,15 16,10 5,21\"/>\r\n                          </svg>\r\n                          Test Images\r\n                        </button>\r\n                        <button \r\n                          className=\"clear-tokens-btn\"\r\n                          onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            clearGoogleDriveTokens();\r\n                          }}\r\n                          title=\"Clear Google Drive Tokens\"\r\n                        >\r\n                          <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                            <path d=\"M3 6h18\"/>\r\n                            <path d=\"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6\"/>\r\n                            <path d=\"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2\"/>\r\n                          </svg>\r\n                          Clear\r\n                        </button>\r\n                        <button \r\n                          className=\"disconnect-drive-btn\"\r\n                          onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            disconnectGoogleDrive();\r\n                          }}\r\n                          title=\"Disconnect Google Drive\"\r\n                        >\r\n                          <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                            <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"/>\r\n                            <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"/>\r\n                          </svg>\r\n                          Disconnect\r\n                        </button>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              {/* Hidden file input for local file selection */}\r\n              <input\r\n                id=\"local-file-input\"\r\n                type=\"file\"\r\n                accept={filePickerType === 'photo' ? 'image/*' : 'video/*'}\r\n                onChange={handleLocalFileSelect}\r\n                style={{ display: 'none' }}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FacebookPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}