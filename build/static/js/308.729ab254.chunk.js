"use strict";(self.webpackChunkautomation_dashboard=self.webpackChunkautomation_dashboard||[]).push([[308],{308:(e,n,s)=>{s.r(n),s.d(n,{default:()=>d});var i=s(43),c=s(615),t=s(16),a=s(726),o=s(579);const d=()=>{const e=(0,c.Zp)(),{isAuthenticated:n,logout:s}=(0,t.A)(),[d,r]=(0,i.useState)(!1),[l,h]=(0,i.useState)(""),[u,m]=(0,i.useState)(!1),[x,v]=(0,i.useState)("Ready to connect LinkedIn"),[g,j]=(0,i.useState)([]),[f,p]=(0,i.useState)(null),L={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_DEVELOPER_KEY:"AIzaSyBrhx2_rqwr3LFnM9L_21KJQHc3g0nVznM",REACT_APP_INSTAGRAM_APP_ID:"697225659875731",REACT_APP_WS_URL:"wss://localhost:8000"}.REACT_APP_LINKEDIN_REDIRECT_URI||"http://localhost:3000/linkedin";(0,i.useEffect)(()=>{n?(_(),I(),k()):e("/login")},[n,e]);const k=async()=>{try{const e=await a.A.getLinkedInConfig();p(e)}catch(e){console.error("Error fetching LinkedIn config:",e),h("Failed to load LinkedIn configuration")}},I=()=>{const e=new URLSearchParams(window.location.search),n=e.get("code"),s=e.get("state"),i=e.get("error");if(i)h(`LinkedIn authorization failed: ${i}`);else if(n&&s){s===localStorage.getItem("linkedin_oauth_state")?(r(!0),h("Processing LinkedIn authorization..."),C(n),window.history.replaceState({},document.title,window.location.pathname),localStorage.removeItem("linkedin_oauth_state")):h("LinkedIn authorization state mismatch")}},C=async e=>{try{const n=await a.A.exchangeLinkedInCode(e);n.success&&(m(!0),j([{id:n.profile.id,name:`${n.profile.firstName} ${n.profile.lastName}`,profilePicture:n.profile.profilePicture}]),v("LinkedIn account connected successfully!"),h("LinkedIn account connected successfully!"))}catch(n){console.error("Error exchanging code for token:",n),h(`Failed to connect LinkedIn: ${n.message}`),v("Connection failed")}finally{r(!1)}},_=async()=>{try{const e=await a.A.getLinkedInStatus();e.connected&&(m(!0),j(e.accounts||[]),v("LinkedIn account already connected"))}catch(e){console.log("LinkedIn not connected yet:",e.message)}},N=async()=>{try{r(!0),await a.A.disconnectLinkedIn(),m(!1),j([]),v("LinkedIn account disconnected"),h("LinkedIn account disconnected successfully!")}catch(e){console.error("Error disconnecting LinkedIn:",e),h(`Failed to disconnect LinkedIn: ${e.message}`)}finally{r(!1)}};return n?(0,o.jsxs)("div",{className:"linkedin-page",children:[(0,o.jsx)("div",{className:"page-header",children:(0,o.jsx)("div",{className:"header-content",children:(0,o.jsxs)("div",{className:"platform-info",children:[(0,o.jsx)("div",{className:"platform-icon linkedin",children:(0,o.jsx)("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"currentColor",children:(0,o.jsx)("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})}),(0,o.jsxs)("div",{className:"platform-details",children:[(0,o.jsx)("h1",{children:"LinkedIn Integration"}),(0,o.jsx)("p",{children:"Connect your LinkedIn account to automate posts and engagement"})]})]})})}),(0,o.jsxs)("div",{className:"page-content",children:[(0,o.jsxs)("div",{className:"connection-section",children:[(0,o.jsx)("div",{className:x.includes("Failed")||x.includes("error")||x.includes("Error")?"status-card error":x.includes("successful")||x.includes("Connected")||x.includes("completed")?"status-card success":"status-card info",children:(0,o.jsxs)("div",{className:"status-content",children:[(0,o.jsx)("div",{className:"status-icon",children:u?(0,o.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:(0,o.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})}):(0,o.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:(0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),(0,o.jsxs)("div",{className:"status-text",children:[(0,o.jsx)("h3",{children:u?"LinkedIn Connected":"LinkedIn Not Connected"}),(0,o.jsx)("p",{children:x})]})]})}),u?(0,o.jsxs)("div",{className:"connected-accounts",children:[(0,o.jsx)("h3",{children:"Connected Accounts"}),g.map(e=>(0,o.jsxs)("div",{className:"account-card",children:[(0,o.jsxs)("div",{className:"account-info",children:[e.profilePicture&&(0,o.jsx)("img",{src:e.profilePicture,alt:e.name,className:"profile-picture"}),(0,o.jsxs)("div",{className:"account-details",children:[(0,o.jsx)("h4",{children:e.name}),(0,o.jsx)("p",{children:"LinkedIn Profile"})]})]}),(0,o.jsx)("button",{onClick:N,disabled:d,className:"btn secondary disconnect-btn",children:d?"Disconnecting...":"Disconnect"})]},e.id))]}):(0,o.jsx)("div",{className:"connection-actions",children:(0,o.jsx)("button",{onClick:()=>{if(f&&f.client_id){r(!0),h("Redirecting to LinkedIn...");try{const e=Math.random().toString(36).substring(7),n="r_liteprofile r_emailaddress w_member_social",s=`https://www.linkedin.com/oauth/v2/authorization?response_type=code&client_id=${f.client_id}&redirect_uri=${encodeURIComponent(L)}&state=${e}&scope=${encodeURIComponent(n)}`;localStorage.setItem("linkedin_oauth_state",e),window.location.href=s}catch(e){console.error("Error in LinkedIn login:",e),h("LinkedIn login error occurred"),r(!1)}}else h("LinkedIn Client ID not configured")},disabled:d||!f,className:"btn primary linkedin-btn",children:d?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"spinner"}),"Connecting..."]}):f?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,o.jsx)("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),"Connect LinkedIn"]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"spinner"}),"Loading..."]})})}),l&&(0,o.jsx)("div",{className:"message "+(l.includes("Error")||l.includes("Failed")?"error":"success"),children:l})]}),(0,o.jsxs)("div",{className:"features-section",children:[(0,o.jsx)("h3",{children:"LinkedIn Features"}),(0,o.jsxs)("div",{className:"features-grid",children:[(0,o.jsxs)("div",{className:"feature-card",children:[(0,o.jsx)("div",{className:"feature-icon",children:(0,o.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:(0,o.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})})}),(0,o.jsx)("h4",{children:"Auto-Posting"}),(0,o.jsx)("p",{children:"Schedule and automate LinkedIn posts"})]}),(0,o.jsxs)("div",{className:"feature-card",children:[(0,o.jsx)("div",{className:"feature-icon",children:(0,o.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:(0,o.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"})})}),(0,o.jsx)("h4",{children:"Comment Management"}),(0,o.jsx)("p",{children:"Automatically respond to comments"})]}),(0,o.jsxs)("div",{className:"feature-card",children:[(0,o.jsx)("div",{className:"feature-icon",children:(0,o.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:(0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),(0,o.jsx)("h4",{children:"Analytics"}),(0,o.jsx)("p",{children:"Track post performance and engagement"})]})]})]})]})]}):(0,o.jsx)("div",{className:"page-container",children:(0,o.jsxs)("div",{className:"auth-required",children:[(0,o.jsx)("h1",{children:"Please login to continue"}),(0,o.jsx)("p",{children:"You need to be logged in to use LinkedIn automation features."}),(0,o.jsx)("button",{onClick:()=>e("/"),className:"btn primary",children:"Go to Login"})]})})}}}]);
//# sourceMappingURL=308.729ab254.chunk.js.map