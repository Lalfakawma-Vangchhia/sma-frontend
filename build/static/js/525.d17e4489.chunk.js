"use strict";(self.webpackChunkautomation_dashboard=self.webpackChunkautomation_dashboard||[]).push([[525],{525:(d,e,s)=>{s.r(e),s.d(e,{default:()=>l});var r=s(43),t=s(726),i=s(579);const l=()=>{const[d,e]=(0,r.useState)(null),[s,l]=(0,r.useState)(!1),[o,n]=(0,r.useState)(""),a=async()=>{l(!0);try{const d=await t.A.request("/social/debug/scheduled-posts-status");e(d),n("Debug info loaded successfully")}catch(d){console.error("Error fetching debug info:",d),n("Failed to load debug info: "+d.message)}finally{l(!1)}};(0,r.useEffect)(()=>{a()},[]);const c=d=>{switch(d){case"scheduled":return"#007bff";case"posted":return"#28a745";case"failed":return"#dc3545";default:return"#6c757d"}};return(0,i.jsxs)("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif"},children:[(0,i.jsx)("h2",{children:"Instagram Scheduler Debug"}),(0,i.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,i.jsx)("button",{onClick:a,disabled:s,style:{marginRight:"10px",padding:"8px 16px"},children:s?"Loading...":"Refresh Debug Info"}),(0,i.jsx)("button",{onClick:async()=>{l(!0);try{const d=await t.A.request("/social/debug/trigger-scheduler",{method:"POST"});n("Scheduler triggered successfully: "+d.message),setTimeout(a,2e3)}catch(d){console.error("Error triggering scheduler:",d),n("Failed to trigger scheduler: "+d.message)}finally{l(!1)}},disabled:s,style:{padding:"8px 16px",backgroundColor:"#007bff",color:"white",border:"none"},children:s?"Triggering...":"Trigger Scheduler"})]}),o&&(0,i.jsx)("div",{style:{padding:"10px",marginBottom:"20px",backgroundColor:o.includes("Failed")?"#f8d7da":"#d4edda",border:"1px solid "+(o.includes("Failed")?"#f5c6cb":"#c3e6cb"),borderRadius:"4px"},children:o}),d&&(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{children:"System Status"}),(0,i.jsxs)("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f8f9fa",borderRadius:"4px"},children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Current Time (UTC):"})," ",new Date(d.current_time_utc).toLocaleString()]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Current Time (IST):"})," ",new Date(d.current_time_ist).toLocaleString()]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Total Posts:"})," ",d.total_posts]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Due Posts:"})," ",d.due_posts_count]})]}),d.due_posts_count>0&&(0,i.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,i.jsx)("h4",{children:"Posts Due for Execution"}),(0,i.jsx)("div",{style:{backgroundColor:"#fff3cd",padding:"10px",borderRadius:"4px",border:"1px solid #ffeaa7"},children:d.due_posts.map(d=>(0,i.jsxs)("div",{style:{marginBottom:"5px"},children:[(0,i.jsxs)("strong",{children:["Post ",d.id,":"]})," ",d.caption,(0,i.jsxs)("span",{style:{color:"#666",fontSize:"0.9em"},children:["(",d.post_type," - ",new Date(d.scheduled_datetime).toLocaleString(),")"]})]},d.id))})]}),(0,i.jsx)("h3",{children:"All Scheduled Posts"}),(0,i.jsx)("div",{style:{overflowX:"auto"},children:(0,i.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",border:"1px solid #ddd"},children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{style:{backgroundColor:"#f8f9fa"},children:[(0,i.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd"},children:"ID"}),(0,i.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd"},children:"Caption"}),(0,i.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd"},children:"Type"}),(0,i.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd"},children:"Status"}),(0,i.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd"},children:"Active"}),(0,i.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd"},children:"Scheduled Time"}),(0,i.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd"},children:"Due"}),(0,i.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd"},children:"Has Media"})]})}),(0,i.jsx)("tbody",{children:d.posts.map(d=>(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd"},children:d.id}),(0,i.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd",maxWidth:"200px"},children:d.caption}),(0,i.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd"},children:d.post_type}),(0,i.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd",color:c(d.status),fontWeight:"bold"},children:d.status}),(0,i.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd"},children:d.is_active?"\u2705":"\u274c"}),(0,i.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd"},children:d.scheduled_datetime?new Date(d.scheduled_datetime).toLocaleString():"N/A"}),(0,i.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd"},children:d.is_due?"\ud83d\udd14":"\u23f3"}),(0,i.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd"},children:d.has_media?"\u2705":"\u274c"})]},d.id))})]})})]})]})}}}]);
//# sourceMappingURL=525.d17e4489.chunk.js.map